interactions:
- request:
    body: '{"properties": {"providerAuthentication": {"allowedAudiences": ["https://management.core.windows.net/"]},
      "providerAuthorizations": [{"applicationId": "3d834152-5efa-46f7-85a4-a18c2b5d46f9",
      "roleDefinitionId": "760505bf-dcfa-4311-b890-18da392a00b2"}], "namespace": "Microsoft.Contoso",
      "providerVersion": "2.0", "providerType": "Internal", "management": {"incidentRoutingService":
      "Contoso Resource Provider", "incidentRoutingTeam": "Contoso Triage", "incidentContactEmail":
      "helpme@contoso.com", "serviceTreeInfos": [{"serviceId": "6f53185c-ea09-4fc3-9075-318dec805303",
      "componentId": "6f53185c-ea09-4fc3-9075-318dec805303"}]}, "capabilities": [{"quotaId":
      "CSP_2015-05-01", "effect": "Allow"}, {"quotaId": "CSP_MG_2017-12-01", "effect":
      "Allow"}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - providerhub provider-registration create
      Connection:
      - keep-alive
      Content-Length:
      - '752'
      Content-Type:
      - application/json
      ParameterSetName:
      - --provider-authorizations --namespace --provider-authentication --service-tree-infos
        --capabilities --capabilities --incident-contact-email --incident-routing-service
        --incident-routing-team --provider-type --provider-version --provider-namespace
      User-Agent:
      - AZURECLI/2.15.0 azsdk-python-providerhub/unknown Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.ProviderHub/providerRegistrations/Microsoft.Contoso?api-version=2020-11-20
  response:
    body:
      string: '{"properties":{"provisioningState":"Succeeded","providerAuthentication":{"allowedAudiences":["https://management.core.windows.net/"]},"providerAuthorizations":[{"applicationId":"3d834152-5efa-46f7-85a4-a18c2b5d46f9","roleDefinitionId":"760505bf-dcfa-4311-b890-18da392a00b2"}],"namespace":"Microsoft.Contoso","providerVersion":"2.0","providerType":"Internal","management":{"manifestOwners":["SPARTA-PlatformServiceAdministrator"],"incidentRoutingService":"Contoso
        Resource Provider","incidentRoutingTeam":"Contoso Triage","incidentContactEmail":"helpme@contoso.com","serviceTreeInfos":[{"serviceId":"6f53185c-ea09-4fc3-9075-318dec805303","componentId":"6f53185c-ea09-4fc3-9075-318dec805303"}],"resourceAccessPolicy":"NotSpecified"},"capabilities":[{"quotaId":"CSP_2015-05-01","effect":"Allow"},{"quotaId":"CSP_MG_2017-12-01","effect":"Allow"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '844'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 09 Jan 2021 01:33:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - providerhub provider-registration show
      Connection:
      - keep-alive
      ParameterSetName:
      - --provider-namespace
      User-Agent:
      - AZURECLI/2.15.0 azsdk-python-providerhub/unknown Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.ProviderHub/providerRegistrations/Microsoft.Contoso?api-version=2020-11-20
  response:
    body:
      string: '{"properties":{"provisioningState":"Succeeded","providerAuthentication":{"allowedAudiences":["https://management.core.windows.net/"]},"providerAuthorizations":[{"applicationId":"3d834152-5efa-46f7-85a4-a18c2b5d46f9","roleDefinitionId":"760505bf-dcfa-4311-b890-18da392a00b2"}],"namespace":"Microsoft.Contoso","providerVersion":"2.0","providerType":"Internal","management":{"manifestOwners":["SPARTA-PlatformServiceAdministrator"],"incidentRoutingService":"Contoso
        Resource Provider","incidentRoutingTeam":"Contoso Triage","incidentContactEmail":"helpme@contoso.com","serviceTreeInfos":[{"serviceId":"6f53185c-ea09-4fc3-9075-318dec805303","componentId":"6f53185c-ea09-4fc3-9075-318dec805303"}],"resourceAccessPolicy":"NotSpecified"},"capabilities":[{"quotaId":"CSP_2015-05-01","effect":"Allow"},{"quotaId":"CSP_MG_2017-12-01","effect":"Allow"}],"metadata":null}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '860'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 09 Jan 2021 01:33:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - providerhub provider-registration list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g
      User-Agent:
      - AZURECLI/2.15.0 azsdk-python-providerhub/unknown Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.ProviderHub/providerRegistrations?api-version=2020-11-20
  response:
    body:
      string: '{"value":[{"subscriptionId":"6f53185c-ea09-4fc3-9075-318dec805303","namespace":"Microsoft.Contoso","providerAuthentication":{"allowedAudiences":["https://management.core.windows.net/"]},"providerAuthorizations":[{"applicationId":"3d834152-5efa-46f7-85a4-a18c2b5d46f9","roleDefinitionId":"760505bf-dcfa-4311-b890-18da392a00b2"}],"management":{"manifestOwners":["SPARTA-PlatformServiceAdministrator"],"incidentRoutingService":"Contoso
        Resource Provider","incidentRoutingTeam":"Contoso Triage","incidentContactEmail":"helpme@contoso.com","serviceTreeInfos":[{"serviceId":"6f53185c-ea09-4fc3-9075-318dec805303","componentId":"6f53185c-ea09-4fc3-9075-318dec805303"}],"resourceAccessPolicy":"NotSpecified"},"providerType":"Internal","providerVersion":"2.0","capabilities":[{"quotaId":"CSP_2015-05-01","effect":"Allow"},{"quotaId":"CSP_MG_2017-12-01","effect":"Allow"}],"provisioningState":"Succeeded","metadata":null,"partitionKey":"FIXED","id":"MICROSOFTCONTOSO","createdTime":"2021-01-09T01:33:11.9248772Z","changedTime":"2021-01-09T01:33:11.9248772Z","_ETag":"\"5305716e-0000-0700-0000-5ff907d80000\""}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1101'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 09 Jan 2021 01:33:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - providerhub provider-registration delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -y --provider-namespace
      User-Agent:
      - AZURECLI/2.15.0 azsdk-python-providerhub/unknown Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.ProviderHub/providerRegistrations/Microsoft.Contoso?api-version=2020-11-20
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 09 Jan 2021 01:33:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"providerAuthentication": {"allowedAudiences": ["https://management.core.windows.net/"]},
      "providerAuthorizations": [{"applicationId": "3d834152-5efa-46f7-85a4-a18c2b5d46f9",
      "roleDefinitionId": "760505bf-dcfa-4311-b890-18da392a00b2"}], "namespace": "Microsoft.Contoso",
      "providerVersion": "2.0", "providerType": "Internal", "management": {"incidentRoutingService":
      "Contoso Resource Provider", "incidentRoutingTeam": "Contoso Triage", "incidentContactEmail":
      "helpme@contoso.com", "serviceTreeInfos": [{"serviceId": "6f53185c-ea09-4fc3-9075-318dec805303",
      "componentId": "6f53185c-ea09-4fc3-9075-318dec805303"}]}, "capabilities": [{"quotaId":
      "CSP_2015-05-01", "effect": "Allow"}, {"quotaId": "CSP_MG_2017-12-01", "effect":
      "Allow"}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - providerhub provider-registration create
      Connection:
      - keep-alive
      Content-Length:
      - '752'
      Content-Type:
      - application/json
      ParameterSetName:
      - --provider-authorizations --namespace --provider-authentication --service-tree-infos
        --capabilities --capabilities --incident-contact-email --incident-routing-service
        --incident-routing-team --provider-type --provider-version --provider-namespace
      User-Agent:
      - AZURECLI/2.15.0 azsdk-python-providerhub/unknown Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.ProviderHub/providerRegistrations/Microsoft.Contoso?api-version=2020-11-20
  response:
    body:
      string: '{"properties":{"provisioningState":"Succeeded","providerAuthentication":{"allowedAudiences":["https://management.core.windows.net/"]},"providerAuthorizations":[{"applicationId":"3d834152-5efa-46f7-85a4-a18c2b5d46f9","roleDefinitionId":"760505bf-dcfa-4311-b890-18da392a00b2"}],"namespace":"Microsoft.Contoso","providerVersion":"2.0","providerType":"Internal","management":{"manifestOwners":["SPARTA-PlatformServiceAdministrator"],"incidentRoutingService":"Contoso
        Resource Provider","incidentRoutingTeam":"Contoso Triage","incidentContactEmail":"helpme@contoso.com","serviceTreeInfos":[{"serviceId":"6f53185c-ea09-4fc3-9075-318dec805303","componentId":"6f53185c-ea09-4fc3-9075-318dec805303"}],"resourceAccessPolicy":"NotSpecified"},"capabilities":[{"quotaId":"CSP_2015-05-01","effect":"Allow"},{"quotaId":"CSP_MG_2017-12-01","effect":"Allow"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '844'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 09 Jan 2021 01:33:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - providerhub provider-registration generate-operation
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --provider-namespace
      User-Agent:
      - AZURECLI/2.15.0 azsdk-python-providerhub/unknown Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.ProviderHub/providerRegistrations/Microsoft.Contoso/generateOperations?api-version=2020-11-20
  response:
    body:
      string: '[{"name":"Microsoft.Contoso/operations/read","isDataAction":false,"display":{"provider":"Microsoft.Contoso/","resource":"operations","operation":"Operations_List","description":"read
        operations"}},{"name":"Microsoft.Contoso/clusters/read","isDataAction":false,"display":{"provider":"Microsoft.Contoso/","resource":"clusters","operation":"clusters_Retrieve","description":"read
        clusters"}},{"name":"Microsoft.Contoso/clusters/write","isDataAction":false,"display":{"provider":"Microsoft.Contoso/","resource":"clusters","operation":"clusters_CreateOrUpdate","description":"write
        clusters"}},{"name":"Microsoft.Contoso/clusters/delete","isDataAction":false,"display":{"provider":"Microsoft.Contoso/","resource":"clusters","operation":"clusters_Delete","description":"delete
        clusters"}},{"name":"Microsoft.Contoso/clusters/write","isDataAction":false,"display":{"provider":"Microsoft.Contoso/","resource":"clusters","operation":"clusters_Update","description":"write
        clusters"}},{"name":"Microsoft.Contoso/clusters/read","isDataAction":false,"display":{"provider":"Microsoft.Contoso/","resource":"clusters","operation":"clusters_ListByResourceGroup","description":"read
        clusters"}},{"name":"Microsoft.Contoso/clusters/read","isDataAction":false,"display":{"provider":"Microsoft.Contoso/","resource":"clusters","operation":"clusters_ListBySubscription","description":"read
        clusters"}},{"name":"Microsoft.Contoso/towers/read","isDataAction":false,"display":{"provider":"Microsoft.Contoso/","resource":"towers","operation":"Towers_Get","description":"read
        towers"}},{"name":"Microsoft.Contoso/towers/write","isDataAction":false,"display":{"provider":"Microsoft.Contoso/","resource":"towers","operation":"Towers_CreateOrUpdate","description":"write
        towers"}},{"name":"Microsoft.Contoso/towers/delete","isDataAction":false,"display":{"provider":"Microsoft.Contoso/","resource":"towers","operation":"Towers_Delete","description":"delete
        towers"}},{"name":"Microsoft.Contoso/towers/write","isDataAction":false,"display":{"provider":"Microsoft.Contoso/","resource":"towers","operation":"Towers_Update","description":"write
        towers"}},{"name":"Microsoft.Contoso/towers/read","isDataAction":false,"display":{"provider":"Microsoft.Contoso/","resource":"towers","operation":"Towers_ListByResourceGroup","description":"read
        towers"}},{"name":"Microsoft.Contoso/towers/read","isDataAction":false,"display":{"provider":"Microsoft.Contoso/","resource":"towers","operation":"Towers_ListBySubscription","description":"read
        towers"}},{"name":"microsoft.contoso/employees/read","isDataAction":false,"display":{"provider":"microsoft.contoso/","resource":"employees","operation":"Employee_ListBySubscription","description":"Returns
        list of employees."}},{"name":"microsoft.contoso/employees/read","isDataAction":false,"display":{"provider":"microsoft.contoso/","resource":"employees","operation":"Employee_List","description":"Returns
        list of employees."}},{"name":"microsoft.contoso/employees/read","isDataAction":false,"display":{"provider":"microsoft.contoso/","resource":"employees","operation":"Employee_Get","description":"Returns
        employee resource for a given name."}},{"name":"microsoft.contoso/employees/write","isDataAction":false,"display":{"provider":"microsoft.contoso/","resource":"employees","operation":"Employee_CreateAndUpdate","description":"Create
        or update employee resource."}},{"name":"microsoft.contoso/employees/delete","isDataAction":false,"display":{"provider":"microsoft.contoso/","resource":"employees","operation":"Employee_Delete","description":"Deletes
        employee resource for a given name."}},{"name":"microsoft.contoso/employees/write","isDataAction":false,"display":{"provider":"microsoft.contoso/","resource":"employees","operation":"Employees_Update","description":"Update
        employee details."}},{"name":"microsoft.contoso/employees/nestedResourceType/read","isDataAction":false,"display":{"provider":"microsoft.contoso/","resource":"employees/nestedResourceType","operation":"NestedResourceType_Get","description":"Returns
        nested resources for a given employee name"}},{"name":"microsoft.contoso/employees/nestedResourceType/write","isDataAction":false,"display":{"provider":"microsoft.contoso/","resource":"employees/nestedResourceType","operation":"NestedResourceType_CreateAndUpdate","description":"Create
        or update nested resource type."}},{"name":"microsoft.contoso/employees/nestedResourceType/write","isDataAction":false,"display":{"provider":"microsoft.contoso/","resource":"employees/nestedResourceType","operation":"NestedResourceType_Update","description":"Update
        nested resource type details."}},{"name":"microsoft.contoso/employees/nestedResourceType/read","isDataAction":false,"display":{"provider":"microsoft.contoso/","resource":"employees/nestedResourceType","operation":"NestedResourceType_List","description":"Returns
        nested resources for a given employee name"}}]'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '4890'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 09 Jan 2021 01:33:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"routingType": "Default", "regionality": "Regional", "endpoints":
      [{"apiVersions": ["2018-11-01-preview", "2020-01-01-preview", "2019-01-01"],
      "locations": ["West US", "West Central US", "West Europe", "Southeast Asia",
      "West US 2", "East US 2 EUAP", "North Europe"], "requiredFeatures": ["Microsoft.Contoso/RPaaSSampleApp"]}],
      "swaggerSpecifications": [{"apiVersions": ["2018-11-01-preview", "2020-01-01-preview",
      "2019-01-01"], "swaggerSpecFolderUri": "https://github.com/Azure/azure-rest-api-specs-pr/blob/RPSaaSMaster/specification/rpsaas/resource-manager/Microsoft.Contoso/"}],
      "enableAsyncOperation": true, "resourceMovePolicy": {"validationRequired": false,
      "crossResourceGroupMoveEnabled": true, "crossSubscriptionMoveEnabled": true}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - providerhub resource-type-registration create
      Connection:
      - keep-alive
      Content-Length:
      - '759'
      Content-Type:
      - application/json
      ParameterSetName:
      - --endpoints --regionality --routing-type --swagger-specifications --provider-namespace
        --enable-async-operation --resource-move-policy --resource-type
      User-Agent:
      - AZURECLI/2.15.0 azsdk-python-providerhub/unknown Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.ProviderHub/providerRegistrations/Microsoft.Contoso/resourcetypeRegistrations/employees?api-version=2020-11-20
  response:
    body:
      string: '{"properties":{"name":"employees","routingType":"Default","regionality":"Regional","endpoints":[{"apiVersions":["2018-11-01-preview","2020-01-01-preview","2019-01-01"],"locations":["West
        US","West Central US","West Europe","Southeast Asia","West US 2","East US
        2 EUAP","North Europe"],"requiredFeatures":["Microsoft.Contoso/RPaaSSampleApp"]}],"swaggerSpecifications":[{"apiVersions":["2018-11-01-preview","2020-01-01-preview","2019-01-01"],"swaggerSpecFolderUri":"https://github.com/Azure/azure-rest-api-specs-pr/blob/RPSaaSMaster/specification/rpsaas/resource-manager/Microsoft.Contoso/"}],"enableAsyncOperation":true,"provisioningState":"Succeeded","enableThirdPartyS2S":false,"resourceMovePolicy":{"validationRequired":false,"crossResourceGroupMoveEnabled":true,"crossSubscriptionMoveEnabled":true}},"name":"employees"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '822'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 09 Jan 2021 01:33:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - providerhub resource-type-registration show
      Connection:
      - keep-alive
      ParameterSetName:
      - --provider-namespace --resource-type
      User-Agent:
      - AZURECLI/2.15.0 azsdk-python-providerhub/unknown Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.ProviderHub/providerRegistrations/Microsoft.Contoso/resourcetypeRegistrations/employees?api-version=2020-11-20
  response:
    body:
      string: '{"properties":{"name":"employees","routingType":"Default","regionality":"Regional","endpoints":[{"apiVersions":["2018-11-01-preview","2020-01-01-preview","2019-01-01"],"locations":["West
        US","West Central US","West Europe","Southeast Asia","West US 2","East US
        2 EUAP","North Europe"],"requiredFeatures":["Microsoft.Contoso/RPaaSSampleApp"]}],"swaggerSpecifications":[{"apiVersions":["2018-11-01-preview","2020-01-01-preview","2019-01-01"],"swaggerSpecFolderUri":"https://github.com/Azure/azure-rest-api-specs-pr/blob/RPSaaSMaster/specification/rpsaas/resource-manager/Microsoft.Contoso/"}],"enableAsyncOperation":true,"provisioningState":"Succeeded","enableThirdPartyS2S":false,"resourceMovePolicy":{"validationRequired":false,"crossResourceGroupMoveEnabled":true,"crossSubscriptionMoveEnabled":true}},"name":"employees"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '822'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 09 Jan 2021 01:33:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - providerhub resource-type-registration list
      Connection:
      - keep-alive
      ParameterSetName:
      - --provider-namespace
      User-Agent:
      - AZURECLI/2.15.0 azsdk-python-providerhub/unknown Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.ProviderHub/providerRegistrations/Microsoft.Contoso/resourcetypeRegistrations?api-version=2020-11-20
  response:
    body:
      string: '{"value":[{"properties":{"name":"extensionresourcetype","routingType":"ProxyOnly,
        Extension","regionality":"Global","endpoints":[{"apiVersions":["2020-01-01-preview"],"locations":[""],"requiredFeatures":["Microsoft.Contoso/RPaaSSampleApp"]}],"swaggerSpecifications":[{"apiVersions":["2020-01-01-preview"],"swaggerSpecFolderUri":"https://github.com/Azure/azure-rest-api-specs-pr/blob/RPSaaSMaster/specification/contoso/resource-manager/Microsoft.Contoso/"}],"enableAsyncOperation":false,"provisioningState":"Succeeded","enableThirdPartyS2S":false},"name":"extensionresourcetype"},{"properties":{"name":"Operations","routingType":"ProxyOnly,
        Tenant","regionality":"Global","endpoints":[{"apiVersions":["2020-01-01-preview"],"locations":[""]}],"swaggerSpecifications":[{"apiVersions":["2020-01-01-preview"],"swaggerSpecFolderUri":"https://github.com/Azure/azure-rest-api-specs-pr/blob/RPSaaSMaster/specification/contoso/resource-manager/Microsoft.Contoso/"}],"allowedUnauthorizedActions":["microsoft.contoso/operations/read"],"enableAsyncOperation":false,"provisioningState":"Succeeded","enableThirdPartyS2S":false},"name":"Operations"},{"properties":{"name":"clusters","routingType":"Default","regionality":"Regional","endpoints":[{"apiVersions":["2020-01-01-preview"],"locations":["East
        US 2 EUAP"],"requiredFeatures":["Microsoft.Contoso/RPaaSBridge"],"extensions":[{"endpointUri":"https://k8bridge.canary.production.fusion.azure.com/","extensionCategories":["ResourceCreationBegin","ResourceDeletionBegin"]}]},{"apiVersions":["2020-01-01-preview"],"locations":["East
        US"],"requiredFeatures":["Microsoft.Contoso/RPaaSBridge"],"extensions":[{"endpointUri":"https://k8bridge.unitedstates.production.fusion.azure.com/","extensionCategories":["ResourceCreationBegin","ResourceDeletionBegin"]}]},{"apiVersions":["2020-01-01-preview"],"locations":["West
        Europe"],"requiredFeatures":["Microsoft.Contoso/RPaaSBridge"],"extensions":[{"endpointUri":"https://k8bridge.europe.production.fusion.azure.com/","extensionCategories":["ResourceCreationBegin","ResourceDeletionBegin"]}]}],"swaggerSpecifications":[{"apiVersions":["2020-01-01-preview"],"swaggerSpecFolderUri":"https://github.com/Azure/azure-rest-api-specs-pr/blob/RPSaaSMaster/specification/rpsaas/resource-manager/Microsoft.Contoso/"}],"enableAsyncOperation":false,"provisioningState":"Succeeded","enableThirdPartyS2S":false,"extendedLocations":[{"type":"CustomLocation","supportedPolicy":"NotSpecified"}]},"name":"clusters"},{"properties":{"name":"Locations","routingType":"ProxyOnly","regionality":"Global","endpoints":[{"apiVersions":["2020-01-01-preview"],"locations":[""]}],"swaggerSpecifications":[{"apiVersions":["2020-01-01-preview"],"swaggerSpecFolderUri":"https://github.com/Azure/azure-rest-api-specs-pr/blob/RPSaaSMaster/specification/rpsaas/resource-manager/Microsoft.Contoso/"}],"enableAsyncOperation":false,"provisioningState":"Succeeded","enableThirdPartyS2S":false},"name":"Locations"},{"properties":{"name":"locations/operationstatuses","routingType":"ProxyOnly,
        Tenant, LocationBased","regionality":"Regional","endpoints":[{"apiVersions":["2020-01-01-preview"],"locations":["East
        US 2 EUAP"]},{"apiVersions":["2020-01-01-preview"],"locations":["East US"]},{"apiVersions":["2020-01-01-preview"],"locations":["West
        Europe"]}],"swaggerSpecifications":[{"apiVersions":["2020-01-01-preview"],"swaggerSpecFolderUri":"https://github.com/Azure/azure-rest-api-specs-pr/blob/RPSaaSMaster/specification/rpsaas/resource-manager/Microsoft.Contoso/"}],"allowedUnauthorizedActions":["Microsoft.Contoso/Locations/OperationStatuses/read","Microsoft.Contoso/Locations/OperationStatuses/write"],"enableAsyncOperation":false,"provisioningState":"Succeeded","enableThirdPartyS2S":false},"name":"locations/operationstatuses"},{"properties":{"name":"towers","routingType":"Default","regionality":"Regional","endpoints":[{"apiVersions":["2020-01-01-preview"],"locations":["East
        US 2 EUAP"],"requiredFeatures":["Microsoft.Contoso/RPaaSBridge"],"extensions":[{"endpointUri":"https://k8bridge.canary.production.fusion.azure.com/","extensionCategories":["ResourceCreationBegin","ResourceDeletionBegin"]}]},{"apiVersions":["2020-01-01-preview"],"locations":["East
        US"],"requiredFeatures":["Microsoft.Contoso/RPaaSBridge"],"extensions":[{"endpointUri":"https://k8bridge.unitedstates.production.fusion.azure.com/","extensionCategories":["ResourceCreationBegin","ResourceDeletionBegin"]}]},{"apiVersions":["2020-01-01-preview"],"locations":["West
        Europe"],"requiredFeatures":["Microsoft.Contoso/RPaaSBridge"],"extensions":[{"endpointUri":"https://k8bridge.europe.production.fusion.azure.com/","extensionCategories":["ResourceCreationBegin","ResourceDeletionBegin"]}]}],"swaggerSpecifications":[{"apiVersions":["2020-01-01-preview"],"swaggerSpecFolderUri":"https://github.com/Azure/azure-rest-api-specs-pr/blob/RPSaaSMaster/specification/contoso/resource-manager/Microsoft.Contoso/"}],"enableAsyncOperation":true,"provisioningState":"Succeeded","enableThirdPartyS2S":false,"extendedLocations":[{"type":"CustomLocation","supportedPolicy":"NotSpecified"}]},"name":"towers"},{"properties":{"name":"employees","routingType":"Default","regionality":"Regional","endpoints":[{"apiVersions":["2018-11-01-preview","2020-01-01-preview","2019-01-01"],"locations":["West
        US","West Central US","West Europe","Southeast Asia","West US 2","East US
        2 EUAP","North Europe"],"requiredFeatures":["Microsoft.Contoso/RPaaSSampleApp"]}],"swaggerSpecifications":[{"apiVersions":["2018-11-01-preview","2020-01-01-preview","2019-01-01"],"swaggerSpecFolderUri":"https://github.com/Azure/azure-rest-api-specs-pr/blob/RPSaaSMaster/specification/rpsaas/resource-manager/Microsoft.Contoso/"}],"enableAsyncOperation":true,"provisioningState":"Succeeded","enableThirdPartyS2S":false,"resourceMovePolicy":{"validationRequired":false,"crossResourceGroupMoveEnabled":true,"crossSubscriptionMoveEnabled":true}},"name":"employees"},{"properties":{"name":"Employees/nestedresourcetype","routingType":"ProxyOnly","regionality":"Global","endpoints":[{"apiVersions":["2019-01-01"],"locations":[""]}],"swaggerSpecifications":[{"apiVersions":["2019-01-01"],"swaggerSpecFolderUri":"https://github.com/Azure/azure-rest-api-specs-pr/blob/RPSaaSMaster/specification/rpsaas/resource-manager/Microsoft.Contoso/"}],"enableAsyncOperation":false,"provisioningState":"Succeeded","enableThirdPartyS2S":false},"name":"Employees/nestedresourcetype"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '6428'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 09 Jan 2021 01:33:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - providerhub resource-type-registration delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -y --provider-namespace --resource-type
      User-Agent:
      - AZURECLI/2.15.0 azsdk-python-providerhub/unknown Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.ProviderHub/providerRegistrations/Microsoft.Contoso/resourcetypeRegistrations/employees?api-version=2020-11-20
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 09 Jan 2021 01:33:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"routingType": "Default", "regionality": "Regional", "endpoints":
      [{"apiVersions": ["2018-11-01-preview", "2020-01-01-preview", "2019-01-01"],
      "locations": ["West US", "West Central US", "West Europe", "Southeast Asia",
      "West US 2", "East US 2 EUAP", "North Europe"], "requiredFeatures": ["Microsoft.Contoso/RPaaSSampleApp"]}],
      "swaggerSpecifications": [{"apiVersions": ["2018-11-01-preview", "2020-01-01-preview",
      "2019-01-01"], "swaggerSpecFolderUri": "https://github.com/Azure/azure-rest-api-specs-pr/blob/RPSaaSMaster/specification/rpsaas/resource-manager/Microsoft.Contoso/"}],
      "enableAsyncOperation": true, "resourceMovePolicy": {"validationRequired": false,
      "crossResourceGroupMoveEnabled": true, "crossSubscriptionMoveEnabled": true}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - providerhub resource-type-registration create
      Connection:
      - keep-alive
      Content-Length:
      - '759'
      Content-Type:
      - application/json
      ParameterSetName:
      - --endpoints --regionality --routing-type --swagger-specifications --provider-namespace
        --enable-async-operation --resource-move-policy --resource-type
      User-Agent:
      - AZURECLI/2.15.0 azsdk-python-providerhub/unknown Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.ProviderHub/providerRegistrations/Microsoft.Contoso/resourcetypeRegistrations/employees?api-version=2020-11-20
  response:
    body:
      string: '{"properties":{"name":"employees","routingType":"Default","regionality":"Regional","endpoints":[{"apiVersions":["2018-11-01-preview","2020-01-01-preview","2019-01-01"],"locations":["West
        US","West Central US","West Europe","Southeast Asia","West US 2","East US
        2 EUAP","North Europe"],"requiredFeatures":["Microsoft.Contoso/RPaaSSampleApp"]}],"swaggerSpecifications":[{"apiVersions":["2018-11-01-preview","2020-01-01-preview","2019-01-01"],"swaggerSpecFolderUri":"https://github.com/Azure/azure-rest-api-specs-pr/blob/RPSaaSMaster/specification/rpsaas/resource-manager/Microsoft.Contoso/"}],"enableAsyncOperation":true,"provisioningState":"Succeeded","enableThirdPartyS2S":false,"resourceMovePolicy":{"validationRequired":false,"crossResourceGroupMoveEnabled":true,"crossSubscriptionMoveEnabled":true}},"name":"employees"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '822'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 09 Jan 2021 01:33:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - providerhub generate-manifest
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --provider-namespace
      User-Agent:
      - AZURECLI/2.15.0 azsdk-python-providerhub/unknown Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.ProviderHub/providerRegistrations/Microsoft.Contoso/generateManifest?api-version=2020-11-20
  response:
    body:
      string: '{"providerAuthentication":{"allowedAudiences":["https://management.core.windows.net/"]},"providerAuthorizations":[{"applicationId":"3d834152-5efa-46f7-85a4-a18c2b5d46f9","roleDefinitionId":"760505bf-dcfa-4311-b890-18da392a00b2"}],"namespace":"Microsoft.Contoso","providerVersion":"2.0","providerType":"Internal","resourceTypes":[{"name":"extensionresourcetype","routingType":"ProxyOnly,
        Extension","resourceValidation":"ReservedWords, ProfaneWords","endpoints":[{"apiVersions":["2020-01-01-preview"],"endpointUri":"https://global.metarp.azure.com/","locations":[""],"requiredFeatures":["Microsoft.Contoso/RPaaSSampleApp"],"timeout":"PT20S"}],"linkedOperationRules":[]},{"name":"Operations","routingType":"ProxyOnly,
        Tenant","resourceValidation":"ReservedWords, ProfaneWords","allowedUnauthorizedActions":["microsoft.contoso/operations/read"],"endpoints":[{"apiVersions":["2020-01-01-preview"],"endpointUri":"https://global.metarp.azure.com/","locations":[""],"timeout":"PT20S"}],"linkedOperationRules":[]},{"name":"clusters","routingType":"Default","resourceValidation":"ReservedWords,
        ProfaneWords","endpoints":[{"apiVersions":["2020-01-01-preview"],"endpointUri":"https://eastus2euap.metarp.azure.com/rolelocation/eastus2euap/","locations":["East
        US 2 EUAP"],"requiredFeatures":["Microsoft.Contoso/RPaaSBridge"],"timeout":"PT20S"},{"apiVersions":["2020-01-01-preview"],"endpointUri":"https://eastus.metarp.azure.com/rolelocation/eastus/","locations":["East
        US"],"requiredFeatures":["Microsoft.Contoso/RPaaSBridge"],"timeout":"PT20S"},{"apiVersions":["2020-01-01-preview"],"endpointUri":"https://westeurope.metarp.azure.com/rolelocation/westeurope/","locations":["West
        Europe"],"requiredFeatures":["Microsoft.Contoso/RPaaSBridge"],"timeout":"PT20S"}],"extendedLocations":[{"type":"CustomLocation","supportedPolicy":"NotSpecified"}],"linkedOperationRules":[]},{"name":"Locations","routingType":"ProxyOnly","resourceValidation":"ReservedWords,
        ProfaneWords","endpoints":[{"apiVersions":["2020-01-01-preview"],"endpointUri":"https://global.metarp.azure.com/","locations":[""],"timeout":"PT20S"}],"linkedOperationRules":[]},{"name":"locations/operationstatuses","routingType":"ProxyOnly,
        Tenant, LocationBased","resourceValidation":"ReservedWords, ProfaneWords","allowedUnauthorizedActions":["Microsoft.Contoso/Locations/OperationStatuses/read","Microsoft.Contoso/Locations/OperationStatuses/write"],"endpoints":[{"apiVersions":["2020-01-01-preview"],"endpointUri":"https://eastus2euap.metarp.azure.com/rolelocation/eastus2euap/","locations":["East
        US 2 EUAP"],"timeout":"PT20S"},{"apiVersions":["2020-01-01-preview"],"endpointUri":"https://eastus.metarp.azure.com/rolelocation/eastus/","locations":["East
        US"],"timeout":"PT20S"},{"apiVersions":["2020-01-01-preview"],"endpointUri":"https://westeurope.metarp.azure.com/rolelocation/westeurope/","locations":["West
        Europe"],"timeout":"PT20S"}],"linkedOperationRules":[]},{"name":"towers","routingType":"Default","resourceValidation":"ReservedWords,
        ProfaneWords","endpoints":[{"apiVersions":["2020-01-01-preview"],"endpointUri":"https://eastus2euap.metarp.azure.com/rolelocation/eastus2euap/","locations":["East
        US 2 EUAP"],"requiredFeatures":["Microsoft.Contoso/RPaaSBridge"],"timeout":"PT20S"},{"apiVersions":["2020-01-01-preview"],"endpointUri":"https://eastus.metarp.azure.com/rolelocation/eastus/","locations":["East
        US"],"requiredFeatures":["Microsoft.Contoso/RPaaSBridge"],"timeout":"PT20S"},{"apiVersions":["2020-01-01-preview"],"endpointUri":"https://westeurope.metarp.azure.com/rolelocation/westeurope/","locations":["West
        Europe"],"requiredFeatures":["Microsoft.Contoso/RPaaSBridge"],"timeout":"PT20S"}],"extendedLocations":[{"type":"CustomLocation","supportedPolicy":"NotSpecified"}],"linkedOperationRules":[]},{"name":"employees","routingType":"Default","resourceValidation":"ReservedWords,
        ProfaneWords","endpoints":[{"apiVersions":["2018-11-01-preview","2020-01-01-preview","2019-01-01"],"endpointUri":"https://westus.metarp.azure.com/rolelocation/westus/","locations":["West
        US"],"requiredFeatures":["Microsoft.Contoso/RPaaSSampleApp"],"timeout":"PT20S"},{"apiVersions":["2018-11-01-preview","2020-01-01-preview","2019-01-01"],"endpointUri":"https://westcentralus.metarp.azure.com/rolelocation/westcentralus/","locations":["West
        Central US"],"requiredFeatures":["Microsoft.Contoso/RPaaSSampleApp"],"timeout":"PT20S"},{"apiVersions":["2018-11-01-preview","2020-01-01-preview","2019-01-01"],"endpointUri":"https://westeurope.metarp.azure.com/rolelocation/westeurope/","locations":["West
        Europe"],"requiredFeatures":["Microsoft.Contoso/RPaaSSampleApp"],"timeout":"PT20S"},{"apiVersions":["2018-11-01-preview","2020-01-01-preview","2019-01-01"],"endpointUri":"https://southeastasia.metarp.azure.com/rolelocation/southeastasia/","locations":["Southeast
        Asia"],"requiredFeatures":["Microsoft.Contoso/RPaaSSampleApp"],"timeout":"PT20S"},{"apiVersions":["2018-11-01-preview","2020-01-01-preview","2019-01-01"],"endpointUri":"https://westus2.metarp.azure.com/rolelocation/westus2/","locations":["West
        US 2"],"requiredFeatures":["Microsoft.Contoso/RPaaSSampleApp"],"timeout":"PT20S"},{"apiVersions":["2018-11-01-preview","2020-01-01-preview","2019-01-01"],"endpointUri":"https://eastus2euap.metarp.azure.com/rolelocation/eastus2euap/","locations":["East
        US 2 EUAP"],"requiredFeatures":["Microsoft.Contoso/RPaaSSampleApp"],"timeout":"PT20S"},{"apiVersions":["2018-11-01-preview","2020-01-01-preview","2019-01-01"],"endpointUri":"https://northeurope.metarp.azure.com/rolelocation/northeurope/","locations":["North
        Europe"],"requiredFeatures":["Microsoft.Contoso/RPaaSSampleApp"],"timeout":"PT20S"}],"linkedOperationRules":[{"linkedOperation":"CrossResourceGroupResourceMove","linkedAction":"Enabled"},{"linkedOperation":"CrossSubscriptionResourceMove","linkedAction":"Enabled"}]}],"management":{"manifestOwners":["SPARTA-PlatformServiceAdministrator"],"incidentRoutingService":"Contoso
        Resource Provider","incidentRoutingTeam":"Contoso Triage","incidentContactEmail":"helpme@contoso.com","serviceTreeInfos":[{"serviceId":"6f53185c-ea09-4fc3-9075-318dec805303","componentId":"6f53185c-ea09-4fc3-9075-318dec805303"}],"resourceAccessPolicy":"NotSpecified"},"capabilities":[{"quotaId":"CSP_2015-05-01","effect":"Allow"},{"quotaId":"CSP_MG_2017-12-01","effect":"Allow"}],"metadata":{"onboardedVia":"ProviderHub"},"globalNotificationEndpoints":[{"enabled":true,"endpointUri":"https://global.metarp.azure.com"}],"reRegisterSubscriptionMetadata":{"enabled":true,"concurrencyLimit":100}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '6528'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 09 Jan 2021 01:33:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
version: 1
