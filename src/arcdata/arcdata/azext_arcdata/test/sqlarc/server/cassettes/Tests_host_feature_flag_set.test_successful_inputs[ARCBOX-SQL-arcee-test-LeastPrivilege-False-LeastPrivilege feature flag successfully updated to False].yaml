interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.31.0
    method: GET
    uri: https://mock-host/subscriptions/a5082b19-8a6e-4bc5-8fdd-8ef39dfebc39/resourceGroups/arcee-test/providers/Microsoft.HybridCompute/machines/ARCBOX-SQL/extensions/WindowsAgent.SqlServer?api-version=2023-03-15-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR8Xs
        o0cf3W3Wk2ZaF6u2qJbN3ez+zsHeZPfh9kH2ab69P5ne3z44n822D/Lzew9n5/lkeu/h3TpvqnU9
        zT+vq/WK3qFf8+02b9q7q7q6LGZ53dz9opjWVVOdt+NvX0/qYnZSLVbrNr+7yKbzYpk3d49fnTz5
        8vfefv0Tz+/m79p82XD/3y2Ws+qqOb7Il+349S8qX+f1ZV5/NPpomS1yQnfw+/Z6he9v7Nb1RS+V
        1TTDuOnFPGvaNT6jIazyui3y5qNHv/ij1XpSFs2cuvBhH/9gXedPszaj9trxRsS+nS1nZV7/JBFG
        etsd74737u/sjx8+pCbZuq2+Wl3U2Sz/olhWrt15Vjb56KN8mU3K/JhaLQjdqTb96FFbr+nbJm/b
        YnnB6J6+m5brWT4jBM6WTZstpxjG974/+og++SJbZhf5ghBE07PmlMESEwDOLxl99LyYEmnyN4Qw
        ofgyI/4wfZ+CaoCbT9d10V5/tZplNOEOw2b9nAgoH8/eFAtihmyxIjB7O3v3tnd3t3cfvNl9+Oje
        g0f3d36KwD7Ls5Zo+KzMgPj3fvFHL2R+n2MeXtbFZVHmFzk1FCQNjrbdi/xKQXTbfJ9GQnN4WYCE
        RJfXLaFEb7xeT4lNaQz0QqG0+ckivwItbslcG7+/YY6pQ/AXdTatMHcf7dCHZX6Zl/T72fK8qjG3
        9OLoIyJeQxNFnzPZAS79Qj57lJK8pNJv6r5ljB6l386zsp1fH6atmYCv3pykj1LMwd3d3bu7B6N0
        9+DR/d1H9w/Guwe7h+l6VVbZDCRaN9Twy9/r0HLZk2z6lqT7UfpqvQQdD1+u60ui18tyfVEsH6W/
        +JccshgcT9viMn9a1Pm0repr+/XvW/++yzT9fT/64jWh/Pr01U+evvp9P3pEH9B/9NUvOXyUPi8a
        GgHBTmkMq6pu051DSNUka/IvaPII3nE9NRD1E2oun6RbL6pWkbszSmk+mAzyJRD46HfDvFCnhEQo
        uqocMIfjL2g6ymZsx02fydBPquV5cbGu6cNq6eD/vh+Nft+P6pwQx+cv87qoZmfLp9l1Qz09oO+I
        +c6Je/FngMPraxrtYnxSlSWRit5txp/nS3p/OgYh/oDd733vZjRfz4lMb/J68cpg0Ef8pSDgUP7+
        9+l36R2iRfJAWNT582LCg/ndLrNyzfh+7/u/5JeMUp3odKWUJPWRMj5pRnhf5unMTHY69WkUvtA0
        xLJQNqmwF8+I+/TbNGSCwJ0SDiLCM/pTNAp9UtdVrWxPHxPXANcXpL9fT+f5bE2toWfoq+W6LOkr
        YgXpiT6ihpY3+D36hujm2tMwvwSrQZRI7X27Iq2j2BOabtKOa9CVm469tmY6vK877OJ947/4+35E
        PePDOI8HfTtuIEiAkddjp8Pdh6p5AHWMfzzQHaS+BkSmHun+VVUs26/qkjGbty1phrt327ykN9v6
        evyLd37JmPwAUv/UOY+2GU+rxd3g9ePV6gxT/Pt+dH9vf+f+QX5ve+/Bzh65GQ8Pth/e25tsT/Zm
        u7P8091757M9ItVHv+SX/JJf8v8AiXJJO6kIAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Sat, 18 Nov 2023 18:58:48 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Kestrel
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 26242c09-65ac-4a1b-b005-e7b30ec8deea
      x-ms-ratelimit-remaining-subscription-reads:
      - '11999'
      x-ms-request-id:
      - 15bc549d-5416-403c-a2ad-dd12cff7e4d2
      x-ms-routing-request-id:
      - CENTRALINDIA:20231118T185848Z:26242c09-65ac-4a1b-b005-e7b30ec8deea
    status:
      code: 200
      message: OK
- request:
    body: '{"id": "/subscriptions/a5082b19-8a6e-4bc5-8fdd-8ef39dfebc39/resourceGroups/arcee-test/providers/Microsoft.HybridCompute/machines/ARCBOX-SQL/extensions/WindowsAgent.SqlServer",
      "name": "WindowsAgent.SqlServer", "type": "Microsoft.HybridCompute/machines/extensions",
      "location": "eastus", "properties": {"publisher": "Microsoft.AzureData", "type":
      "WindowsAgent.SqlServer", "typeHandlerVersion": "1.1.2504.99", "autoUpgradeMinorVersion":
      false, "enableAutomaticUpgrade": true, "settings": {"ExcludedSqlInstances":
      [], "SqlManagement": {"IsEnabled": true}, "LicenseType": "Paid", "enableExtendedSecurityUpdates":
      false, "esuLastUpdatedTimestamp": "2023-11-17T19:37:50Z", "FeatureFlags": [{"Name":
      "LeastPrivilege", "Enable": "False"}, {"Name": "NewFeature", "Enable": true}]},
      "provisioningState": "Succeeded", "instanceView": {"name": "WindowsAgent.SqlServer",
      "type": "WindowsAgent.SqlServer", "typeHandlerVersion": "1.1.2504.99", "status":
      {"code": "0", "level": "Information", "message": "Extension Message: SQL Server
      Extension Agent: Healthy; timestampUTC : 2023/11/18, 18:51:58.181; uploadStatus
      : OK;AutomaticBackups: Running;PurviewPlugin: {};AzureActiveDirectoryPlugin:
      {\r\n  \"MSSQLSERVER\": \"\"\r\n};: Listening on port 0;DatabaseMonitorArcPlugin:
      MonitoringPlugin (NotRunning), SqlAgentPlugin: {\"$type\":\"Microsoft.Azure.Hybrid.Sql.Models.AutomaticSqlBackupConfiguration,
      SqlAgent\",\"retentionPeriodInDays\":7,\"profiles\":{\"$type\":\"System.Collections.Generic.List`1[[Microsoft.Azure.Hybrid.Sql.Models.ShortTermRetentionAutomaticSqlBackupProfile,
      SqlAgent]], System.Private.CoreLib\",\"$values\":[]}}, Purview plugin: [], Azure
      active directory configuration plugin: [], Assessment Status: {\"AssessmentHistory\":[],\"Enabled\":false,\"ErrorMessage\":\"\",\"NextScheduledTime\":null,\"RunStatus\":\"NotRunning\",\"StartTime\":null},
      ODataServiceHostPlugin: {\"$type\":\"ArcSqlOData.ServiceHost.Models.ArcSqlODataConfiguration,
      ArcSqlOData.ServiceHost\"}, DatabaseMonitorArcPlugin: {\"$type\":\"Microsoft.SqlServer.Management.SqlServerHandlerData.DatabaseMonitorConfiguration,
      Microsoft.SqlServer.Management.SqlServerHandlerData\",\"endpointUrl\":\"https://telemetry.{0}.arcdataservices.com/\",\"endpointAppId\":\"524058e3-2702-4b98-932b-b2d1de613fd2\"}"}}}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2275'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.31.0
    method: PUT
    uri: https://mock-host/subscriptions/a5082b19-8a6e-4bc5-8fdd-8ef39dfebc39/resourceGroups/arcee-test/providers/Microsoft.HybridCompute/machines/ARCBOX-SQL/extensions/WindowsAgent.SqlServer?api-version=2023-03-15-preview
  response:
    body:
      string: ''
    headers:
      Azure-AsyncOperation:
      - https://management.azure.com/subscriptions/a5082b19-8a6e-4bc5-8fdd-8ef39dfebc39/providers/Microsoft.HybridCompute/locations/eastus/operationstatus/6d752dd2-db50-4cc1-a82e-ed94e1c3d20e?api-version=2019-08-02-preview&t=638359307301190507&c=MIIHADCCBeigAwIBAgITHgOOZnSUesiIBulFwAAAA45mdDANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDYwHhcNMjMxMTAxMDUxOTQ3WhcNMjQxMDI2MDUxOTQ3WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOtwjRh-1G1a4yBlEy6M1AUa9Hq-Ri3r8iWBtdkLmcsejm48p6INIQx7aREhaizCEfvdoJpt69YKxHHg88zVFCZmcjwwXfyQKfZfKO2LZ0pWDws_OPuxD2zTIQHyZera5VZWwqn0El0Y7Vi7ROfDODi-_coovUwQhkUnnRqi1qHAWHn132H1R0LTlVpve9I6Osbib8lkRd6e4jrVrCT96iC8MJcdr5TVBH8shaJT_PXgda0rZwA_YIKVO8URdjWCaNuuRbkrrCIfoCj0O3tyRVkK4VNNAcWiEZUJVj2Dkzpn6fxA01bNli4-RvP0GQ4rk-cK28IIq9KBLyHA7QLdF80CAwEAAaOCA-0wggPpMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFggvX2K4Py0SACAWQCAQowggHLBggrBgEFBQcBAQSCAb0wggG5MGMGCCsGAQUFBzAChldodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MFMGCCsGAQUFBzAChkdodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAyLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDA2LmNydDBTBggrBgEFBQcwAoZHaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MB0GA1UdDgQWBBTUZBUS9B61FL0tNpXxcrxMZE6PMzAOBgNVHQ8BAf8EBAMCBaAwggEmBgNVHR8EggEdMIIBGTCCARWgggERoIIBDYY_aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JsMBcGA1UdIAQQMA4wDAYKKwYBBAGCN3sBATAfBgNVHSMEGDAWgBTxRmjG8cPwKy19i2rhsvm-NfzRQTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAKKa3hOZEgZXFsSf1I0yVgExP5QoFqwoL9gFup0ENl3D9BNUuSsJYpNcqCY-6HyZeDCMQWsgI663Hc9xPq-LX47BRWkNpWdV-DOD2BbSL42M7aGdyNxYilWFKeTy-P0vZBhfJQHTsmZCM7T_sGB0iaeJSp03JIWGCbn1iFU8_0PLBRf6Xp18C8Yo-xv1QFPEKvrSSHof-6k2YTbYTIaoJQJ8I-uoFWm0csgtiYn5jiF6Cq1qSsJ1SecSkZ_Be0jsEECNlA26v7Pi_NqL_lKOpi752KtXbvn2IuMAmCQjr28NZz2fcJ1q-3CsBflvJzW1aBnQxCxC19jDjfSiGbcE11A&s=EoOOsytc40RtWhPctQZHvdZbPgDnFU9CzV_sF1Bna9TVe9TQkGwxNMErGxazs1Tiw-fa2fWDY-zo5M2pzqIgAzKKAVxgj6W7Bi6nuTdvBXeIUZfHwnxZTOfdjpGC_cvlAIvhnJfR5PFR2IyYedtskhF6JGS-hLVrcqphbTTlethntIbcUpZ4sWi2uIdjpUAqw1ZFQtifROqeYV9eOuxzBU8yiICFyrlSszHOMdzRBHRDk8bOnW5z8ADXqSIDzR0IDF78blQn8Eb_tPDb01NoAXGK6Lws-1SgHGCqlzB5LR_oWSXEi4H2-vGlkbmTLTE9AR7QiqWH5P_plSiaSU1ZpA&h=5sqn4_r4LIXY9NP5GfVjtF0RFG7bU888N5W1dKxls1s
      Cache-Control:
      - no-cache
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      Date:
      - Sat, 18 Nov 2023 18:58:49 GMT
      Expires:
      - '-1'
      Location:
      - https://management.azure.com/subscriptions/a5082b19-8a6e-4bc5-8fdd-8ef39dfebc39/providers/Microsoft.HybridCompute/locations/eastus/operationresults/6d752dd2-db50-4cc1-a82e-ed94e1c3d20e?api-version=2019-08-02-preview&t=638359307301347343&c=MIIHADCCBeigAwIBAgITHgOOZnSUesiIBulFwAAAA45mdDANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDYwHhcNMjMxMTAxMDUxOTQ3WhcNMjQxMDI2MDUxOTQ3WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOtwjRh-1G1a4yBlEy6M1AUa9Hq-Ri3r8iWBtdkLmcsejm48p6INIQx7aREhaizCEfvdoJpt69YKxHHg88zVFCZmcjwwXfyQKfZfKO2LZ0pWDws_OPuxD2zTIQHyZera5VZWwqn0El0Y7Vi7ROfDODi-_coovUwQhkUnnRqi1qHAWHn132H1R0LTlVpve9I6Osbib8lkRd6e4jrVrCT96iC8MJcdr5TVBH8shaJT_PXgda0rZwA_YIKVO8URdjWCaNuuRbkrrCIfoCj0O3tyRVkK4VNNAcWiEZUJVj2Dkzpn6fxA01bNli4-RvP0GQ4rk-cK28IIq9KBLyHA7QLdF80CAwEAAaOCA-0wggPpMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFggvX2K4Py0SACAWQCAQowggHLBggrBgEFBQcBAQSCAb0wggG5MGMGCCsGAQUFBzAChldodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MFMGCCsGAQUFBzAChkdodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAyLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDA2LmNydDBTBggrBgEFBQcwAoZHaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MB0GA1UdDgQWBBTUZBUS9B61FL0tNpXxcrxMZE6PMzAOBgNVHQ8BAf8EBAMCBaAwggEmBgNVHR8EggEdMIIBGTCCARWgggERoIIBDYY_aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JsMBcGA1UdIAQQMA4wDAYKKwYBBAGCN3sBATAfBgNVHSMEGDAWgBTxRmjG8cPwKy19i2rhsvm-NfzRQTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAKKa3hOZEgZXFsSf1I0yVgExP5QoFqwoL9gFup0ENl3D9BNUuSsJYpNcqCY-6HyZeDCMQWsgI663Hc9xPq-LX47BRWkNpWdV-DOD2BbSL42M7aGdyNxYilWFKeTy-P0vZBhfJQHTsmZCM7T_sGB0iaeJSp03JIWGCbn1iFU8_0PLBRf6Xp18C8Yo-xv1QFPEKvrSSHof-6k2YTbYTIaoJQJ8I-uoFWm0csgtiYn5jiF6Cq1qSsJ1SecSkZ_Be0jsEECNlA26v7Pi_NqL_lKOpi752KtXbvn2IuMAmCQjr28NZz2fcJ1q-3CsBflvJzW1aBnQxCxC19jDjfSiGbcE11A&s=PTsOZfeDHea0nNq4xruDCz1huScpfysG2kk2kBxsssID0rS4guYuX9dGjFB8HPjhmKp-e9LFfGfsNAbvQZJ4YMHZ3MxQGBL6WHjEY3uP87-8ooinV_B-_Q6TXEEUA4Bj3GOQ4HZPxgRCZfPRDgqQ29VlMg8wKaKJcK2IDA33EHQgQQpKj7EcUAgXmxBmhu1r6xVlW_FzdmW8MkwE7YpZiguXjgyND8icbIYKa66Ztl01WmmNxISPX-ovd6r4YEib_XyMrpSErZUl96sVD0CVwaBTOyyEKCoSG1ys9F3_13cffoYsSNpFmhCAUgYmcBjwzFN2yx-vd1giWPLelH81jw&h=sMrggouaR-oU87FJAEEmKMzSrEUpKlD84kPVuHPB4kE
      Pragma:
      - no-cache
      Retry-After:
      - '120'
      Server:
      - Kestrel
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - debf8b28-7324-48a4-afd5-1110d7a6cf74
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '319'
      x-ms-request-id:
      - 88a02550-98b2-4fe4-8395-b623551473e6
      x-ms-routing-request-id:
      - CENTRALINDIA:20231118T185850Z:debf8b28-7324-48a4-afd5-1110d7a6cf74
    status:
      code: 202
      message: Accepted
version: 1
