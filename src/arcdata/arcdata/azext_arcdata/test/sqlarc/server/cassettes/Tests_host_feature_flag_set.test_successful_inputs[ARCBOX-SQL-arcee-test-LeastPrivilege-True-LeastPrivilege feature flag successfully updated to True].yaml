interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.31.0
    method: GET
    uri: https://mock-host/subscriptions/a5082b19-8a6e-4bc5-8fdd-8ef39dfebc39/resourceGroups/arcee-test/providers/Microsoft.HybridCompute/machines/ARCBOX-SQL/extensions/WindowsAgent.SqlServer?api-version=2023-03-15-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR8Xs
        o0cf3W3Wk2ZaF6u2qJbN3ez+zsHeZPfh9kH2ab69P5ne3z44n822D/Lzew9n5/lkeu/h3TpvqnU9
        zT+vq/WK3qFf8+02b9q7q7q6LGZ53dz9opjWVVOdt+NvX0/qYnZSLVbrNr+7yKbzYpk3d49fnTz5
        8vfefv0Tz+/m79p82XD/3y2Ws+qqOb7Il+349S8qX+f1ZV5/NPpomS1yQnfw+/Z6he9v7Nb1RS+V
        1TTDuOnFPGvaNT6jIazyui3y5qNHv/ij1XpSFs2cuvBhH/9gXedPszaj9trxRsS+nS1nZV7/JBFG
        etsd74737u/sjx8+pCbZuq2+Wl3U2Sz/olhWrt15Vjb56KN8mU3K/JhaLQjdqTb96FFbr+nbJm/b
        YnnB6J6+m5brWT4jBM6WTZstpxjG974/+og++SJbZhf5ghBE07PmlMESEwDOLxl99LyYEmnyN4Qw
        ofgyI/4wfZ+CaoCbT9d10V5/tZplNOEOw2b9nAgoH8/eFAtihmyxIjB7O3v3tnd3t3cfvNl9+Oje
        g0f3d36KwD7Ls5Zo+KzMgPj3fvFHL2R+n2MeXtbFZVHmFzk1FCQNjrbdi/xKQXTbfJ9GQnN4WYCE
        RJfXLaFEb7xeT4lNaQz0QqG0+ckivwItbslcG7+/YY6pQ/AXdTatMHcf7dCHZX6Zl/T72fK8qjG3
        9OLoIyJeQxNFnzPZAS79Qj57lJK8pNJv6r5ljB6l386zsp1fH6atmYCv3pykj1LMwd3d3bu7B6N0
        9+DR3u6j3f3x/sHOYbpelVU2A4nWDTX88vc6tFz2JJu+Jel+lL5aL0HHw5fr+pLo9bJcXxTLR+kv
        /iWHLAbH07a4zJ8WdT5tq/rafv371r/vMk1/34++eE0ovz599ZOnr37fjx7RB/QfffVLDh+lz4uG
        RkCwUxrDqqrbdOcQUjXJmvwLmjyCd1xPDUT9hJrLJ+nWi6pV5O6MUpoPJoN8CQQ++t0wL9QpIRGK
        rioHzOH4C5qOshnbcdNnMvSTanleXKxr+rBaOvi/70ej3/ejOifE8fnLvC6q2dnyaXbdUE8P6Dti
        vnPiXvwZ4PD6mka7GJ9UZUmkoneb8ef5kt6fjkGIP2D3e9+7Gc3XcyLTm7xevDIY9BF/KQg4lL//
        ffpdeodokTwQFnX+vJjwYH63y6xcM77f+/4v+SWjVCc6XSklSX2kjE+aEd6XeTozk51OfRqFLzQN
        sSyUTSrsxTPiPv02DZkgcKeEg4jwjP4UjUKf1HVVK9vTx8Q1wPUF6e/X03k+W1Nr6Bn6arkuS/qK
        WEF6oo+ooeUNfo++Ibq59jTML8FqECVSe9+uSOso9oSmm7TjGnTlpmOvrZkO7+sOu3jf+C/+vh9R
        z/gwzuNB344bCBJg5PXY6XD3oWoeQB3jHw90B6mvAZGpR7p/VRXL9qu6ZMzmbUua4e7dNi/pzba+
        Hv/inV8yJj+A1D91zqNtxtNqcTd4/Xi1OsMU/74f3d/b37l/kN/b3nuws0duxsOD7Yf39ibbk73Z
        7iz/dPfe+WyPSPXRL/klv+SX/D+5LSZdqQgAAA==
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Sat, 18 Nov 2023 18:33:05 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Kestrel
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 7209a9ab-283b-428c-a41f-b07a001d58b8
      x-ms-ratelimit-remaining-subscription-reads:
      - '11999'
      x-ms-request-id:
      - 7f817ea9-c96f-4d15-a46c-2e6eaa128eca
      x-ms-routing-request-id:
      - JIOINDIACENTRAL:20231118T183306Z:7209a9ab-283b-428c-a41f-b07a001d58b8
    status:
      code: 200
      message: OK
- request:
    body: '{"id": "/subscriptions/a5082b19-8a6e-4bc5-8fdd-8ef39dfebc39/resourceGroups/arcee-test/providers/Microsoft.HybridCompute/machines/ARCBOX-SQL/extensions/WindowsAgent.SqlServer",
      "name": "WindowsAgent.SqlServer", "type": "Microsoft.HybridCompute/machines/extensions",
      "location": "eastus", "properties": {"publisher": "Microsoft.AzureData", "type":
      "WindowsAgent.SqlServer", "typeHandlerVersion": "1.1.2504.99", "autoUpgradeMinorVersion":
      false, "enableAutomaticUpgrade": true, "settings": {"ExcludedSqlInstances":
      [], "SqlManagement": {"IsEnabled": true}, "LicenseType": "Paid", "enableExtendedSecurityUpdates":
      false, "esuLastUpdatedTimestamp": "2023-11-17T19:37:50Z", "FeatureFlags": [{"Name":
      "LeastPrivilege", "Enable": true}, {"Name": "NewFeature", "Enable": true}]},
      "provisioningState": "Succeeded", "instanceView": {"name": "WindowsAgent.SqlServer",
      "type": "WindowsAgent.SqlServer", "typeHandlerVersion": "1.1.2504.99", "status":
      {"code": "0", "level": "Information", "message": "Extension Message: SQL Server
      Extension Agent: Healthy; timestampUTC : 2023/11/18, 18:21:14.480; uploadStatus
      : OK;AutomaticBackups: Running;PurviewPlugin: {};AzureActiveDirectoryPlugin:
      {\r\n  \"MSSQLSERVER\": \"\"\r\n};: Listening on port 0;DatabaseMonitorArcPlugin:
      MonitoringPlugin (NotRunning), SqlAgentPlugin: {\"$type\":\"Microsoft.Azure.Hybrid.Sql.Models.AutomaticSqlBackupConfiguration,
      SqlAgent\",\"retentionPeriodInDays\":7,\"profiles\":{\"$type\":\"System.Collections.Generic.List`1[[Microsoft.Azure.Hybrid.Sql.Models.ShortTermRetentionAutomaticSqlBackupProfile,
      SqlAgent]], System.Private.CoreLib\",\"$values\":[]}}, Purview plugin: [], Azure
      active directory configuration plugin: [], Assessment Status: {\"AssessmentHistory\":[],\"Enabled\":false,\"ErrorMessage\":\"\",\"NextScheduledTime\":null,\"RunStatus\":\"NotRunning\",\"StartTime\":null},
      ODataServiceHostPlugin: {\"$type\":\"ArcSqlOData.ServiceHost.Models.ArcSqlODataConfiguration,
      ArcSqlOData.ServiceHost\"}, DatabaseMonitorArcPlugin: {\"$type\":\"Microsoft.SqlServer.Management.SqlServerHandlerData.DatabaseMonitorConfiguration,
      Microsoft.SqlServer.Management.SqlServerHandlerData\",\"endpointUrl\":\"https://telemetry.{0}.arcdataservices.com/\",\"endpointAppId\":\"524058e3-2702-4b98-932b-b2d1de613fd2\"}"}}}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2272'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.31.0
    method: PUT
    uri: https://mock-host/subscriptions/a5082b19-8a6e-4bc5-8fdd-8ef39dfebc39/resourceGroups/arcee-test/providers/Microsoft.HybridCompute/machines/ARCBOX-SQL/extensions/WindowsAgent.SqlServer?api-version=2023-03-15-preview
  response:
    body:
      string: ''
    headers:
      Azure-AsyncOperation:
      - https://management.azure.com/subscriptions/a5082b19-8a6e-4bc5-8fdd-8ef39dfebc39/providers/Microsoft.HybridCompute/locations/eastus/operationstatus/a700ba8a-8659-4a73-90dc-63fb0c480e54?api-version=2019-08-02-preview&t=638359291885028340&c=MIIHADCCBeigAwIBAgITHgOOTF2IP7nZFyla6AAAA45MXTANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDYwHhcNMjMxMTAxMDMzOTAzWhcNMjQxMDI2MDMzOTAzWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKktUTh2v1SGL7dLk28cowQRt_0hicbpjq4Bo165pqYdhPZdZR58gWiSuY5k5s6B5gMa9D10Xjfynj9LGEik-W98DwEfgm4wXFu78jQJxAv50-XPkoizqK4lbk1wnLh7bItGww4tYgqKKEkO7K5O3rDRvFYOOf2xEYLB3APzCMnKyk0DGyXBYNmhtHajbi3NmP2Qa4wxTHPJpU3LfUuQieDVElhkWThcJRmHKYW0rw63bX9WmJJObX5cFUgKc84g6UBi6duzxAaz6X7E6BvUx9oIXP0_HLcJ9_1rjHbrcy6RUSgXExEtmdQNnKJJri2TccAeaY1Bw303JflacltM28kCAwEAAaOCA-0wggPpMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFggvX2K4Py0SACAWQCAQowggHLBggrBgEFBQcBAQSCAb0wggG5MGMGCCsGAQUFBzAChldodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MFMGCCsGAQUFBzAChkdodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAyLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDA2LmNydDBTBggrBgEFBQcwAoZHaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MB0GA1UdDgQWBBQERNOvwwG8gNC_q_Svo16a4QGpPTAOBgNVHQ8BAf8EBAMCBaAwggEmBgNVHR8EggEdMIIBGTCCARWgggERoIIBDYY_aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JsMBcGA1UdIAQQMA4wDAYKKwYBBAGCN3sBATAfBgNVHSMEGDAWgBTxRmjG8cPwKy19i2rhsvm-NfzRQTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAIbmsySIop8ARfn3Uc4sq71s6OlH2KvNhPihjJeCSer2Z9iFHQtTPDG4uuJ6NWaFLOCZGGL_KENGz3J5wbD3b6QrzGDAMSYkyH_vDFv_av_MDo5FN5rlAL5O-ri2cFlO6_woZWUcpZt7fLs8YnJxk5kE8jmNbNapuomF9aKRFS-H2rHeDcsxyRpdmi-Q2OBhUjJ7Y9GDRKPgCNLqKg8Y7P-cE5DkkzRgmcJv1jx9CqIOPFWoHx0Uu7OCEOLyl5rkz-fGlMFCDbyLgSiy8qBFi_m5sg4FCDgMCrODS1dzOU1fuOmoGYbxLd-GoFFfCtcbfRJtQr8D2Bq306YSypf0nWY&s=FU6dKYCsj5MXlk58wasPq4NLi6gWAKHxEu3CsKftKHF1Cj7J2FK0XM6DL9FAgccHQvMdj5mYvSxQgFtZogoN_zjEO-Vz7i_4ft_KX5Sn20FA_w5SF14HLewCmX-hkDZbx6KD0KA8H_W6UyaySssunImUeQY-XdSA1wadaA4CPHR_6lyXwzjEz9_4_U1x5ykEAhakOZr9KV6jbKsPmA2obZOk7adWfgijABLdV_MQbUfwCUF-tGQgVR1rS-58mWx9ezP7BsrdXINY-lWSuGGLSycWITOEtR6GiDgS9Biubx5Y4mwmH-IC_J_-wwDbn9q70FqQCFUrS0RQyufy1_yo9A&h=prhF9AfhLNfNZeWZvZ4RU9F_s0opj909DaRcGxamq2Q
      Cache-Control:
      - no-cache
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      Date:
      - Sat, 18 Nov 2023 18:33:07 GMT
      Expires:
      - '-1'
      Location:
      - https://management.azure.com/subscriptions/a5082b19-8a6e-4bc5-8fdd-8ef39dfebc39/providers/Microsoft.HybridCompute/locations/eastus/operationresults/a700ba8a-8659-4a73-90dc-63fb0c480e54?api-version=2019-08-02-preview&t=638359291885028340&c=MIIHADCCBeigAwIBAgITHgOOTF2IP7nZFyla6AAAA45MXTANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDYwHhcNMjMxMTAxMDMzOTAzWhcNMjQxMDI2MDMzOTAzWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKktUTh2v1SGL7dLk28cowQRt_0hicbpjq4Bo165pqYdhPZdZR58gWiSuY5k5s6B5gMa9D10Xjfynj9LGEik-W98DwEfgm4wXFu78jQJxAv50-XPkoizqK4lbk1wnLh7bItGww4tYgqKKEkO7K5O3rDRvFYOOf2xEYLB3APzCMnKyk0DGyXBYNmhtHajbi3NmP2Qa4wxTHPJpU3LfUuQieDVElhkWThcJRmHKYW0rw63bX9WmJJObX5cFUgKc84g6UBi6duzxAaz6X7E6BvUx9oIXP0_HLcJ9_1rjHbrcy6RUSgXExEtmdQNnKJJri2TccAeaY1Bw303JflacltM28kCAwEAAaOCA-0wggPpMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFggvX2K4Py0SACAWQCAQowggHLBggrBgEFBQcBAQSCAb0wggG5MGMGCCsGAQUFBzAChldodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MFMGCCsGAQUFBzAChkdodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAyLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDA2LmNydDBTBggrBgEFBQcwAoZHaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MB0GA1UdDgQWBBQERNOvwwG8gNC_q_Svo16a4QGpPTAOBgNVHQ8BAf8EBAMCBaAwggEmBgNVHR8EggEdMIIBGTCCARWgggERoIIBDYY_aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JsMBcGA1UdIAQQMA4wDAYKKwYBBAGCN3sBATAfBgNVHSMEGDAWgBTxRmjG8cPwKy19i2rhsvm-NfzRQTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAIbmsySIop8ARfn3Uc4sq71s6OlH2KvNhPihjJeCSer2Z9iFHQtTPDG4uuJ6NWaFLOCZGGL_KENGz3J5wbD3b6QrzGDAMSYkyH_vDFv_av_MDo5FN5rlAL5O-ri2cFlO6_woZWUcpZt7fLs8YnJxk5kE8jmNbNapuomF9aKRFS-H2rHeDcsxyRpdmi-Q2OBhUjJ7Y9GDRKPgCNLqKg8Y7P-cE5DkkzRgmcJv1jx9CqIOPFWoHx0Uu7OCEOLyl5rkz-fGlMFCDbyLgSiy8qBFi_m5sg4FCDgMCrODS1dzOU1fuOmoGYbxLd-GoFFfCtcbfRJtQr8D2Bq306YSypf0nWY&s=Xv2Yoee2jwDuM3sXbSTXMafoj2L-_KYZ8OX8FTVtOBUuAn0a74OKQU0CYcj1SX5ZyomTsorbl_gmqH7zofrYKGErLc1pYk6T3LRBkob9jOVNHo2pE3iPNDJTRM6qdWGtXV_Xu9EeJ2I7nwtLGLaRPNmWuEfrCmQziIzMZIY7yEw0W8MhqJxy5YXzkyIdBm8VVpSq7NJzh2_pg5D9Mccpm3AC-xWp7U552AQH4DBpIS3zOtCDMjCeW33n9FTZj76NFuBwjU3ntlYW-QXEQNi5i5a_0y1BE9b1VhvSBn_EZUb3MbrQQDdHSdcuRoG39MzlFHFxZUHx9K7CYJ3v3zUXgA&h=WFmMo448LglsXBx2c6PQQW9XyZ6jqWBc1HLEE7NeYyY
      Pragma:
      - no-cache
      Retry-After:
      - '120'
      Server:
      - Kestrel
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - c5c0f6da-3a99-4961-b84a-f312533c4326
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '319'
      x-ms-request-id:
      - 440c5a83-971b-4f86-a0bd-887164c36859
      x-ms-routing-request-id:
      - JIOINDIACENTRAL:20231118T183308Z:c5c0f6da-3a99-4961-b84a-f312533c4326
    status:
      code: 202
      message: Accepted
version: 1
