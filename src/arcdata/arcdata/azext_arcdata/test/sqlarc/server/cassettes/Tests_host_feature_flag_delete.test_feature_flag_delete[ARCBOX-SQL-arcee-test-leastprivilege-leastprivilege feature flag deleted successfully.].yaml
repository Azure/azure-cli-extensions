interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.31.0
    method: GET
    uri: https://mock-host/subscriptions/a5082b19-8a6e-4bc5-8fdd-8ef39dfebc39/resourceGroups/arcee-test/providers/Microsoft.HybridCompute/machines/ARCBOX-SQL/extensions/WindowsAgent.SqlServer?api-version=2023-03-15-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR8Xs
        o0cf3W3Wk2ZaF6u2qJbN3ez+zsHeZPfh9kH2ab69P5ne3z44n822D/Lzew9n5/lkeu/h3TpvqnU9
        zT+vq/WK3qFf8+02b9q7q7q6LGZ53dz9opjWVVOdt+NvX0/qYnZSLVbrNr+7yKbzYpk3d49fnTz5
        8vfefv0Tz+/m79p82XD/3y2Ws+qqOb7Il+349S8qX+f1ZV5/NPpomS1yQnfw+/Z6he9v7Nb1RS+V
        1TTDuOnFPGvaNT6jIazyui3y5qNHv/ij1XpSFs2cuvBhH/9gXedPszaj9trxRsS+nS1nZV7/JBFG
        etsd74737u/sjx8+pCbZuq2+Wl3U2Sz/olhWrt15Vjb56KN8mU3K/JhaLQjdqTb96FFbr+nbJm/b
        YnnB6J6+m5brWT4jBM6WTZstpxjG974/+uhZnrWE9LMyQ8vv/eKPXghBX+RX+hUhcsodab+/ZGQb
        PQd1XtbFZVHmF35DYPBLCPrzYkpUzd/QWKn5y4xYa/QRIfFFtswu8gXRBNidNfIe8R2/aEZ2ijkB
        1vl0XRft9VerWUbspHhQq2b9nBCQj2dvigWxWrZYUU97O3v3tnd3t3cfvNl9+Ojeg0f3d37qI4JL
        k3hZgIZEmNctvUVtX6+nxKfUDaFWKHF+ssivgNktuWvj9zdMMnUIBqPOphUm76Md+rDML/OSfj9b
        nlc1JpdeHH1E42uIbPQ5Uwbg0i/ks0cpCUwq/abuW8boUfrtPCvb+fVh2hoaffXmJH2Ugkx3d3fv
        7u2N0t2dR3v3Hu0/HO98ev8wXa/KKpuBROuGGn75ex1aNnuSTd+SeD9KX62XoOPhy3V9SfR6Wa4v
        iuWj9Bf/kkOWg+NpW1zmT4s6n7ZVfe19/Sh9XjSEIr2cEpKrqm7TnUPIzSRr8i9oduiF43pqXtFP
        qLl8km69qFrt/c4oJYLzOOVL6uH3/eh3A+F/348e/b5d4VTxxySNvyB6l83YDow+k7GdVMvz4mJd
        04fV0sH/fT8a/b4f1Tkhjs9f5nVRzc6WT7Prhnp6QN8Rd52TJODPAIfX1zTaxfikKkuiBb3bjD/P
        l/T+dAxC/AG73/vezWi+nhOZ3uT14pXBoI/4S0HAofz979Pv0jvElBiesKjz58WEB/O7XWblmvH9
        3vd/yS8ZpTqT6UopSQoiZXzSjPC+zNOZmc106tMofKFpiCch26nwD8+I+/TbNGSCwJ0SDir69KdI
        NX1S11WtfE0f/74fMa4vSEO/ns7z2ZpaQ9bpq+W6LOkrYgXpiT6ihpY3+D36hujm2tMwvwSrQVZI
        O327Ig2m2BOabtKOa9CVm469tmY6vK877OJ947/4+5L+SfFhnMeDvh03ECTAyOuxU5nuQ1UtgDrG
        Px7oDlJfAyJTj/TvqiqW7Vd1yZjN25ZE/+7dNi/pzba+Hv/inV8yJktPKpg659E242m1uBu8frxa
        nWGKf9+P7u/t79w/yO9t7z3Y2SNH4uHB9sN7e5Ptyd5sd5Z/unvvfLZHpProl/ySX/JL/h8fQ85T
        iwgAAA==
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 22 Nov 2023 10:27:52 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Kestrel
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 09896d3d-6879-4a3a-b35c-def1d95557c6
      x-ms-ratelimit-remaining-subscription-reads:
      - '11996'
      x-ms-request-id:
      - fc0f8ef9-b829-45ea-bc3f-740ca18780fd
      x-ms-routing-request-id:
      - CENTRALINDIA:20231122T102753Z:09896d3d-6879-4a3a-b35c-def1d95557c6
    status:
      code: 200
      message: OK
- request:
    body: '{"id": "/subscriptions/a5082b19-8a6e-4bc5-8fdd-8ef39dfebc39/resourceGroups/arcee-test/providers/Microsoft.HybridCompute/machines/ARCBOX-SQL/extensions/WindowsAgent.SqlServer",
      "name": "WindowsAgent.SqlServer", "type": "Microsoft.HybridCompute/machines/extensions",
      "location": "eastus", "properties": {"publisher": "Microsoft.AzureData", "type":
      "WindowsAgent.SqlServer", "typeHandlerVersion": "1.1.2504.99", "autoUpgradeMinorVersion":
      false, "enableAutomaticUpgrade": true, "settings": {"ExcludedSqlInstances":
      [], "FeatureFlags": [{"Name": "NewFeature", "Enable": false}], "LicenseType":
      "Paid", "SqlManagement": {"IsEnabled": true}, "enableExtendedSecurityUpdates":
      false, "esuLastUpdatedTimestamp": "2023-11-17T19:37:50Z"}, "provisioningState":
      "Succeeded", "instanceView": {"name": "WindowsAgent.SqlServer", "type": "WindowsAgent.SqlServer",
      "typeHandlerVersion": "1.1.2504.99", "status": {"code": "0", "level": "Information",
      "message": "Extension Message: SQL Server Extension Agent: Healthy; timestampUTC
      : 2023/11/22, 10:23:49.065; uploadStatus : OK;AutomaticBackups: Running;PurviewPlugin:
      {};AzureActiveDirectoryPlugin: {};: Listening on port 0;DatabaseMonitorArcPlugin:
      MonitoringPlugin (NotRunning), SqlAgentPlugin: {\"$type\":\"Microsoft.Azure.Hybrid.Sql.Models.AutomaticSqlBackupConfiguration,
      SqlAgent\",\"retentionPeriodInDays\":7,\"profiles\":{\"$type\":\"System.Collections.Generic.List`1[[Microsoft.Azure.Hybrid.Sql.Models.ShortTermRetentionAutomaticSqlBackupProfile,
      SqlAgent]], System.Private.CoreLib\",\"$values\":[]}}, Purview plugin: [], Azure
      active directory configuration plugin: [], Assessment Status: {\"AssessmentHistory\":[],\"Enabled\":false,\"ErrorMessage\":\"\",\"NextScheduledTime\":null,\"RunStatus\":\"NotRunning\",\"StartTime\":null},
      ODataServiceHostPlugin: {\"$type\":\"ArcSqlOData.ServiceHost.Models.ArcSqlODataConfiguration,
      ArcSqlOData.ServiceHost\"}, DatabaseMonitorArcPlugin: {\"$type\":\"Microsoft.SqlServer.Management.SqlServerHandlerData.DatabaseMonitorConfiguration,
      Microsoft.SqlServer.Management.SqlServerHandlerData\",\"endpointUrl\":\"https://telemetry.{0}.arcdataservices.com/\",\"endpointAppId\":\"524058e3-2702-4b98-932b-b2d1de613fd2\"}"}}}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2198'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.31.0
    method: PUT
    uri: https://mock-host/subscriptions/a5082b19-8a6e-4bc5-8fdd-8ef39dfebc39/resourceGroups/arcee-test/providers/Microsoft.HybridCompute/machines/ARCBOX-SQL/extensions/WindowsAgent.SqlServer?api-version=2023-03-15-preview
  response:
    body:
      string: ''
    headers:
      Azure-AsyncOperation:
      - https://management.azure.com/subscriptions/a5082b19-8a6e-4bc5-8fdd-8ef39dfebc39/providers/Microsoft.HybridCompute/locations/eastus/operationstatus/725b5fc5-e7c9-45ad-b540-a3c82984a65c?api-version=2019-08-02-preview&t=638362456748138440&c=MIIHADCCBeigAwIBAgITHgOOZnSUesiIBulFwAAAA45mdDANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDYwHhcNMjMxMTAxMDUxOTQ3WhcNMjQxMDI2MDUxOTQ3WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOtwjRh-1G1a4yBlEy6M1AUa9Hq-Ri3r8iWBtdkLmcsejm48p6INIQx7aREhaizCEfvdoJpt69YKxHHg88zVFCZmcjwwXfyQKfZfKO2LZ0pWDws_OPuxD2zTIQHyZera5VZWwqn0El0Y7Vi7ROfDODi-_coovUwQhkUnnRqi1qHAWHn132H1R0LTlVpve9I6Osbib8lkRd6e4jrVrCT96iC8MJcdr5TVBH8shaJT_PXgda0rZwA_YIKVO8URdjWCaNuuRbkrrCIfoCj0O3tyRVkK4VNNAcWiEZUJVj2Dkzpn6fxA01bNli4-RvP0GQ4rk-cK28IIq9KBLyHA7QLdF80CAwEAAaOCA-0wggPpMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFggvX2K4Py0SACAWQCAQowggHLBggrBgEFBQcBAQSCAb0wggG5MGMGCCsGAQUFBzAChldodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MFMGCCsGAQUFBzAChkdodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAyLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDA2LmNydDBTBggrBgEFBQcwAoZHaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MB0GA1UdDgQWBBTUZBUS9B61FL0tNpXxcrxMZE6PMzAOBgNVHQ8BAf8EBAMCBaAwggEmBgNVHR8EggEdMIIBGTCCARWgggERoIIBDYY_aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JsMBcGA1UdIAQQMA4wDAYKKwYBBAGCN3sBATAfBgNVHSMEGDAWgBTxRmjG8cPwKy19i2rhsvm-NfzRQTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAKKa3hOZEgZXFsSf1I0yVgExP5QoFqwoL9gFup0ENl3D9BNUuSsJYpNcqCY-6HyZeDCMQWsgI663Hc9xPq-LX47BRWkNpWdV-DOD2BbSL42M7aGdyNxYilWFKeTy-P0vZBhfJQHTsmZCM7T_sGB0iaeJSp03JIWGCbn1iFU8_0PLBRf6Xp18C8Yo-xv1QFPEKvrSSHof-6k2YTbYTIaoJQJ8I-uoFWm0csgtiYn5jiF6Cq1qSsJ1SecSkZ_Be0jsEECNlA26v7Pi_NqL_lKOpi752KtXbvn2IuMAmCQjr28NZz2fcJ1q-3CsBflvJzW1aBnQxCxC19jDjfSiGbcE11A&s=vmYlr-0j--zJG1oozi7qtUJHX9bcdbhnrwvrYIJ7ZyltkDm-WWt7z2cQtghg6AO-4ThWO-kbASek68uGBT8a97P4E19swFqzD07pxwF8ASbjCFSNql8ymdAOSN6ls4dNHuMJEHlvyjJFidWAYZXEkV-8FTEyMPbSTzcDRIkVSYHu4NVyu902BMmDDwKNbhl49U9hS4MjfNmUw4J7CLmHJqQnV5j-AZytpDC334gV10BdCiTIum2lO1HIeumClRft4Kl1bymIQc53das8OxX-ROsw38Dh7W0nSMLlwfafziSql0oiot3pvf-8eB1k_DHgVhWTqiebpOkBBA84BRpQIg&h=dzsbsKXUTG2v5joV5ZifKodYeCquDY78PncEn9C6FVs
      Cache-Control:
      - no-cache
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      Date:
      - Wed, 22 Nov 2023 10:27:54 GMT
      Expires:
      - '-1'
      Location:
      - https://management.azure.com/subscriptions/a5082b19-8a6e-4bc5-8fdd-8ef39dfebc39/providers/Microsoft.HybridCompute/locations/eastus/operationresults/725b5fc5-e7c9-45ad-b540-a3c82984a65c?api-version=2019-08-02-preview&t=638362456748295223&c=MIIHADCCBeigAwIBAgITHgOOZnSUesiIBulFwAAAA45mdDANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDYwHhcNMjMxMTAxMDUxOTQ3WhcNMjQxMDI2MDUxOTQ3WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOtwjRh-1G1a4yBlEy6M1AUa9Hq-Ri3r8iWBtdkLmcsejm48p6INIQx7aREhaizCEfvdoJpt69YKxHHg88zVFCZmcjwwXfyQKfZfKO2LZ0pWDws_OPuxD2zTIQHyZera5VZWwqn0El0Y7Vi7ROfDODi-_coovUwQhkUnnRqi1qHAWHn132H1R0LTlVpve9I6Osbib8lkRd6e4jrVrCT96iC8MJcdr5TVBH8shaJT_PXgda0rZwA_YIKVO8URdjWCaNuuRbkrrCIfoCj0O3tyRVkK4VNNAcWiEZUJVj2Dkzpn6fxA01bNli4-RvP0GQ4rk-cK28IIq9KBLyHA7QLdF80CAwEAAaOCA-0wggPpMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFggvX2K4Py0SACAWQCAQowggHLBggrBgEFBQcBAQSCAb0wggG5MGMGCCsGAQUFBzAChldodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MFMGCCsGAQUFBzAChkdodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAyLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDA2LmNydDBTBggrBgEFBQcwAoZHaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MB0GA1UdDgQWBBTUZBUS9B61FL0tNpXxcrxMZE6PMzAOBgNVHQ8BAf8EBAMCBaAwggEmBgNVHR8EggEdMIIBGTCCARWgggERoIIBDYY_aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JsMBcGA1UdIAQQMA4wDAYKKwYBBAGCN3sBATAfBgNVHSMEGDAWgBTxRmjG8cPwKy19i2rhsvm-NfzRQTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAKKa3hOZEgZXFsSf1I0yVgExP5QoFqwoL9gFup0ENl3D9BNUuSsJYpNcqCY-6HyZeDCMQWsgI663Hc9xPq-LX47BRWkNpWdV-DOD2BbSL42M7aGdyNxYilWFKeTy-P0vZBhfJQHTsmZCM7T_sGB0iaeJSp03JIWGCbn1iFU8_0PLBRf6Xp18C8Yo-xv1QFPEKvrSSHof-6k2YTbYTIaoJQJ8I-uoFWm0csgtiYn5jiF6Cq1qSsJ1SecSkZ_Be0jsEECNlA26v7Pi_NqL_lKOpi752KtXbvn2IuMAmCQjr28NZz2fcJ1q-3CsBflvJzW1aBnQxCxC19jDjfSiGbcE11A&s=hoXolq2r_Y3klLVi0NmJ4GNckwgfKwOd3ormOLLEPEWaN_YH2_yVQtlylit3kr5pLMp_Ip2dUVLINxUDFZpTy-n-mVE_e61w1qbmPQj7Rpeq3HjvrFgU3l65Vncbi7Q7LDB7iE6TCRWIW7hJGz2PlCN7IzjBf--PQcW9PrwXHNgdTlcgQ8i02A-c1G5_RtvM8vWDowI9eCbl1_28Q_JMqjRRmmu9puyMKI5vq8WPNC4PWzXhvdQDPG9sK4WmkvKa4h4-n31kMystHGS2dHHZnGfbhzF534cUor-8PtIXkLkUJ7NVEwbE3mvCmTsikgqnX9YAUxfxSYQLaoU_S3ALBw&h=-mC0x0bUU4JyJoXk_XWiKyn8-vCnY9kPcrXO_DWsc2Q
      Pragma:
      - no-cache
      Retry-After:
      - '120'
      Server:
      - Kestrel
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - a92fd4c4-63fe-4464-a61e-08e0d66453bc
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '319'
      x-ms-request-id:
      - 5888f526-c7b5-4882-a607-24c77a4f61f0
      x-ms-routing-request-id:
      - CENTRALINDIA:20231122T102754Z:a92fd4c4-63fe-4464-a61e-08e0d66453bc
    status:
      code: 202
      message: Accepted
version: 1
