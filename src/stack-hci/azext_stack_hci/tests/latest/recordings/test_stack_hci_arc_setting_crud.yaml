interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app create
      Connection:
      - keep-alive
      ParameterSetName:
      - --display-name
      User-Agent:
      - python/3.8.10 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.34.1
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli-test-app%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 23 Mar 2022 07:12:30 GMT
      duration:
      - '6833134'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - j1enVffl9zi9usCSq4q/28gAxYfsgIgvVS77IpsStTc=
      ocp-aad-session-key:
      - 0VTbtPbj48MUHDwJdQVOPPYVsjuJXokgq086cH71Q-5icn0JXlp6h5nrSRS84dZLcEiLhO0LHs-FatOy9_QwAZSWr-zVUvIZcvvOhRoC4TPcrKBdUHgZkA90pJS47K9zr8Oczu8_MqQXrA9XVhru3Odwoa2LcU-NzZwnC80wMpc.wZ3u5OaybT8zqOKx6vFPo3UZuJGdtGlkLqs_XJC5mgI
      pragma:
      - no-cache
      request-id:
      - 534efc32-37a4-458d-b90a-6f320f20a7c9
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"availableToOtherTenants": false, "displayName": "cli-test-app", "identifierUris":
      []}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app create
      Connection:
      - keep-alive
      Content-Length:
      - '87'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --display-name
      User-Agent:
      - python/3.8.10 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.34.1
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata": "https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element",
        "odata.type": "Microsoft.DirectoryServices.Application", "objectType": "Application",
        "objectId": "2ddd80d9-80fa-4ef6-bc07-58af0824604c", "deletionTimestamp": null,
        "acceptMappedClaims": null, "addIns": [], "appId": "19e87cb7-6317-4e39-a358-2de5b2b3d1ec",
        "applicationTemplateId": null, "appRoles": [], "availableToOtherTenants":
        false, "displayName": "cli-test-app", "errorUrl": null, "groupMembershipClaims":
        null, "homepage": null, "identifierUris": [], "informationalUrls": {"termsOfService":
        null, "support": null, "privacy": null, "marketing": null}, "isDeviceOnlyAuthSupported":
        null, "keyCredentials": [], "knownClientApplications": [], "logoutUrl": null,
        "logo@odata.mediaEditLink": "directoryObjects/2ddd80d9-80fa-4ef6-bc07-58af0824604c/Microsoft.DirectoryServices.Application/logo",
        "logo@odata.mediaContentType": "application/json;odata=minimalmetadata; charset=utf-8",
        "logoUrl": null, "mainLogo@odata.mediaEditLink": "directoryObjects/2ddd80d9-80fa-4ef6-bc07-58af0824604c/Microsoft.DirectoryServices.Application/mainLogo",
        "oauth2AllowIdTokenImplicitFlow": true, "oauth2AllowImplicitFlow": false,
        "oauth2AllowUrlPathMatching": false, "oauth2Permissions": [{"adminConsentDescription":
        "Allow the application to access cli-test-app on behalf of the signed-in user.",
        "adminConsentDisplayName": "Access cli-test-app", "id": "5643deba-94a1-40f2-8ff5-290c44396a5c",
        "isEnabled": true, "type": "User", "userConsentDescription": "Allow the application
        to access cli-test-app on your behalf.", "userConsentDisplayName": "Access
        cli-test-app", "value": "user_impersonation"}], "oauth2RequirePostResponse":
        false, "optionalClaims": null, "orgRestrictions": [], "parentalControlSettings":
        {"countriesBlockedForMinors": [], "legalAgeGroupRule": "Allow"}, "passwordCredentials":
        [], "publicClient": null, "publisherDomain": "AzureSDKTeam.onmicrosoft.com",
        "recordConsentConditions": null, "replyUrls": [], "requiredResourceAccess":
        [], "samlMetadataUrl": null, "signInAudience": "AzureADMyOrg", "tokenEncryptionKeyId":
        null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2146'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 23 Mar 2022 07:12:31 GMT
      duration:
      - '9508478'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/2ddd80d9-80fa-4ef6-bc07-58af0824604c/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - HWBBdh+h9Y2P4ICVCYLiYcUnegArWP3IJrpm2FYEOVk=
      ocp-aad-session-key:
      - x4AJBCFiaXavWdJ8xo8yBV8G83KpihwGQYwxo4NXO7khid3QJH01nf4UKEIvHG3Gx69D_n7vDD6TuYgeN9RpcX1OgX0AB2vFsgYU126BTLFx8966hQELp2k-vwRFXQLDVbDrJQvplXXm-MEjurR9Yh7ZMezfSRjMQC_C-MdVb-s.Y6m8hoe61sA_8-8EKMDnmobcnNhnyoJKYre0mQmFolg
      pragma:
      - no-cache
      request-id:
      - 10739001-d7b6-48ff-a062-6dea72128864
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack-hci cluster create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --aad-client-id --aad-tenant-id
      User-Agent:
      - AZURECLI/2.34.1 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_stack_hci_000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_stack_hci_000001","name":"cli_test_stack_hci_000001","type":"Microsoft.Resources/resourceGroups","location":"eastus","tags":{"product":"azurecli","cause":"automation","date":"2022-03-23T07:12:21Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '328'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 23 Mar 2022 07:12:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "eastus", "properties": {"aadClientId": "19e87cb7-6317-4e39-a358-2de5b2b3d1ec",
      "aadTenantId": "54826b22-38d6-4fb2-bad9-b7b93a3e9c5a"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack-hci cluster create
      Connection:
      - keep-alive
      Content-Length:
      - '148'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --aad-client-id --aad-tenant-id
      User-Agent:
      - AZURECLI/2.34.1 azsdk-python-mgmt-azurestackhci/1.0.0b1 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_stack_hci_000001/providers/Microsoft.AzureStackHCI/clusters/cli-test-cluster?api-version=2022-01-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_stack_hci_000001/providers/Microsoft.AzureStackHCI/clusters/cli-test-cluster","name":"cli-test-cluster","type":"microsoft.azurestackhci/clusters","location":"eastus","systemData":{"createdBy":"ethanyang@microsoft.com","createdByType":"User","createdAt":"2022-03-23T07:12:38.8604825Z","lastModifiedBy":"ethanyang@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-03-23T07:12:38.8604825Z"},"properties":{"provisioningState":"Succeeded","status":"NotYetRegistered","cloudId":"35ec4bac-df03-45e1-9dde-7e30f1883b25","aadClientId":"19e87cb7-6317-4e39-a358-2de5b2b3d1ec","aadTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","desiredProperties":{"windowsServerSubscription":"Disabled","diagnosticLevel":"Basic"},"trialDaysRemaining":60,"billingModel":"Trial"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '851'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 23 Mar 2022 07:12:40 GMT
      etag:
      - '"8700947d-0000-0100-0000-623ac8670000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      request-context:
      - appId=
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-providerhub-traffic:
      - 'True'
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack-hci arc-setting create
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --cluster-name
      User-Agent:
      - AZURECLI/2.34.1 azsdk-python-mgmt-azurestackhci/1.0.0b1 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_stack_hci_000001/providers/Microsoft.AzureStackHCI/clusters/cli-test-cluster/arcSettings/default?api-version=2022-01-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_stack_hci_000001/providers/Microsoft.AzureStackHCI/clusters/cli-test-cluster/arcSettings/default","name":"default","type":"microsoft.azurestackhci/clusters/arcsettings","systemData":{"createdBy":"ethanyang@microsoft.com","createdByType":"User","createdAt":"2022-03-23T07:12:41.7000782Z","lastModifiedBy":"ethanyang@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-03-23T07:12:41.7000782Z"},"properties":{"provisioningState":"Succeeded","arcInstanceResourceGroup":"cli-test-cluster-35ec4bac-df03-45e1-9dde-7e30f1883b25-Arc-Infra-RG","aggregateState":"NotSpecified"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '665'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 23 Mar 2022 07:12:43 GMT
      etag:
      - '"15011ced-0000-0100-0000-623ac86b0000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      request-context:
      - appId=
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-providerhub-traffic:
      - 'True'
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack-hci arc-setting list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --cluster-name
      User-Agent:
      - AZURECLI/2.34.1 azsdk-python-mgmt-azurestackhci/1.0.0b1 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_stack_hci_000001/providers/Microsoft.AzureStackHCI/clusters/cli-test-cluster/arcSettings?api-version=2022-01-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_stack_hci_000001/providers/Microsoft.AzureStackHCI/clusters/cli-test-cluster/arcSettings/default","name":"default","type":"microsoft.azurestackhci/clusters/arcsettings","properties":{"provisioningState":"Succeeded","arcInstanceResourceGroup":"cli-test-cluster-35ec4bac-df03-45e1-9dde-7e30f1883b25-Arc-Infra-RG","aggregateState":"NotSpecified","perNodeDetails":[]}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '459'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 23 Mar 2022 07:12:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      request-context:
      - appId=
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-providerhub-traffic:
      - 'True'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack-hci arc-setting show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --cluster-name
      User-Agent:
      - AZURECLI/2.34.1 azsdk-python-mgmt-azurestackhci/1.0.0b1 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_stack_hci_000001/providers/Microsoft.AzureStackHCI/clusters/cli-test-cluster/arcSettings/default?api-version=2022-01-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_stack_hci_000001/providers/Microsoft.AzureStackHCI/clusters/cli-test-cluster/arcSettings/default","name":"default","type":"microsoft.azurestackhci/clusters/arcsettings","properties":{"provisioningState":"Succeeded","arcInstanceResourceGroup":"cli-test-cluster-35ec4bac-df03-45e1-9dde-7e30f1883b25-Arc-Infra-RG","aggregateState":"NotSpecified","perNodeDetails":[]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '447'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 23 Mar 2022 07:12:46 GMT
      etag:
      - '"15011ced-0000-0100-0000-623ac86b0000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      request-context:
      - appId=
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-providerhub-traffic:
      - 'True'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack-hci arc-setting delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n -g --cluster-name --no-wait --yes
      User-Agent:
      - AZURECLI/2.34.1 azsdk-python-mgmt-azurestackhci/1.0.0b1 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_stack_hci_000001/providers/Microsoft.AzureStackHCI/clusters/cli-test-cluster/arcSettings/default?api-version=2022-01-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 23 Mar 2022 07:12:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-providerhub-traffic:
      - 'True'
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 200
      message: OK
version: 1
