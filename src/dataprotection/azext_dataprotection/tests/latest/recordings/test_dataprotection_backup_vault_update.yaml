interactions:
- request:
    body: '{"identity": {"type": "SystemAssigned"}, "location": "centraluseuap", "properties":
      {"securitySettings": {"immutabilitySettings": {"state": "Unlocked"}, "softDeleteSettings":
      {"state": "Off"}}, "storageSettings": [{"datastoreType": "VaultStore", "type":
      "LocallyRedundant"}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault create
      Connection:
      - keep-alive
      Content-Length:
      - '276'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --vault-name -l --storage-settings --type --soft-delete-state --immutability-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Provisioning","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"securitySettings":{"softDeleteSettings":{"state":"Off","retentionDurationInDays":0.0},"immutabilitySettings":{"state":"Unlocked"}},"secureScore":"None"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2MxMDRhYTNkLTRiZGYtNDhkZi1iNzQ1LTEyNzg0NTRkNjE2Yg==?api-version=2023-05-01
      cache-control:
      - no-cache
      content-length:
      - '741'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:29:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-resource-system-data:
      - '{"createdBy":"zubairabid@microsoft.com","createdByType":"User","createdAt":"2023-08-02T10:29:12.8844478Z","lastModifiedBy":"zubairabid@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-08-02T10:29:12.8844478Z"}'
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=12f8ea5c-1212-449e-b31c-0a574f43076e/centraluseuap/4ad45149-7f7f-4ff2-ac35-a3a4dfa00061
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '98'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name -l --storage-settings --type --soft-delete-state --immutability-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2MxMDRhYTNkLTRiZGYtNDhkZi1iNzQ1LTEyNzg0NTRkNjE2Yg==?api-version=2023-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2MxMDRhYTNkLTRiZGYtNDhkZi1iNzQ1LTEyNzg0NTRkNjE2Yg==","name":"ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2MxMDRhYTNkLTRiZGYtNDhkZi1iNzQ1LTEyNzg0NTRkNjE2Yg==","status":"Inprogress","startTime":"2023-08-02T10:29:13.6361243Z","endTime":"0001-01-01T00:00:00Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '501'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:29:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '984'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name -l --storage-settings --type --soft-delete-state --immutability-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2MxMDRhYTNkLTRiZGYtNDhkZi1iNzQ1LTEyNzg0NTRkNjE2Yg==?api-version=2023-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2MxMDRhYTNkLTRiZGYtNDhkZi1iNzQ1LTEyNzg0NTRkNjE2Yg==","name":"ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2MxMDRhYTNkLTRiZGYtNDhkZi1iNzQ1LTEyNzg0NTRkNjE2Yg==","status":"Succeeded","startTime":"2023-08-02T10:29:13.6361243Z","endTime":"2023-08-02T10:29:14Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '500'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:29:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '983'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name -l --storage-settings --type --soft-delete-state --immutability-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Succeeded","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"securitySettings":{"softDeleteSettings":{"state":"Off","retentionDurationInDays":0.0},"immutabilitySettings":{"state":"Unlocked"}},"secureScore":"None"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '738'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:29:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '497'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --soft-delete-state --retention-duration-in-days
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Succeeded","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"securitySettings":{"softDeleteSettings":{"state":"Off","retentionDurationInDays":0.0},"immutabilitySettings":{"state":"Unlocked"}},"secureScore":"None"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '738'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:29:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '496'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"identity": {"type": "SystemAssigned"}, "location": "centraluseuap", "properties":
      {"securitySettings": {"immutabilitySettings": {"state": "Unlocked"}, "softDeleteSettings":
      {"retentionDurationInDays": 14.0, "state": "On"}}, "storageSettings": [{"datastoreType":
      "VaultStore", "type": "LocallyRedundant"}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      Content-Length:
      - '308'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --vault-name --soft-delete-state --retention-duration-in-days
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Updating","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"securitySettings":{"softDeleteSettings":{"state":"On","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Unlocked"}},"secureScore":"Minimum"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2IxZDg1NmVlLWY5NmEtNDE4OC1hMzAzLThkNDZjODlhNzFhZg==?api-version=2023-05-01
      cache-control:
      - no-cache
      content-length:
      - '740'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:29:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-resource-system-data:
      - '{"lastModifiedBy":"zubairabid@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-08-02T10:29:46.8412719Z"}'
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=12f8ea5c-1212-449e-b31c-0a574f43076e/centraluseuap/93bcd906-c9e3-40ab-940a-21a53cb093fa
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '97'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --soft-delete-state --retention-duration-in-days
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2IxZDg1NmVlLWY5NmEtNDE4OC1hMzAzLThkNDZjODlhNzFhZg==?api-version=2023-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2IxZDg1NmVlLWY5NmEtNDE4OC1hMzAzLThkNDZjODlhNzFhZg==","name":"ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2IxZDg1NmVlLWY5NmEtNDE4OC1hMzAzLThkNDZjODlhNzFhZg==","status":"Inprogress","startTime":"2023-08-02T10:29:47.0792327Z","endTime":"0001-01-01T00:00:00Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '501'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:29:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '982'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --soft-delete-state --retention-duration-in-days
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2IxZDg1NmVlLWY5NmEtNDE4OC1hMzAzLThkNDZjODlhNzFhZg==?api-version=2023-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2IxZDg1NmVlLWY5NmEtNDE4OC1hMzAzLThkNDZjODlhNzFhZg==","name":"ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2IxZDg1NmVlLWY5NmEtNDE4OC1hMzAzLThkNDZjODlhNzFhZg==","status":"Succeeded","startTime":"2023-08-02T10:29:47.0792327Z","endTime":"2023-08-02T10:29:47Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '500'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:30:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '981'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --soft-delete-state --retention-duration-in-days
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Succeeded","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"securitySettings":{"softDeleteSettings":{"state":"On","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Unlocked"}},"secureScore":"Minimum"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '741'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:30:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '495'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --soft-delete-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Succeeded","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"securitySettings":{"softDeleteSettings":{"state":"On","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Unlocked"}},"secureScore":"Minimum"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '741'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:30:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '497'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"identity": {"type": "SystemAssigned"}, "location": "centraluseuap", "properties":
      {"securitySettings": {"immutabilitySettings": {"state": "Unlocked"}, "softDeleteSettings":
      {"retentionDurationInDays": 14.0, "state": "Off"}}, "storageSettings": [{"datastoreType":
      "VaultStore", "type": "LocallyRedundant"}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      Content-Length:
      - '309'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --vault-name --soft-delete-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Updating","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"securitySettings":{"softDeleteSettings":{"state":"Off","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Unlocked"}},"secureScore":"None"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzE1MzI2M2Y1LTAzMTUtNDgyNC04YWMzLTgxY2U1ODYwYThiZA==?api-version=2023-05-01
      cache-control:
      - no-cache
      content-length:
      - '738'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:30:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-resource-system-data:
      - '{"lastModifiedBy":"zubairabid@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-08-02T10:30:20.1780385Z"}'
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=12f8ea5c-1212-449e-b31c-0a574f43076e/centraluseuap/cce7fe4f-c7e2-40e4-a961-e8ec9c6dca8c
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '97'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --soft-delete-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzE1MzI2M2Y1LTAzMTUtNDgyNC04YWMzLTgxY2U1ODYwYThiZA==?api-version=2023-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzE1MzI2M2Y1LTAzMTUtNDgyNC04YWMzLTgxY2U1ODYwYThiZA==","name":"ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzE1MzI2M2Y1LTAzMTUtNDgyNC04YWMzLTgxY2U1ODYwYThiZA==","status":"Inprogress","startTime":"2023-08-02T10:30:20.7138737Z","endTime":"0001-01-01T00:00:00Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '501'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:30:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '985'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --soft-delete-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzE1MzI2M2Y1LTAzMTUtNDgyNC04YWMzLTgxY2U1ODYwYThiZA==?api-version=2023-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzE1MzI2M2Y1LTAzMTUtNDgyNC04YWMzLTgxY2U1ODYwYThiZA==","name":"ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzE1MzI2M2Y1LTAzMTUtNDgyNC04YWMzLTgxY2U1ODYwYThiZA==","status":"Succeeded","startTime":"2023-08-02T10:30:20.7138737Z","endTime":"2023-08-02T10:30:21Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '500'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:30:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '984'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --soft-delete-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Succeeded","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"securitySettings":{"softDeleteSettings":{"state":"Off","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Unlocked"}},"secureScore":"None"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '739'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:30:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '496'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --soft-delete-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Succeeded","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"securitySettings":{"softDeleteSettings":{"state":"Off","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Unlocked"}},"secureScore":"None"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '739'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:30:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '495'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"identity": {"type": "SystemAssigned"}, "location": "centraluseuap", "properties":
      {"securitySettings": {"immutabilitySettings": {"state": "Unlocked"}, "softDeleteSettings":
      {"retentionDurationInDays": 14.0, "state": "AlwaysOn"}}, "storageSettings":
      [{"datastoreType": "VaultStore", "type": "LocallyRedundant"}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      Content-Length:
      - '314'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --vault-name --soft-delete-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Updating","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"securitySettings":{"softDeleteSettings":{"state":"AlwaysOn","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Unlocked"}},"secureScore":"Adequate"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzJlNGZlYmY1LWNiNTItNDRlYS1hZjM1LTY5MjZmOTMzZDk1Ng==?api-version=2023-05-01
      cache-control:
      - no-cache
      content-length:
      - '747'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:30:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-resource-system-data:
      - '{"lastModifiedBy":"zubairabid@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-08-02T10:30:53.7333347Z"}'
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=12f8ea5c-1212-449e-b31c-0a574f43076e/centraluseuap/06a521cd-b00c-416a-a97a-90343c0b2237
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '96'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --soft-delete-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzJlNGZlYmY1LWNiNTItNDRlYS1hZjM1LTY5MjZmOTMzZDk1Ng==?api-version=2023-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzJlNGZlYmY1LWNiNTItNDRlYS1hZjM1LTY5MjZmOTMzZDk1Ng==","name":"ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzJlNGZlYmY1LWNiNTItNDRlYS1hZjM1LTY5MjZmOTMzZDk1Ng==","status":"Inprogress","startTime":"2023-08-02T10:30:54.2334979Z","endTime":"0001-01-01T00:00:00Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '501'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:30:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '983'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --soft-delete-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzJlNGZlYmY1LWNiNTItNDRlYS1hZjM1LTY5MjZmOTMzZDk1Ng==?api-version=2023-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzJlNGZlYmY1LWNiNTItNDRlYS1hZjM1LTY5MjZmOTMzZDk1Ng==","name":"ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzJlNGZlYmY1LWNiNTItNDRlYS1hZjM1LTY5MjZmOTMzZDk1Ng==","status":"Succeeded","startTime":"2023-08-02T10:30:54.2334979Z","endTime":"2023-08-02T10:30:55Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '500'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:31:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '982'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --soft-delete-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Succeeded","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"securitySettings":{"softDeleteSettings":{"state":"AlwaysOn","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Unlocked"}},"secureScore":"Adequate"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '748'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:31:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '494'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --soft-delete-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Succeeded","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"securitySettings":{"softDeleteSettings":{"state":"AlwaysOn","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Unlocked"}},"secureScore":"Adequate"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '748'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:31:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '494'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"identity": {"type": "SystemAssigned"}, "location": "centraluseuap", "properties":
      {"securitySettings": {"immutabilitySettings": {"state": "Unlocked"}, "softDeleteSettings":
      {"retentionDurationInDays": 14.0, "state": "On"}}, "storageSettings": [{"datastoreType":
      "VaultStore", "type": "LocallyRedundant"}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      Content-Length:
      - '308'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --vault-name --soft-delete-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"error":{"additionalInfo":[{"type":"UserFacingError","info":{"message":"Cannot
        disable soft delete once set to AlwaysOn","recommendedAction":["Please contact
        Microsoft Support if this is not expected."],"details":null,"code":"UserErrorDisableSoftDeleteNotAllowed","target":"","innerError":null,"isRetryable":false,"isUserError":false,"properties":{"ActivityId":"bc2a789a-311f-11ee-b7fd-a02919f9519c"}}}],"code":"UserErrorDisableSoftDeleteNotAllowed","message":"Cannot
        disable soft delete once set to AlwaysOn","target":null,"details":null}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '541'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:31:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '96'
      x-powered-by:
      - ASP.NET
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --azure-monitor-alerts-for-job-failures
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Succeeded","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"securitySettings":{"softDeleteSettings":{"state":"AlwaysOn","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Unlocked"}},"secureScore":"Adequate"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '748'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:31:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '493'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"identity": {"type": "SystemAssigned"}, "location": "centraluseuap", "properties":
      {"monitoringSettings": {"azureMonitorAlertSettings": {"alertsForAllJobFailures":
      "Enabled"}}, "securitySettings": {"immutabilitySettings": {"state": "Unlocked"},
      "softDeleteSettings": {"retentionDurationInDays": 14.0, "state": "AlwaysOn"}},
      "storageSettings": [{"datastoreType": "VaultStore", "type": "LocallyRedundant"}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      Content-Length:
      - '407'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --vault-name --azure-monitor-alerts-for-job-failures
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Updating","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"}},"securitySettings":{"softDeleteSettings":{"state":"AlwaysOn","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Unlocked"}},"secureScore":"Adequate"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzFkZjQxMWU2LTJmMmMtNDBhMy1hMTczLTU0YWY3MWQyYjYyMQ==?api-version=2023-05-01
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:31:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-resource-system-data:
      - '{"lastModifiedBy":"zubairabid@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-08-02T10:31:29.2295982Z"}'
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=12f8ea5c-1212-449e-b31c-0a574f43076e/centraluseuap/3039440e-cbe9-4b01-a5c8-7da8af9bd48f
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '95'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --azure-monitor-alerts-for-job-failures
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzFkZjQxMWU2LTJmMmMtNDBhMy1hMTczLTU0YWY3MWQyYjYyMQ==?api-version=2023-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzFkZjQxMWU2LTJmMmMtNDBhMy1hMTczLTU0YWY3MWQyYjYyMQ==","name":"ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzFkZjQxMWU2LTJmMmMtNDBhMy1hMTczLTU0YWY3MWQyYjYyMQ==","status":"Inprogress","startTime":"2023-08-02T10:31:29.4061244Z","endTime":"0001-01-01T00:00:00Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '501'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:31:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '980'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --azure-monitor-alerts-for-job-failures
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzFkZjQxMWU2LTJmMmMtNDBhMy1hMTczLTU0YWY3MWQyYjYyMQ==?api-version=2023-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzFkZjQxMWU2LTJmMmMtNDBhMy1hMTczLTU0YWY3MWQyYjYyMQ==","name":"ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzFkZjQxMWU2LTJmMmMtNDBhMy1hMTczLTU0YWY3MWQyYjYyMQ==","status":"Succeeded","startTime":"2023-08-02T10:31:29.4061244Z","endTime":"2023-08-02T10:31:30Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '500'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:31:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '979'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --azure-monitor-alerts-for-job-failures
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Succeeded","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"}},"securitySettings":{"softDeleteSettings":{"state":"AlwaysOn","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Unlocked"}},"secureScore":"Adequate"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '837'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:31:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '492'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --azure-monitor-alerts-for-job-failures
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Succeeded","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"}},"securitySettings":{"softDeleteSettings":{"state":"AlwaysOn","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Unlocked"}},"secureScore":"Adequate"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '837'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:32:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '497'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"identity": {"type": "SystemAssigned"}, "location": "centraluseuap", "properties":
      {"monitoringSettings": {"azureMonitorAlertSettings": {"alertsForAllJobFailures":
      "Disabled"}}, "securitySettings": {"immutabilitySettings": {"state": "Unlocked"},
      "softDeleteSettings": {"retentionDurationInDays": 14.0, "state": "AlwaysOn"}},
      "storageSettings": [{"datastoreType": "VaultStore", "type": "LocallyRedundant"}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      Content-Length:
      - '408'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --vault-name --azure-monitor-alerts-for-job-failures
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Updating","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Disabled"}},"securitySettings":{"softDeleteSettings":{"state":"AlwaysOn","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Unlocked"}},"secureScore":"Adequate"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzNmMjFmYzUwLTE3MDMtNDNiNi1iY2E1LTZmNzc1NTRiYzAyYQ==?api-version=2023-05-01
      cache-control:
      - no-cache
      content-length:
      - '837'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:32:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-resource-system-data:
      - '{"lastModifiedBy":"zubairabid@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-08-02T10:32:02.5479213Z"}'
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=12f8ea5c-1212-449e-b31c-0a574f43076e/centraluseuap/218d3d60-135f-4fb0-9066-e4147f0e7268
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '98'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --azure-monitor-alerts-for-job-failures
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzNmMjFmYzUwLTE3MDMtNDNiNi1iY2E1LTZmNzc1NTRiYzAyYQ==?api-version=2023-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzNmMjFmYzUwLTE3MDMtNDNiNi1iY2E1LTZmNzc1NTRiYzAyYQ==","name":"ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzNmMjFmYzUwLTE3MDMtNDNiNi1iY2E1LTZmNzc1NTRiYzAyYQ==","status":"Inprogress","startTime":"2023-08-02T10:32:03.0357237Z","endTime":"0001-01-01T00:00:00Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '501'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:32:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '965'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --azure-monitor-alerts-for-job-failures
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzNmMjFmYzUwLTE3MDMtNDNiNi1iY2E1LTZmNzc1NTRiYzAyYQ==?api-version=2023-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzNmMjFmYzUwLTE3MDMtNDNiNi1iY2E1LTZmNzc1NTRiYzAyYQ==","name":"ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4OzNmMjFmYzUwLTE3MDMtNDNiNi1iY2E1LTZmNzc1NTRiYzAyYQ==","status":"Succeeded","startTime":"2023-08-02T10:32:03.0357237Z","endTime":"2023-08-02T10:32:05Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '500'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:32:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '964'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --azure-monitor-alerts-for-job-failures
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Succeeded","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Disabled"}},"securitySettings":{"softDeleteSettings":{"state":"AlwaysOn","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Unlocked"}},"secureScore":"Adequate"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '838'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:32:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '496'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --immutability-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Succeeded","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Disabled"}},"securitySettings":{"softDeleteSettings":{"state":"AlwaysOn","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Unlocked"}},"secureScore":"Adequate"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '838'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:32:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '490'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"identity": {"type": "SystemAssigned"}, "location": "centraluseuap", "properties":
      {"monitoringSettings": {"azureMonitorAlertSettings": {"alertsForAllJobFailures":
      "Disabled"}}, "securitySettings": {"immutabilitySettings": {"state": "Disabled"},
      "softDeleteSettings": {"retentionDurationInDays": 14.0, "state": "AlwaysOn"}},
      "storageSettings": [{"datastoreType": "VaultStore", "type": "LocallyRedundant"}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      Content-Length:
      - '408'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --vault-name --immutability-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Updating","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Disabled"}},"securitySettings":{"softDeleteSettings":{"state":"AlwaysOn","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Disabled"}},"secureScore":"Adequate"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4Ozg2ZDIzYTllLWNlMTUtNDQxOC1hNjIzLTY4NGJkZThiODNlYw==?api-version=2023-05-01
      cache-control:
      - no-cache
      content-length:
      - '837'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:32:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-resource-system-data:
      - '{"lastModifiedBy":"zubairabid@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-08-02T10:32:36.138123Z"}'
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=12f8ea5c-1212-449e-b31c-0a574f43076e/centraluseuap/347fd570-455d-47e8-893b-73906dec29d1
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '94'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --immutability-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4Ozg2ZDIzYTllLWNlMTUtNDQxOC1hNjIzLTY4NGJkZThiODNlYw==?api-version=2023-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4Ozg2ZDIzYTllLWNlMTUtNDQxOC1hNjIzLTY4NGJkZThiODNlYw==","name":"ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4Ozg2ZDIzYTllLWNlMTUtNDQxOC1hNjIzLTY4NGJkZThiODNlYw==","status":"Inprogress","startTime":"2023-08-02T10:32:36.3176983Z","endTime":"0001-01-01T00:00:00Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '501'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:32:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '978'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --immutability-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4Ozg2ZDIzYTllLWNlMTUtNDQxOC1hNjIzLTY4NGJkZThiODNlYw==?api-version=2023-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4Ozg2ZDIzYTllLWNlMTUtNDQxOC1hNjIzLTY4NGJkZThiODNlYw==","name":"ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4Ozg2ZDIzYTllLWNlMTUtNDQxOC1hNjIzLTY4NGJkZThiODNlYw==","status":"Succeeded","startTime":"2023-08-02T10:32:36.3176983Z","endTime":"2023-08-02T10:32:37Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '500'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:33:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '977'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --immutability-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Succeeded","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Disabled"}},"securitySettings":{"softDeleteSettings":{"state":"AlwaysOn","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Disabled"}},"secureScore":"Adequate"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '838'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:33:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '489'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --immutability-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Succeeded","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Disabled"}},"securitySettings":{"softDeleteSettings":{"state":"AlwaysOn","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Disabled"}},"secureScore":"Adequate"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '838'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:33:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '488'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"identity": {"type": "SystemAssigned"}, "location": "centraluseuap", "properties":
      {"monitoringSettings": {"azureMonitorAlertSettings": {"alertsForAllJobFailures":
      "Disabled"}}, "securitySettings": {"immutabilitySettings": {"state": "Locked"},
      "softDeleteSettings": {"retentionDurationInDays": 14.0, "state": "AlwaysOn"}},
      "storageSettings": [{"datastoreType": "VaultStore", "type": "LocallyRedundant"}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      Content-Length:
      - '406'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --vault-name --immutability-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Updating","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Disabled"}},"securitySettings":{"softDeleteSettings":{"state":"AlwaysOn","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Locked"}},"secureScore":"Adequate"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2RjMzI5MTZmLTUxNTMtNDhmMS1iN2ExLWY2ZmRhMjcyYzIwZA==?api-version=2023-05-01
      cache-control:
      - no-cache
      content-length:
      - '835'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:33:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-resource-system-data:
      - '{"lastModifiedBy":"zubairabid@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-08-02T10:33:09.344013Z"}'
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=12f8ea5c-1212-449e-b31c-0a574f43076e/centraluseuap/886a3462-99e4-423d-9111-5ed4a663a193
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '93'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --immutability-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2RjMzI5MTZmLTUxNTMtNDhmMS1iN2ExLWY2ZmRhMjcyYzIwZA==?api-version=2023-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2RjMzI5MTZmLTUxNTMtNDhmMS1iN2ExLWY2ZmRhMjcyYzIwZA==","name":"ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2RjMzI5MTZmLTUxNTMtNDhmMS1iN2ExLWY2ZmRhMjcyYzIwZA==","status":"Inprogress","startTime":"2023-08-02T10:33:09.5016778Z","endTime":"0001-01-01T00:00:00Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '501'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:33:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '976'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --immutability-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2RjMzI5MTZmLTUxNTMtNDhmMS1iN2ExLWY2ZmRhMjcyYzIwZA==?api-version=2023-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault/operationStatus/ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2RjMzI5MTZmLTUxNTMtNDhmMS1iN2ExLWY2ZmRhMjcyYzIwZA==","name":"ZDBkYjJkYmMtMzcxZC00YjljLTk2MzctZTNkODYzNzhhNjk4O2RjMzI5MTZmLTUxNTMtNDhmMS1iN2ExLWY2ZmRhMjcyYzIwZA==","status":"Succeeded","startTime":"2023-08-02T10:33:09.5016778Z","endTime":"2023-08-02T10:33:10Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '500'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:33:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '975'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --immutability-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Succeeded","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Disabled"}},"securitySettings":{"softDeleteSettings":{"state":"AlwaysOn","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Locked"}},"secureScore":"Adequate"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:33:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '487'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name --immutability-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"location":"centraluseuap","identity":{"type":"SystemAssigned","principalId":"885769cc-137c-46e8-b324-96045ada0069","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"properties":{"provisioningState":"Succeeded","storageSettings":[{"datastoreType":"VaultStore","type":"LocallyRedundant"}],"isVaultProtectedByResourceGuard":false,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Disabled"}},"securitySettings":{"softDeleteSettings":{"state":"AlwaysOn","retentionDurationInDays":14.0},"immutabilitySettings":{"state":"Locked"}},"secureScore":"Adequate"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault","name":"cli-test-backup-vault","type":"Microsoft.DataProtection/backupVaults"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:33:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '498'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"identity": {"type": "SystemAssigned"}, "location": "centraluseuap", "properties":
      {"monitoringSettings": {"azureMonitorAlertSettings": {"alertsForAllJobFailures":
      "Disabled"}}, "securitySettings": {"immutabilitySettings": {"state": "Unlocked"},
      "softDeleteSettings": {"retentionDurationInDays": 14.0, "state": "AlwaysOn"}},
      "storageSettings": [{"datastoreType": "VaultStore", "type": "LocallyRedundant"}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - dataprotection backup-vault update
      Connection:
      - keep-alive
      Content-Length:
      - '408'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --vault-name --immutability-state
      User-Agent:
      - AZURECLI/2.49.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-dpp-backupvault-000001/providers/Microsoft.DataProtection/backupVaults/cli-test-backup-vault?api-version=2023-05-01
  response:
    body:
      string: '{"error":{"additionalInfo":[{"type":"UserFacingError","info":{"message":"The
        immutable vault property for this vault is locked, hence, this setting cannot
        be disabled.","recommendedAction":["The vault has its immutable vault property
        enabled and locked, and it can no longer be reverted to a non-immutable vault.
        Refer to the documentation to learn more: https://aka.ms/AB-ImmutableVaults-States
        "],"details":null,"code":"UserErrorUnsupportedVaultImmutabilityStateChange","target":"","innerError":null,"isRetryable":false,"isUserError":false,"properties":{"ActivityId":"0ce672aa-3120-11ee-baaa-a02919f9519c"}}}],"code":"UserErrorUnsupportedVaultImmutabilityStateChange","message":"The
        immutable vault property for this vault is locked, hence, this setting cannot
        be disabled.","target":null,"details":null}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '807'
      content-type:
      - application/json
      date:
      - Wed, 02 Aug 2023 10:33:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '98'
      x-powered-by:
      - ASP.NET
    status:
      code: 400
      message: Bad Request
version: 1
