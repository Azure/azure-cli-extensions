# --------------------------------------------------------------------------
# Copyright (c) Microsoft Corporation. All rights reserved.
# Licensed under the MIT License. See License.txt in the project root for
# license information.
#
# Code generated by Microsoft (R) AutoRest Code Generator.
# Changes may cause incorrect behavior and will be lost if the code is
# regenerated.
# --------------------------------------------------------------------------
# pylint: disable=too-many-lines
# pylint: disable=unused-argument

from azure.cli.core.util import sdk_no_wait


def purview_account_list(client,
                         resource_group_name=None,
                         skip_token=None):
    if resource_group_name:
        return client.list_by_resource_group(resource_group_name=resource_group_name,
                                             skip_token=skip_token)
    return client.list_by_subscription(skip_token=skip_token)


def purview_account_show(client,
                         resource_group_name,
                         account_name):
    return client.get(resource_group_name=resource_group_name,
                      account_name=account_name)


def purview_account_create(client,
                           resource_group_name,
                           account_name,
                           location=None,
                           tags=None,
                           managed_group_name=None,
                           public_network_access=None,
                           no_wait=False):
    account = {}
    if location is not None:
        account['location'] = location
    if tags is not None:
        account['tags'] = tags
    account['identity'] = {}
    account['identity']['type'] = "SystemAssigned"
    if len(account['identity']) == 0:
        del account['identity']
    account['sku'] = {'name': 'Standard'}
    if managed_group_name is not None:
        account['managed_resource_group_name'] = managed_group_name
    if public_network_access is not None:
        account['public_network_access'] = public_network_access
    else:
        account['public_network_access'] = "Enabled"
    return sdk_no_wait(no_wait,
                       client.begin_create_or_update,
                       resource_group_name=resource_group_name,
                       account_name=account_name,
                       account=account)


def purview_account_update(client,
                           resource_group_name,
                           account_name,
                           tags=None,
                           managed_group_name=None,
                           public_network_access=None,
                           no_wait=False):
    account_update_parameters = {}
    if tags is not None:
        account_update_parameters['tags'] = tags
    account_update_parameters['properties'] = {}
    if managed_group_name is not None:
        account_update_parameters['properties']['managed_resource_group_name'] = managed_group_name
    if public_network_access is not None:
        account_update_parameters['properties']['public_network_access'] = public_network_access
    else:
        account_update_parameters['properties']['public_network_access'] = "Enabled"
    if len(account_update_parameters['properties']) == 0:
        del account_update_parameters['properties']
    return sdk_no_wait(no_wait,
                       client.begin_update,
                       resource_group_name=resource_group_name,
                       account_name=account_name,
                       account_update_parameters=account_update_parameters)


def purview_account_delete(client,
                           resource_group_name,
                           account_name,
                           no_wait=False):
    return sdk_no_wait(no_wait,
                       client.begin_delete,
                       resource_group_name=resource_group_name,
                       account_name=account_name)


def purview_account_add_root_collection_admin(client,
                                              resource_group_name,
                                              account_name,
                                              object_id=None):
    collection_admin_update = {}
    if object_id is not None:
        collection_admin_update['object_id'] = object_id
    return client.add_root_collection_admin(resource_group_name=resource_group_name,
                                            account_name=account_name,
                                            collection_admin_update=collection_admin_update)


def purview_account_list_key(client,
                             resource_group_name,
                             account_name):
    return client.list_keys(resource_group_name=resource_group_name,
                            account_name=account_name)


def purview_default_account_show(client,
                                 scope_tenant_id,
                                 scope_type,
                                 scope=None):
    return client.get(scope_tenant_id=scope_tenant_id,
                      scope_type=scope_type,
                      scope=scope)


def purview_default_account_remove(client,
                                   scope_tenant_id,
                                   scope_type,
                                   scope=None):
    return client.remove(scope_tenant_id=scope_tenant_id,
                         scope_type=scope_type,
                         scope=scope)


def purview_default_account_set(client,
                                subscription_id,
                                scope_tenant_id,
                                account_name=None,
                                resource_group_name=None,
                                scope=None,
                                scope_type=None):
    default_account_payload = {}
    if account_name is not None:
        default_account_payload['account_name'] = account_name
    if resource_group_name is not None:
        default_account_payload['resource_group_name'] = resource_group_name
    if scope is not None:
        default_account_payload['scope'] = scope
    default_account_payload['scope_tenant_id'] = scope_tenant_id
    if scope_type is not None:
        default_account_payload['scope_type'] = scope_type
    default_account_payload['subscription_id'] = subscription_id
    return client.set(default_account_payload=default_account_payload)


def purview_connect_endpoint_list(client,
                                  resource_group_name,
                                  account_name,
                                  skip_token=None):
    return client.list_by_account(resource_group_name=resource_group_name,
                                  account_name=account_name,
                                  skip_token=skip_token)


def purview_connect_endpoint_show(client,
                                  resource_group_name,
                                  account_name,
                                  endpoint_name):
    return client.get(resource_group_name=resource_group_name,
                      account_name=account_name,
                      private_endpoint_connection_name=endpoint_name)


def purview_connect_endpoint_create(client,
                                    resource_group_name,
                                    account_name,
                                    private_endpoint_connection_name,
                                    required_actions=None,
                                    description=None,
                                    status=None,
                                    id_=None,
                                    no_wait=False):
    request = {}
    request['private_link_service_connection_state'] = {}
    if required_actions is not None:
        request['private_link_service_connection_state']["actions_required"] = required_actions
    if status is not None:
        request['private_link_service_connection_state']["status"] = status
    if description is not None:
        request['private_link_service_connection_state']["description"] = description
    request['private_endpoint'] = {}
    if id_ is not None:
        request['private_endpoint']['id'] = id_
    if len(request['private_endpoint']) == 0:
        del request['private_endpoint']
    return sdk_no_wait(no_wait,
                       client.begin_create_or_update,
                       resource_group_name=resource_group_name,
                       account_name=account_name,
                       private_endpoint_connection_name=private_endpoint_connection_name,
                       request=request)


def purview_connect_endpoint_update(instance,
                                    resource_group_name,
                                    account_name,
                                    private_endpoint_connection_name,
                                    required_actions=None,
                                    description=None,
                                    status=None,
                                    id_=None,
                                    no_wait=False):
    if required_actions is not None:
        instance.private_link_service_connection_state.actions_required = required_actions
    if description is not None:
        instance.private_link_service_connection_state.description = description
    if status is not None:
        instance.private_link_service_connection_state.status = status
    if id_ is not None:
        instance.private_endpoint.id = id_
    return instance


def purview_connect_endpoint_delete(client,
                                    resource_group_name,
                                    account_name,
                                    endpoint_name,
                                    no_wait=False):
    return sdk_no_wait(no_wait,
                       client.begin_delete,
                       resource_group_name=resource_group_name,
                       account_name=account_name,
                       private_endpoint_connection_name=endpoint_name)


def purview_private_link_resource_list(client,
                                       resource_group_name,
                                       account_name):
    return client.list_by_account(resource_group_name=resource_group_name,
                                  account_name=account_name)


def purview_private_link_resource_show(client,
                                       resource_group_name,
                                       account_name,
                                       group_id):
    return client.get_by_group_id(resource_group_name=resource_group_name,
                                  account_name=account_name,
                                  group_id=group_id)
