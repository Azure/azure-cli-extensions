# --------------------------------------------------------------------------
# Copyright (c) Microsoft Corporation. All rights reserved.
# Licensed under the MIT License. See License.txt in the project root for
# license information.
#
# Code generated by Microsoft (R) AutoRest Code Generator.
# Changes may cause incorrect behavior and will be lost if the code is
# regenerated.
# --------------------------------------------------------------------------
# pylint: disable=too-many-lines
# pylint: disable=unused-argument


from azure.cli.core.util import sdk_no_wait


def purview_account_create(client,
                           resource_group_name,
                           account_name,
                           location=None,
                           tags=None,
                           managed_group_name=None,
                           public_network_access=None,
                           no_wait=False):
    account = {}
    if location is not None:
        account['location'] = location
    if tags is not None:
        account['tags'] = tags
    account['identity'] = {}
    account['identity']['type'] = "SystemAssigned"
    if len(account['identity']) == 0:
        del account['identity']
    account['sku'] = {'name': 'Standard'}
    if managed_group_name is not None:
        account['managed_resource_group_name'] = managed_group_name
    if public_network_access is not None:
        account['public_network_access'] = public_network_access
    else:
        account['public_network_access'] = "Enabled"
    return sdk_no_wait(no_wait,
                       client.begin_create_or_update,
                       resource_group_name=resource_group_name,
                       account_name=account_name,
                       account=account)


def purview_account_update(client,
                           resource_group_name,
                           account_name,
                           tags=None,
                           managed_group_name=None,
                           public_network_access=None,
                           no_wait=False):
    account_update_parameters = {}
    if tags is not None:
        account_update_parameters['tags'] = tags
    account_update_parameters['properties'] = {}
    if managed_group_name is not None:
        account_update_parameters['properties']['managed_resource_group_name'] = managed_group_name
    if public_network_access is not None:
        account_update_parameters['properties']['public_network_access'] = public_network_access
    if len(account_update_parameters['properties']) == 0:
        del account_update_parameters['properties']
    return sdk_no_wait(no_wait,
                       client.begin_update,
                       resource_group_name=resource_group_name,
                       account_name=account_name,
                       account_update_parameters=account_update_parameters)


def purview_default_account_set(client,
                                subscription_id,
                                scope_tenant_id,
                                account_name=None,
                                resource_group_name=None,
                                scope=None,
                                scope_type=None):
    default_account_payload = {}
    if account_name is not None:
        default_account_payload['account_name'] = account_name
    if resource_group_name is not None:
        default_account_payload['resource_group_name'] = resource_group_name
    if scope is not None:
        default_account_payload['scope'] = scope
    default_account_payload['scope_tenant_id'] = scope_tenant_id
    if scope_type is not None:
        default_account_payload['scope_type'] = scope_type
    default_account_payload['subscription_id'] = subscription_id
    return client.set(default_account_payload=default_account_payload)
