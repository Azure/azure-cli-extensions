# --------------------------------------------------------------------------------------------
# Copyright (c) Microsoft Corporation. All rights reserved.
# Licensed under the MIT License. See License.txt in the project root for license information.
#
# Code generated by aaz-dev-tools
# --------------------------------------------------------------------------------------------

# pylint: disable=too-many-lines
# pylint: disable=too-many-statements

from knack.log import get_logger

from .aaz.latest.azure_terraform import ExportTerraform as _ExportTerraform
from azure.cli.core.aaz import has_value
from azure.cli.core.azclierror import ArgumentUsageError


class ExportTerraform(_ExportTerraform):
    def pre_operations(self):
        args = self.ctx.args
        count = 0
        if has_value(args.export_resource):
            count += 1
        if has_value(args.export_resource_group):
            count += 1
        if has_value(args.export_query):
            count += 1
        if count != 1:
            err_msg = 'Exactly one of "--export-resource", "--export-resource-group", ' \
                      '"--export-query" should be specified'
            raise ArgumentUsageError(err_msg)


logger = get_logger(__name__)
