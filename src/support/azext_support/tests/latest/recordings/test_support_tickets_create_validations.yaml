interactions:
- request:
    body: '{"name": "test_ticket_from_cli_000001", "type": "Microsoft.Support/supportTickets"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - support tickets create
      Connection:
      - keep-alive
      Content-Length:
      - '86'
      Content-Type:
      - application/json
      ParameterSetName:
      - --debug --description --severity --ticket-name --severity --title --contact-country
        --contact-email --contact-first-name --contact-language --contact-last-name
        --contact-method --contact-timezone --problem-classification --technical-resource
      User-Agent:
      - AZURECLI/2.27.0 azsdk-python-mgmt-support/6.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Support/checkNameAvailability?api-version=2020-04-01
  response:
    body:
      string: '{"nameAvailable":true}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 03 Aug 2021 22:18:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"description": "test ticket from python cli test. Do not
      assign and close after a day.", "problemClassificationId": "/providers/Microsoft.Support/services/cddd3eb5-1830-b494-44fd-782f691479dc/problemClassifications/ef8b3865-0c5a-247b-dcaa-d70fd7611a3c",
      "severity": "minimal", "require24X7Response": false, "contactDetails": {"firstName":
      "Foo", "lastName": "Bar", "preferredContactMethod": "email", "primaryEmailAddress":
      "azengcase@microsoft.com", "preferredTimeZone": "Pacific Standard Time", "country":
      "USA", "preferredSupportLanguage": "en-US"}, "title": "test ticket from python
      cli test. Do not assign and close after a day.", "problemStartTime": "2021-08-03T15:18:13.000Z",
      "serviceId": "/providers/Microsoft.Support/services/cddd3eb5-1830-b494-44fd-782f691479dc",
      "technicalTicketDetails": {"resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test/providers/Microsoft.Compute/virtualMachines/testserver"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - support tickets create
      Connection:
      - keep-alive
      Content-Length:
      - '962'
      Content-Type:
      - application/json
      ParameterSetName:
      - --debug --description --severity --ticket-name --severity --title --contact-country
        --contact-email --contact-first-name --contact-language --contact-last-name
        --contact-method --contact-timezone --problem-classification --technical-resource
      User-Agent:
      - AZURECLI/2.27.0 azsdk-python-mgmt-support/6.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Support/supportTickets/test_ticket_from_cli_000001?api-version=2020-04-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Support/operationsStatus/73427ccd-6ccf-437f-aa95-c9636c202988?api-version=2020-04-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Tue, 03 Aug 2021 22:18:15 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Support/operationResults/73427ccd-6ccf-437f-aa95-c9636c202988?api-version=2020-04-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - support tickets create
      Connection:
      - keep-alive
      ParameterSetName:
      - --debug --description --severity --ticket-name --severity --title --contact-country
        --contact-email --contact-first-name --contact-language --contact-last-name
        --contact-method --contact-timezone --problem-classification --technical-resource
      User-Agent:
      - AZURECLI/2.27.0 azsdk-python-mgmt-support/6.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Support/operationsStatus/73427ccd-6ccf-437f-aa95-c9636c202988?api-version=2020-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Support/operationsStatus/73427ccd-6ccf-437f-aa95-c9636c202988","status":"Failed","error":{"code":"InvalidParameterValue","message":"Resource
        Id /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test/providers/Microsoft.Compute/virtualMachines/testserver
        is not valid. Provide a valid ResourceId for technical support ticket","target":"Resource
        Id /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test/providers/Microsoft.Compute/virtualMachines/testserver
        is not valid. Provide a valid ResourceId for technical support ticket","details":[]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '655'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 03 Aug 2021 22:18:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"name": "12345", "type": "Microsoft.Support/supportTickets"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - support tickets create
      Connection:
      - keep-alive
      Content-Length:
      - '61'
      Content-Type:
      - application/json
      ParameterSetName:
      - --debug --description --severity --ticket-name --severity --title --contact-country
        --contact-email --contact-first-name --contact-language --contact-last-name
        --contact-method --contact-timezone --problem-classification
      User-Agent:
      - AZURECLI/2.27.0 azsdk-python-mgmt-support/6.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Support/checkNameAvailability?api-version=2020-04-01
  response:
    body:
      string: '{"message":"Name 12345 is invalid. The name cannot include: ''<'',
        ''>'', ''%'', ''&'', '':'', '''', ''?'', ''/'' or any control characters.
        It cannot be all digits and cannot start with ''tmp-''. The max length is
        260 characters.","nameAvailable":false,"reason":"Invalid"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '255'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 03 Aug 2021 22:18:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
version: 1
