interactions:
- request:
    body: '{"subscriptions": ["34e09169-36e2-4117-ae05-98b60ea39dc4", "a18897a6-7e44-457d-9260-f2854c0aca42",
      "7a7b5559-58af-401a-b543-61b7321a97ea", "bac420ed-c6fc-4a05-8ac1-8c0c52da1d6e",
      "8c4b5b03-3b24-4ed0-91f5-a703cd91b412", "7fd08dcc-a653-4b0f-8f8c-4dac889fdda4",
      "eef8b6d5-94da-4b36-9327-a662f2674efb", "c3547baf-332f-4d8f-96bd-0659b39c7a59",
      "dad45786-32e5-4ef3-b90e-8e0838fbadb6", "67be8e7b-e151-4c02-8498-53105ffa17a2",
      "333e402a-65a0-45a9-8e23-867ca146c290", "482e1993-01d4-4b16-bff4-1866929176a1",
      "5b4328b8-7b74-4d86-86fd-f2c35f2790fb", "e01de573-132a-42ac-9ee2-f9dea9dd2717",
      "4115b323-4aac-47f4-bb13-22af265ed58b", "83a9a25f-d922-437f-bc5b-79f3b6827513",
      "82506e98-9fdb-41f5-ab67-031005041a26", "9de1303d-cac3-4232-9269-a7109121f58f",
      "545c26fd-2ef6-47b8-93c4-388195fe9a13", "7fbede26-8cd1-4cc5-bbeb-b46eb1cab9ec",
      "02d59989-f8a9-4b69-9919-1ef51df4eff6", "893ae430-4bab-40c6-8ee7-37b281de868b",
      "d0610b27-9663-4c05-89f8-5b4be01e86a5", "4d747266-6ac4-4929-89e2-4cfe9a71858b",
      "9ec1d932-0f3f-486c-acc6-e7d78b358f9b", "8c2c7b23-848d-40fe-b817-690d79ad9dfd",
      "29de2cfc-f00a-43bb-bdc8-3108795bd282", "7afc2d66-d5b4-4e84-970b-a782e3e4cc46",
      "9859901f-eff8-418d-bea5-9ab865a222d3", "e234e682-48fa-4666-a66d-87d198bff8ca",
      "e93fc123-9a63-4f66-89fe-45ec0598cee2", "3c69a94e-4f48-4b8b-8bdf-aff82fa0ac9c",
      "8cff5d56-95fb-4a74-ab9d-079edb45313e", "8a6e61f6-4dae-4242-b835-83b8aafcbbed",
      "eec2de82-6ab2-4a84-ae5f-57e9a10bf661", "d21a0e9f-5e29-4b39-8ba5-0e189bc5fe2d",
      "02d68940-61e6-42d0-81d1-8396b7451114", "ae71ef11-a03f-4b4f-a0e6-ef144727c711",
      "8ae1955e-f748-4273-a507-10159ba940f9", "c1c21d53-ea09-4dcf-9c3d-a86941c960cc",
      "0ee78edb-a0ad-456c-a0a2-901bf542c102", "cd0fa82d-b6b6-4361-b002-050c32f71353",
      "6560575d-fa06-4e7d-95fb-f962e74efd7a", "d03b04c7-d1d4-467b-aaaa-87b6fcb38b38",
      "26b9b438-7fe8-482f-b732-ea99c70f2abb", "8bc2f89b-c4f6-4559-ad6a-4f2cfa6ccc49",
      "eb87f285-893a-4f0f-8c55-7b4f67b1d097", "58706c15-d8a1-4397-af3c-e1ebf1cbebe5",
      "963c56be-5368-4fd1-9477-f7d214f9888a", "52a442a2-31e9-42f9-8e3e-4b27dbf82673",
      "409a3e06-8d9d-42d0-9524-cabb95979917", "1896ae80-f3b4-41c9-a53d-afc110fedfba",
      "2145a411-d149-4010-84d4-40fe8a55db44", "ac6bcfb5-3dc1-491f-95a6-646b89bf3e88",
      "687abe80-e1f1-4262-bb51-2f4a83d163ae", "b73008f1-9052-46bd-9c73-0d7128ac181c",
      "00c06639-6ee4-454e-8058-8d8b1703bd87", "e78961ba-36fe-4739-9212-e3031b4c8db7",
      "a838a7b4-2ab8-4b05-8c45-8fd1f205580c"], "query": "project id, tags, properties
      | limit 2", "options": {"$top": 100, "$skip": 0, "resultFormat": "objectArray",
      "allowPartialScopes": false}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - graph query
      Connection:
      - keep-alive
      Content-Length:
      - '2528'
      Content-Type:
      - application/json
      ParameterSetName:
      - -q
      User-Agent:
      - AZURECLI/2.21.0 azsdk-python-mgmt-resourcegraph/8.0.0 Python/3.7.9 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/providers/Microsoft.ResourceGraph/resources?api-version=2021-03-01
  response:
    body:
      string: '{"totalRecords":2,"count":2,"data":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/TestRG--202104281734-6FDC6EFE-westus2/providers/Microsoft.CustomProviders/resourceProviders/Resource--17F133E0","tags":{},"properties":{"provisioningState":"Succeeded","resourceTypes":[{"name":"users","endpoint":"https://customprovidersrprunnersfunctionsapp.azurewebsites.net/api/resources/users","routingType":"Proxy"}],"validations":[{"validationType":"Swagger","specification":"https://raw.githubusercontent.com/Azure/azure-custom-providers/master/RunnerSwagger/userresource.json"}]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/TestRG--202104281735-0C2F1EC0-eastus2euap/providers/Microsoft.CustomProviders/resourceProviders/Resource--7ADB3EEC","tags":{},"properties":{"provisioningState":"Succeeded","actions":[{"name":"TestAction","endpoint":"https://customprovidersrprunnersfunctionsapp.azurewebsites.net/api/actions/testaction","routingType":"Proxy"}]}}],"facets":[],"resultTruncated":"false"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1040'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 28 Apr 2021 17:37:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-tenant-resource-requests:
      - '14'
      x-ms-user-quota-remaining:
      - '14'
      x-ms-user-quota-resets-after:
      - 00:00:05
    status:
      code: 200
      message: OK
version: 1
