# --------------------------------------------------------------------------
# Copyright (c) Microsoft Corporation. All rights reserved.
# Licensed under the MIT License. See License.txt in the project root for
# license information.
#
# Code generated by Microsoft (R) AutoRest Code Generator.
# Changes may cause incorrect behavior and will be lost if the code is
# regenerated.
# --------------------------------------------------------------------------

import os
from azure.cli.testsdk import ScenarioTest
from azure.cli.testsdk import ResourceGroupPreparer
from .preparers import VirtualNetworkPreparer
from .preparers import SubnetPreparer
from .example_steps import step_database_account_create2
from .example_steps import step_database_account_create
from .example_steps import step_table_resource_create_update_table
from .example_steps import step_sql_resource_create_update_sql_database
from .example_steps import step_mongo_db_resource3
from .example_steps import step_gremlin_resource_create
from .example_steps import step_cassandra_resource_create
from .example_steps import step_notebook_workspace_create
from .example_steps import step_gremlin_resource_create_update_gremlin_graph
from .example_steps import step_cassandra_resource_create2
from .example_steps import step_sql_resource_create_update_sql_container
from .example_steps import step_private_endpoint_connection_create
from .example_steps import step_mongo_db_resource
from .example_steps import step_table_resource_update_table_throughput
from .example_steps import step_sql_resource_update_sql_database_throughput
from .example_steps import step_mongo_db_resource4
from .example_steps import step_gremlin_resource_update
from .example_steps import step_cassandra_resource_update
from .example_steps import step_sql_resource_create_update_sql_trigger
from .example_steps import step_gremlin_resource_update2
from .example_steps import step_sql_resource_create3
from .example_steps import step_cassandra_resource_update2
from .example_steps import step_sql_resource_update_sql_container_throughput
from .example_steps import step_sql_resource_create4
from .example_steps import step_mongo_db_resource2
from .example_steps import step_partition_key_range_id_region_list_metric
from .example_steps import step_mongo_db_resource5
from .example_steps import step_sql_resource_show_sql_user_defined_function
from .example_steps import step_partition_key_range_id_list_metric
from .example_steps import step_collection_partition_region_list_metric
from .example_steps import step_sql_resource_show_sql_container_throughput
from .example_steps import step_cassandra_resource_show2
from .example_steps import step_sql_resource_show_sql_stored_procedure
from .example_steps import step_gremlin_resource_show2
from .example_steps import step_percentile_source_target_list_metric
from .example_steps import step_collection_partition_list_metric
from .example_steps import step_collection_partition_list_usage
from .example_steps import step_sql_resource_show_sql_trigger
from .example_steps import step_collection_region_list_metric
from .example_steps import step_cassandra_resource_show
from .example_steps import step_gremlin_resource_show
from .example_steps import step_sql_resource_list_sql_user_defined_function
from .example_steps import step_mongo_db_resource6
from .example_steps import step_sql_resource_list_sql_stored_procedure
from .example_steps import step_sql_resource_show_sql_database_throughput
from .example_steps import step_collection_list_metric_definition
from .example_steps import step_sql_resource_list_sql_trigger
from .example_steps import step_table_resource_show_table_throughput
from .example_steps import step_mongo_db_resource_show_mongo_db_collection
from .example_steps import step_collection_list_metric
from .example_steps import step_collection_list_usage
from .example_steps import step_percentile_target_list_metric
from .example_steps import step_private_endpoint_connection_list
from .example_steps import step_sql_resource_show_sql_container
from .example_steps import step_cassandra_resource_show_cassandra_table
from .example_steps import step_gremlin_resource_show_gremlin_graph
from .example_steps import step_mongo_db_resource_list_mongo_db_collection
from .example_steps import step_notebook_workspace_show
from .example_steps import step_database_list_metric_definition
from .example_steps import step_cassandra_resource_list_cassandra_table
from .example_steps import step_gremlin_resource_list_gremlin_graph
from .example_steps import step_sql_resource_list_sql_container
from .example_steps import step_cassandra_resource_show_cassandra_keyspace
from .example_steps import step_private_link_resource_list
from .example_steps import step_database_list_metric
from .example_steps import step_gremlin_resource_show_gremlin_database
from .example_steps import step_mongo_db_resource_show_mongo_db_database
from .example_steps import step_database_list_usage
from .example_steps import step_percentile_list_metric
from .example_steps import step_sql_resource_show_sql_database
from .example_steps import step_database_account_region_list_metric
from .example_steps import step_table_resource_show_table
from .example_steps import step_cassandra_resource_list_cassandra_keyspace
from .example_steps import step_notebook_workspace_list
from .example_steps import step_database_account_list_metric_definition
from .example_steps import step_mongo_db_resource_list_mongo_db_database
from .example_steps import step_gremlin_resource_list_gremlin_database
from .example_steps import step_sql_resource_list_sql_database
from .example_steps import step_database_account_show_read_only_key
from .example_steps import step_database_account_list_metric
from .example_steps import step_database_account_list_usage
from .example_steps import step_table_resource_list_table
from .example_steps import step_database_account_show
from .example_steps import step_database_account_list2
from .example_steps import step_database_account_list
from .example_steps import step_mongo_db_resource8
from .example_steps import step_sql_resource_migrate2
from .example_steps import step_mongo_db_resource7
from .example_steps import step_cassandra_resource_migrate4
from .example_steps import step_gremlin_resource_migrate4
from .example_steps import step_sql_resource_migrate
from .example_steps import step_cassandra_resource_migrate3
from .example_steps import step_gremlin_resource_migrate3
from .example_steps import step_cassandra_resource_migrate2
from .example_steps import step_mongo_db_resource10
from .example_steps import step_gremlin_resource_migrate2
from .example_steps import step_sql_resource_migrate4
from .example_steps import step_cassandra_resource_migrate
from .example_steps import step_mongo_db_resource9
from .example_steps import step_gremlin_resource_migrate
from .example_steps import step_sql_resource_migrate3
from .example_steps import step_table_resource_migrate
from .example_steps import step_table_resource_migrate_table_to_autoscale
from .example_steps import step_notebook_workspace_regenerate_auth_token
from .example_steps import step_notebook_workspace_list_connection_info
from .example_steps import step_notebook_workspace_start
from .example_steps import step_database_account_failover_priority_change
from .example_steps import step_database_account_list_connection_string
from .example_steps import step_database_account_list_connection_string2
from .example_steps import step_database_account_offline_region
from .example_steps import step_database_account_regenerate_key
from .example_steps import step_database_account_list_read_only_key
from .example_steps import step_database_account_online_region
from .example_steps import step_database_account_list_key
from .example_steps import step_database_account_update
from .example_steps import step_database_account_check_name_exist
from .example_steps import step_sql_resource_delete_sql_user_defined_function
from .example_steps import step_sql_resource_delete_sql_stored_procedure
from .example_steps import step_sql_resource_delete_sql_trigger
from .example_steps import step_mongo_db_resource_delete_mongo_db_collection
from .example_steps import step_private_endpoint_connection_delete
from .example_steps import step_sql_resource_delete_sql_container
from .example_steps import step_cassandra_resource_delete_cassandra_table
from .example_steps import step_gremlin_resource_delete_gremlin_graph
from .example_steps import step_notebook_workspace_delete
from .example_steps import step_cassandra_resource_delete_cassandra_keyspace
from .example_steps import step_mongo_db_resource_delete_mongo_db_database
from .example_steps import step_gremlin_resource_delete_gremlin_database
from .example_steps import step_sql_resource_delete_sql_database
from .example_steps import step_table_resource_delete_table
from .example_steps import step_database_account_delete
from .. import (
    try_manual,
    raise_if,
    calc_coverage
)


TEST_DIR = os.path.abspath(os.path.join(os.path.abspath(__file__), '..'))


# Env setup_scenario
@try_manual
def setup_scenario(test):
    pass


# Env cleanup_scenario
@try_manual
def cleanup_scenario(test):
    pass


# Testcase: Scenario
@try_manual
def call_scenario(test):
    setup_scenario(test)
    step_database_account_create2(test, checks=[])
    step_database_account_create(test, checks=[])
    step_table_resource_create_update_table(test, checks=[])
    step_sql_resource_create_update_sql_database(test, checks=[])
    step_mongo_db_resource3(test, checks=[])
    step_gremlin_resource_create(test, checks=[])
    step_cassandra_resource_create(test, checks=[])
    step_notebook_workspace_create(test, checks=[])
    step_gremlin_resource_create_update_gremlin_graph(test, checks=[])
    step_cassandra_resource_create2(test, checks=[])
    step_sql_resource_create_update_sql_container(test, checks=[])
    step_private_endpoint_connection_create(test, checks=[
        test.check("name", "{myPrivateEndpointConnection}", case_sensitive=False),
    ])
    step_mongo_db_resource(test, checks=[])
    step_table_resource_update_table_throughput(test, checks=[])
    step_sql_resource_update_sql_database_throughput(test, checks=[])
    step_mongo_db_resource4(test, checks=[])
    step_gremlin_resource_update(test, checks=[])
    step_cassandra_resource_update(test, checks=[])
    step_sql_resource_create_update_sql_trigger(test, checks=[])
    step_gremlin_resource_update2(test, checks=[])
    step_sql_resource_create3(test, checks=[])
    step_cassandra_resource_update2(test, checks=[])
    step_sql_resource_update_sql_container_throughput(test, checks=[])
    step_sql_resource_create4(test, checks=[])
    step_mongo_db_resource2(test, checks=[])
    step_partition_key_range_id_region_list_metric(test, checks=[])
    step_mongo_db_resource5(test, checks=[])
    step_sql_resource_show_sql_user_defined_function(test, checks=[])
    step_partition_key_range_id_list_metric(test, checks=[])
    step_collection_partition_region_list_metric(test, checks=[])
    step_sql_resource_show_sql_container_throughput(test, checks=[])
    step_cassandra_resource_show2(test, checks=[])
    step_sql_resource_show_sql_stored_procedure(test, checks=[])
    step_gremlin_resource_show2(test, checks=[])
    step_percentile_source_target_list_metric(test, checks=[])
    step_collection_partition_list_metric(test, checks=[])
    step_collection_partition_list_usage(test, checks=[])
    step_sql_resource_show_sql_trigger(test, checks=[])
    step_collection_region_list_metric(test, checks=[])
    step_cassandra_resource_show(test, checks=[])
    step_gremlin_resource_show(test, checks=[])
    step_sql_resource_list_sql_user_defined_function(test, checks=[])
    step_mongo_db_resource6(test, checks=[])
    step_sql_resource_list_sql_stored_procedure(test, checks=[])
    step_sql_resource_show_sql_database_throughput(test, checks=[])
    step_collection_list_metric_definition(test, checks=[])
    step_sql_resource_list_sql_trigger(test, checks=[])
    step_table_resource_show_table_throughput(test, checks=[])
    step_mongo_db_resource_show_mongo_db_collection(test, checks=[])
    step_collection_list_metric(test, checks=[])
    step_collection_list_usage(test, checks=[])
    step_percentile_target_list_metric(test, checks=[])
    step_private_endpoint_connection_list(test, checks=[
        test.check('length(@)', 1),
    ])
    step_sql_resource_show_sql_container(test, checks=[])
    step_cassandra_resource_show_cassandra_table(test, checks=[])
    step_gremlin_resource_show_gremlin_graph(test, checks=[])
    step_mongo_db_resource_list_mongo_db_collection(test, checks=[])
    step_notebook_workspace_show(test, checks=[])
    step_database_list_metric_definition(test, checks=[])
    step_cassandra_resource_list_cassandra_table(test, checks=[])
    step_gremlin_resource_list_gremlin_graph(test, checks=[])
    step_sql_resource_list_sql_container(test, checks=[])
    step_cassandra_resource_show_cassandra_keyspace(test, checks=[])
    step_private_link_resource_list(test, checks=[])
    step_database_list_metric(test, checks=[])
    step_gremlin_resource_show_gremlin_database(test, checks=[])
    step_mongo_db_resource_show_mongo_db_database(test, checks=[])
    step_database_list_usage(test, checks=[])
    step_percentile_list_metric(test, checks=[])
    step_sql_resource_show_sql_database(test, checks=[])
    step_database_account_region_list_metric(test, checks=[])
    step_private_endpoint_connection_list(test, checks=[
        test.check('length(@)', 1),
    ])
    step_table_resource_show_table(test, checks=[])
    step_private_link_resource_list(test, checks=[])
    step_cassandra_resource_list_cassandra_keyspace(test, checks=[])
    step_notebook_workspace_list(test, checks=[])
    step_database_account_list_metric_definition(test, checks=[])
    step_mongo_db_resource_list_mongo_db_database(test, checks=[])
    step_gremlin_resource_list_gremlin_database(test, checks=[])
    step_sql_resource_list_sql_database(test, checks=[])
    step_database_account_show_read_only_key(test, checks=[])
    step_database_account_list_metric(test, checks=[])
    step_database_account_list_usage(test, checks=[])
    step_table_resource_list_table(test, checks=[])
    step_database_account_show(test, checks=[])
    step_database_account_list2(test, checks=[])
    step_database_account_list(test, checks=[])
    # STEP NOT FOUND: /Operations/get/CosmosDBOperationsList
    step_mongo_db_resource8(test, checks=[])
    step_sql_resource_migrate2(test, checks=[])
    step_mongo_db_resource7(test, checks=[])
    step_cassandra_resource_migrate4(test, checks=[])
    step_gremlin_resource_migrate4(test, checks=[])
    step_sql_resource_migrate(test, checks=[])
    step_cassandra_resource_migrate3(test, checks=[])
    step_gremlin_resource_migrate3(test, checks=[])
    step_cassandra_resource_migrate2(test, checks=[])
    step_mongo_db_resource10(test, checks=[])
    step_gremlin_resource_migrate2(test, checks=[])
    step_sql_resource_migrate4(test, checks=[])
    step_cassandra_resource_migrate(test, checks=[])
    step_mongo_db_resource9(test, checks=[])
    step_gremlin_resource_migrate(test, checks=[])
    step_sql_resource_migrate3(test, checks=[])
    step_table_resource_migrate(test, checks=[])
    step_table_resource_migrate_table_to_autoscale(test, checks=[])
    step_notebook_workspace_regenerate_auth_token(test, checks=[])
    step_notebook_workspace_list_connection_info(test, checks=[])
    step_notebook_workspace_start(test, checks=[])
    step_database_account_failover_priority_change(test, checks=[])
    step_database_account_list_connection_string(test, checks=[])
    step_database_account_list_connection_string2(test, checks=[])
    step_database_account_offline_region(test, checks=[])
    step_database_account_regenerate_key(test, checks=[])
    step_database_account_list_read_only_key(test, checks=[])
    step_database_account_online_region(test, checks=[])
    step_database_account_list_key(test, checks=[])
    step_database_account_update(test, checks=[])
    step_database_account_check_name_exist(test, checks=[])
    step_sql_resource_delete_sql_user_defined_function(test, checks=[])
    step_sql_resource_delete_sql_stored_procedure(test, checks=[])
    step_sql_resource_delete_sql_trigger(test, checks=[])
    step_mongo_db_resource_delete_mongo_db_collection(test, checks=[])
    step_private_endpoint_connection_delete(test, checks=[])
    step_sql_resource_delete_sql_container(test, checks=[])
    step_cassandra_resource_delete_cassandra_table(test, checks=[])
    step_gremlin_resource_delete_gremlin_graph(test, checks=[])
    step_notebook_workspace_delete(test, checks=[])
    step_cassandra_resource_delete_cassandra_keyspace(test, checks=[])
    step_mongo_db_resource_delete_mongo_db_database(test, checks=[])
    step_gremlin_resource_delete_gremlin_database(test, checks=[])
    step_sql_resource_delete_sql_database(test, checks=[])
    step_table_resource_delete_table(test, checks=[])
    step_database_account_delete(test, checks=[])
    cleanup_scenario(test)


# Test class for Scenario
@try_manual
class CosmosdbScenarioTest(ScenarioTest):
    def __init__(self, *args, **kwargs):
        super(CosmosdbScenarioTest, self).__init__(*args, **kwargs)
        self.kwargs.update({
            'subscription_id': self.get_subscription_id()
        })

        self.kwargs.update({
            'myDatabaseAccount': 'myAccountName',
            'myDatabase': 'databaseName',
            'myCollection': 'collectionName',
            'myPartitionKeyRangeId': '0',
            'myPrivateEndpointConnection': 'privateEndpointConnectionName',
            'myService': 'DataTransfer',
            'myService2': 'GraphAPICompute',
            'myService3': 'SqlDedicatedGateway',
        })

    @ResourceGroupPreparer(name_prefix='clitestcosmosdb_rgName'[:7], key='rg_2', parameter_name='rg_2')
    @ResourceGroupPreparer(name_prefix='clitestcosmosdb_rg'[:7], key='rg_3', parameter_name='rg_3')
    @ResourceGroupPreparer(name_prefix='clitestcosmosdb_myResourceGroupName'[:7], key='rg_4', parameter_name='rg_4')
    @ResourceGroupPreparer(name_prefix='clitestcosmosdb_customer-vnet-rg'[:7], key='rg_6', parameter_name='rg_6')
    @ResourceGroupPreparer(name_prefix='clitestcosmosdb_rg1'[:7], key='rg', parameter_name='rg')
    @ResourceGroupPreparer(name_prefix='clitestcosmosdb_cassandra-prod-rg'[:7], key='rg_5', parameter_name='rg_5')
    @VirtualNetworkPreparer(name_prefix='clitestcosmosdb_vnet1'[:7], key='vn', resource_group_key='rg_3')
    @VirtualNetworkPreparer(name_prefix='clitestcosmosdb_customer-vnet'[:7], key='vn_2', resource_group_key='rg_6')
    @SubnetPreparer(name_prefix='clitestcosmosdb_subnet1'[:7], key='subnets', virtual_network_key='vn',
                    resource_group_key='rg_3')
    @SubnetPreparer(name_prefix='clitestcosmosdb_management'[:7], key='subnets_2', virtual_network_key='vn_2',
                    resource_group_key='rg_6')
    @SubnetPreparer(name_prefix='clitestcosmosdb_dc1-subnet'[:7], key='subnets_3', virtual_network_key='vn_2',
                    resource_group_key='rg_6')
    def test_cosmosdb_Scenario(self, rg_2, rg_3, rg_4, rg_6, rg, rg_5):
        call_scenario(self)
        calc_coverage(__file__)
        raise_if()
