interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.25.1
    method: GET
    uri: https://login.microsoftonline.com/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2F22a845f3-46a6-445d-9020-660296db7ce9%2Foauth2%2Fv2.0%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/22a845f3-46a6-445d-9020-660296db7ce9/v2.0/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - max-age=86400, private
      content-length:
      - '136'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 03 Dec 2021 20:53:43 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AoiTY_fy-BZLofnh_7BAljw; expires=Sun, 02-Jan-2022 20:53:43 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAAD--DLA3VO7QrddgJg7WevrX9c1aLuKunviNtb62F28RUf2VCFcv5VWTcFNbtvJJ6YlaWrvSK5mBI69dwoiNEblUFd-Jqvcoqe2sC6AXxpH6vdskUqfU8fY1SOJtwiy5uiP5rc2bZDFDSfNtkeLnS4i3b8V29VJNzIXXG4OSQQjv5pYa8B-QMRWyVDLn-dJidQgAA;
        domain=.login.microsoftonline.com; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=estsfd; path=/; secure; samesite=none; httponly
      - stsservicecookie=estsfd; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.12231.8 - SCUS ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.25.1
    method: GET
    uri: https://login.windows-ppe.net/22a845f3-46a6-445d-9020-660296db7ce9/v2.0/.well-known/openid-configuration
  response:
    body:
      string: '{"token_endpoint":"https://login.windows-ppe.net/22a845f3-46a6-445d-9020-660296db7ce9/oauth2/v2.0/token","token_endpoint_auth_methods_supported":["client_secret_post","private_key_jwt","client_secret_basic"],"jwks_uri":"https://login.windows-ppe.net/22a845f3-46a6-445d-9020-660296db7ce9/discovery/v2.0/keys","response_modes_supported":["query","fragment","form_post"],"subject_types_supported":["pairwise"],"id_token_signing_alg_values_supported":["RS256"],"response_types_supported":["code","id_token","code
        id_token","id_token token"],"scopes_supported":["openid","profile","email","offline_access"],"issuer":"https://login.windows-ppe.net/22a845f3-46a6-445d-9020-660296db7ce9/v2.0","request_uri_parameter_supported":false,"userinfo_endpoint":"https://graph.microsoft-ppe.com/oidc/userinfo","authorization_endpoint":"https://login.windows-ppe.net/22a845f3-46a6-445d-9020-660296db7ce9/oauth2/v2.0/authorize","device_authorization_endpoint":"https://login.windows-ppe.net/22a845f3-46a6-445d-9020-660296db7ce9/oauth2/v2.0/devicecode","http_logout_supported":true,"frontchannel_logout_supported":true,"end_session_endpoint":"https://login.windows-ppe.net/22a845f3-46a6-445d-9020-660296db7ce9/oauth2/v2.0/logout","claims_supported":["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],"kerberos_endpoint":"https://login.windows-ppe.net/22a845f3-46a6-445d-9020-660296db7ce9/kerberos","tenant_region_scope":"NA","cloud_instance_name":"windows-ppe.net","cloud_graph_host_name":"graph.ppe.windows.net","msgraph_host":"graph.microsoft-ppe.com","rbac_url":"https://pas.windows-ppe.net"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - max-age=86400, private
      content-length:
      - '1737'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 03 Dec 2021 20:53:43 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AgEx8ujpR4BHv7NRo04tL6E; expires=Sun, 02-Jan-2022 20:53:44 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABYrKuFWqWSRpp9FiMCi-70wHfkAtx4934EG6PCV67cOIL3sQIoXZinAfpCTZD4iqtx1Q9NX7YfFeDUTCB7hDL3Ozy-Jl-pkc_vncmM3pe5bicyqj--rjoWZfvMmby_y2YFywf9MgWZu8B8ly5bhc-7fywbEll40etGNPhlHo-xn1k3qFu01UP44eyNdarXJcEgAA;
        domain=.login.windows-ppe.net; path=/; secure; HttpOnly; SameSite=None
      - stsservicecookie=estsppe; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.12329.0 - CHY PPE
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.25.1
    method: GET
    uri: https://login.microsoftonline.com/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2F22a845f3-46a6-445d-9020-660296db7ce9%2Foauth2%2Fv2.0%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/22a845f3-46a6-445d-9020-660296db7ce9/v2.0/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - max-age=86400, private
      content-length:
      - '136'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 03 Dec 2021 20:53:44 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AqAfu3HwmMRFh0Mg0lXC54g; expires=Sun, 02-Jan-2022 20:53:44 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAAD--DLA3VO7QrddgJg7WevrN7x_6Yv4foNp58nIKwHBhHJJDzZz9Gmhr3YOkffqX9XWiMC4Cig775xpXMCLA3OS3HpvMiYYNZJtsGXOX-hO9VK0LLALpVi_fTvlwtVwcyw4REX-Xdc4hCBdQdyUIWLKgZTCYI1-QUF7vG8e4-extQWp3BEgEFMd0JeXPqoTCTAgAA;
        domain=.login.microsoftonline.com; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=estsfd; path=/; secure; samesite=none; httponly
      - stsservicecookie=estsfd; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.12231.9 - WUS2 ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.25.1
    method: GET
    uri: https://login.windows-ppe.net/22a845f3-46a6-445d-9020-660296db7ce9/v2.0/.well-known/openid-configuration
  response:
    body:
      string: '{"token_endpoint":"https://login.windows-ppe.net/22a845f3-46a6-445d-9020-660296db7ce9/oauth2/v2.0/token","token_endpoint_auth_methods_supported":["client_secret_post","private_key_jwt","client_secret_basic"],"jwks_uri":"https://login.windows-ppe.net/22a845f3-46a6-445d-9020-660296db7ce9/discovery/v2.0/keys","response_modes_supported":["query","fragment","form_post"],"subject_types_supported":["pairwise"],"id_token_signing_alg_values_supported":["RS256"],"response_types_supported":["code","id_token","code
        id_token","id_token token"],"scopes_supported":["openid","profile","email","offline_access"],"issuer":"https://login.windows-ppe.net/22a845f3-46a6-445d-9020-660296db7ce9/v2.0","request_uri_parameter_supported":false,"userinfo_endpoint":"https://graph.microsoft-ppe.com/oidc/userinfo","authorization_endpoint":"https://login.windows-ppe.net/22a845f3-46a6-445d-9020-660296db7ce9/oauth2/v2.0/authorize","device_authorization_endpoint":"https://login.windows-ppe.net/22a845f3-46a6-445d-9020-660296db7ce9/oauth2/v2.0/devicecode","http_logout_supported":true,"frontchannel_logout_supported":true,"end_session_endpoint":"https://login.windows-ppe.net/22a845f3-46a6-445d-9020-660296db7ce9/oauth2/v2.0/logout","claims_supported":["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],"kerberos_endpoint":"https://login.windows-ppe.net/22a845f3-46a6-445d-9020-660296db7ce9/kerberos","tenant_region_scope":"NA","cloud_instance_name":"windows-ppe.net","cloud_graph_host_name":"graph.ppe.windows.net","msgraph_host":"graph.microsoft-ppe.com","rbac_url":"https://pas.windows-ppe.net"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - max-age=86400, private
      content-length:
      - '1737'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 03 Dec 2021 20:53:43 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=Ah5nWjz8qhpGmeLhy9zs09g; expires=Sun, 02-Jan-2022 20:53:44 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABYrKuFWqWSRpp9FiMCi-70lczXL1rXzgfCTMefA0BfWRR86cDz7Gh2om1FrnB6eiQVK-9nP0uTWuFuFO0WxH22LcWwpEQ6lQjwhI5yYWg3ewPqb8h4qcLFCVtkFObydgh2SRqRR1qurRqpQPMclKn8NkDn3vil8-YIPsUNlBYoDpCHzfQXAeYBruscz-u-0AogAA;
        domain=.login.windows-ppe.net; path=/; secure; HttpOnly; SameSite=None
      - stsservicecookie=estsppe; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.12329.0 - CHY PPE
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cosmosdb create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --kind --capabilities --locations
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/19.0.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_cosmosdb_mongodb_role000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_mongodb_role000001","name":"cli_test_cosmosdb_mongodb_role000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2021-12-03T20:53:41Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '428'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 03 Dec 2021 20:53:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 1CB0B281B9934E649C0D576D5998D32A Ref B: CO1EDGE1515 Ref C: 2021-12-03T20:53:44Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "kind": "MongoDB", "properties": {"locations": [{"locationName":
      "eastus2", "failoverPriority": 0, "isZoneRedundant": false}], "databaseAccountOfferType":
      "Standard", "capabilities": [{"name": "EnableMongoRoleBasedAccessControl"}],
      "apiProperties": {}, "createMode": "Default"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cosmosdb create
      Connection:
      - keep-alive
      Content-Length:
      - '301'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --kind --capabilities --locations
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-mgmt-cosmosdb/7.0.0b2 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_mongodb_role000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000002?api-version=2021-10-15
  response:
    body:
      string: '{"error":{"code":"NoRegisteredProviderFound","message":"No registered
        resource provider found for location ''westus'' and API version ''2021-10-15''
        for type ''databaseAccounts''. The supported api-versions are ''2014-04-01,
        2015-04-08, 2015-11-06, 2016-03-19, 2016-03-31, 2019-08-01, 2019-08-01-preview,
        2019-12-12, 2020-03-01, 2020-04-01, 2020-06-01-preview, 2020-09-01, 2021-01-15,
        2021-03-01-preview, 2021-03-15, 2021-04-01-preview, 2021-04-15, 2021-06-15,
        2021-10-15-preview''. The supported locations are ''australiaeast, australiasoutheast,
        centralus, eastasia, eastus, eastus2, japaneast, japanwest, northcentralus,
        northeurope, southcentralus, southeastasia, westeurope, westus''."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '682'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 03 Dec 2021 20:53:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
      x-msedge-ref:
      - 'Ref A: C7ED44019ECA4D86B716A67C62F6766F Ref B: STBEDGE0110 Ref C: 2021-12-03T20:53:45Z'
    status:
      code: 400
      message: Bad Request
version: 1
