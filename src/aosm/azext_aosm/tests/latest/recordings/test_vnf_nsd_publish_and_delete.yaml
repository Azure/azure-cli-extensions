interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 26 Jul 2023 13:40:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test","name":"patrykkulik-test","type":"Microsoft.Resources/resourceGroups","location":"eastus","tags":{"autoDelete":"true","expiresOn":"2023-08-20T10:48:11.8928180Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '301'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:40:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher?api-version=2023-04-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher","name":"ubuntuPublisher","type":"microsoft.hybridnetwork/publishers","location":"uksouth","systemData":{"createdBy":"patrykkulik@microsoft.com","createdByType":"User","createdAt":"2023-07-24T10:35:08.3094719Z","lastModifiedBy":"patrykkulik@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-07-24T10:35:08.3094719Z"},"properties":{"scope":"Private","provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '550'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:40:30 GMT
      etag:
      - '"0b00b59c-0000-1100-0000-64be53e60000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-providerhub-traffic:
      - 'True'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr?api-version=2023-04-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr","name":"ubuntu-acr","type":"microsoft.hybridnetwork/publishers/artifactstores","location":"uksouth","systemData":{"createdBy":"patrykkulik@microsoft.com","createdByType":"User","createdAt":"2023-07-24T10:36:42.2618346Z","lastModifiedBy":"b8ed041c-aa91-418e-8f47-20c70abc2de1","lastModifiedByType":"Application","lastModifiedAt":"2023-07-25T15:40:36.9503596Z"},"properties":{"storeType":"AzureContainerRegistry","replicationStrategy":"SingleReplication","managedResourceGroupConfiguration":{"name":"ubuntu-acr-HostedResources-7510103F","location":"uksouth"},"provisioningState":"Succeeded","storageResourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/ubuntu-acr-HostedResources-7510103F/providers/Microsoft.ContainerRegistry/registries/UbuntupublisherUbuntuAcr2315dcfa83"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '978'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:40:31 GMT
      etag:
      - '"0a007d57-0000-1100-0000-64bfecf40000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-providerhub-traffic:
      - 'True'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-blob-store?api-version=2023-04-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-blob-store","name":"ubuntu-blob-store","type":"microsoft.hybridnetwork/publishers/artifactstores","location":"uksouth","systemData":{"createdBy":"patrykkulik@microsoft.com","createdByType":"User","createdAt":"2023-07-24T10:40:16.8226627Z","lastModifiedBy":"b8ed041c-aa91-418e-8f47-20c70abc2de1","lastModifiedByType":"Application","lastModifiedAt":"2023-07-25T15:38:05.439289Z"},"properties":{"storeType":"AzureStorageAccount","replicationStrategy":"SingleReplication","managedResourceGroupConfiguration":{"name":"ubuntu-blob-store-HostedResources-07BDF073","location":"uksouth"},"provisioningState":"Succeeded","storageResourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/ubuntu-blob-store-HostedResources-07BDF073/providers/Microsoft.Storage/storageAccounts/07bdf073ubuntublobstorea"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '987'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:40:31 GMT
      etag:
      - '"0a004656-0000-1100-0000-64bfec5d0000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-providerhub-traffic:
      - 'True'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/networkFunctionDefinitionGroups/ubuntu-vm-nfdg?api-version=2023-04-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/networkFunctionDefinitionGroups/ubuntu-vm-nfdg","name":"ubuntu-vm-nfdg","type":"microsoft.hybridnetwork/publishers/networkfunctiondefinitiongroups","location":"uksouth","systemData":{"createdBy":"patrykkulik@microsoft.com","createdByType":"User","createdAt":"2023-07-24T10:42:52.0873069Z","lastModifiedBy":"patrykkulik@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-07-24T10:42:52.0873069Z"},"properties":{"description":null,"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '629'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:40:31 GMT
      etag:
      - '"0f00e901-0000-1100-0000-64be55b40000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-providerhub-traffic:
      - 'True'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-vm-acr-manifest-1-0-0?api-version=2023-04-01-preview
  response:
    body:
      string: '{"error":{"code":"ResourceNotFound","message":"The Resource ''Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-vm-acr-manifest-1-0-0''
        under resource group ''patrykkulik-test'' was not found. For more details
        please go to https://aka.ms/ARMResourceNotFoundFix"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '311'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:40:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 404
      message: Not Found
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-blob-store/artifactManifests/ubuntu-vm-sa-manifest-1-0-0?api-version=2023-04-01-preview
  response:
    body:
      string: '{"error":{"code":"ResourceNotFound","message":"The Resource ''Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-blob-store/artifactManifests/ubuntu-vm-sa-manifest-1-0-0''
        under resource group ''patrykkulik-test'' was not found. For more details
        please go to https://aka.ms/ARMResourceNotFoundFix"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '317'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:40:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 404
      message: Not Found
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.8.9.13224", "templateHash": "6414151573583976606"}}, "parameters": {"location":
      {"type": "string"}, "publisherName": {"type": "string", "metadata": {"description":
      "Name of an existing publisher, expected to be in the resource group where you
      deploy the template"}}, "acrArtifactStoreName": {"type": "string", "metadata":
      {"description": "Name of an existing ACR-backed Artifact Store, deployed under
      the publisher."}}, "saArtifactStoreName": {"type": "string", "metadata": {"description":
      "Name of an existing Storage Account-backed Artifact Store, deployed under the
      publisher."}}, "acrManifestName": {"type": "string", "metadata": {"description":
      "Name of the manifest to deploy for the ACR-backed Artifact Store"}}, "saManifestName":
      {"type": "string", "metadata": {"description": "Name of the manifest to deploy
      for the Storage Account-backed Artifact Store"}}, "nfName": {"type": "string",
      "metadata": {"description": "Name of Network Function. Used predominantly as
      a prefix for other variable names"}}, "vhdVersion": {"type": "string", "metadata":
      {"description": "The version that you want to name the NFM VHD artifact, in
      format A-B-C. e.g. 6-13-0"}}, "armTemplateVersion": {"type": "string", "metadata":
      {"description": "The name under which to store the ARM template"}}}, "resources":
      [{"type": "Microsoft.Hybridnetwork/publishers/artifactStores/artifactManifests",
      "apiVersion": "2023-04-01-preview", "name": "[format(''{0}/{1}/{2}'', parameters(''publisherName''),
      parameters(''saArtifactStoreName''), parameters(''saManifestName''))]", "location":
      "[parameters(''location'')]", "properties": {"artifacts": [{"artifactName":
      "[format(''{0}-vhd'', parameters(''nfName''))]", "artifactType": "VhdImageFile",
      "artifactVersion": "[parameters(''vhdVersion'')]"}]}}, {"type": "Microsoft.Hybridnetwork/publishers/artifactStores/artifactManifests",
      "apiVersion": "2023-04-01-preview", "name": "[format(''{0}/{1}/{2}'', parameters(''publisherName''),
      parameters(''acrArtifactStoreName''), parameters(''acrManifestName''))]", "location":
      "[parameters(''location'')]", "properties": {"artifacts": [{"artifactName":
      "[format(''{0}-arm-template'', parameters(''nfName''))]", "artifactType": "ArmTemplate",
      "artifactVersion": "[parameters(''armTemplateVersion'')]"}]}}]}, "parameters":
      {"location": {"value": "uksouth"}, "publisherName": {"value": "ubuntuPublisher"},
      "acrArtifactStoreName": {"value": "ubuntu-acr"}, "saArtifactStoreName": {"value":
      "ubuntu-blob-store"}, "acrManifestName": {"value": "ubuntu-vm-acr-manifest-1-0-0"},
      "saManifestName": {"value": "ubuntu-vm-sa-manifest-1-0-0"}, "nfName": {"value":
      "ubuntu-vm"}, "vhdVersion": {"value": "1-0-0"}, "armTemplateVersion": {"value":
      "1.0.0"}}, "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      Content-Length:
      - '2907'
      Content-Type:
      - application/json
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment/validate?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1690378835","name":"AOSM_CLI_deployment_1690378835","type":"Microsoft.Resources/deployments","properties":{"templateHash":"6414151573583976606","parameters":{"location":{"type":"String","value":"uksouth"},"publisherName":{"type":"String","value":"ubuntuPublisher"},"acrArtifactStoreName":{"type":"String","value":"ubuntu-acr"},"saArtifactStoreName":{"type":"String","value":"ubuntu-blob-store"},"acrManifestName":{"type":"String","value":"ubuntu-vm-acr-manifest-1-0-0"},"saManifestName":{"type":"String","value":"ubuntu-vm-sa-manifest-1-0-0"},"nfName":{"type":"String","value":"ubuntu-vm"},"vhdVersion":{"type":"String","value":"1-0-0"},"armTemplateVersion":{"type":"String","value":"1.0.0"}},"mode":"Incremental","provisioningState":"Succeeded","timestamp":"0001-01-01T00:00:00Z","duration":"PT0S","correlationId":"c12b6d8b-5712-4e8c-b5f0-796987b7ede0","providers":[{"namespace":"Microsoft.Hybridnetwork","resourceTypes":[{"resourceType":"publishers/artifactStores/artifactManifests","locations":["uksouth"]}]}],"dependencies":[],"validatedResources":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-blob-store/artifactManifests/ubuntu-vm-sa-manifest-1-0-0"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-vm-acr-manifest-1-0-0"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1668'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:40:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.8.9.13224", "templateHash": "6414151573583976606"}}, "parameters": {"location":
      {"type": "string"}, "publisherName": {"type": "string", "metadata": {"description":
      "Name of an existing publisher, expected to be in the resource group where you
      deploy the template"}}, "acrArtifactStoreName": {"type": "string", "metadata":
      {"description": "Name of an existing ACR-backed Artifact Store, deployed under
      the publisher."}}, "saArtifactStoreName": {"type": "string", "metadata": {"description":
      "Name of an existing Storage Account-backed Artifact Store, deployed under the
      publisher."}}, "acrManifestName": {"type": "string", "metadata": {"description":
      "Name of the manifest to deploy for the ACR-backed Artifact Store"}}, "saManifestName":
      {"type": "string", "metadata": {"description": "Name of the manifest to deploy
      for the Storage Account-backed Artifact Store"}}, "nfName": {"type": "string",
      "metadata": {"description": "Name of Network Function. Used predominantly as
      a prefix for other variable names"}}, "vhdVersion": {"type": "string", "metadata":
      {"description": "The version that you want to name the NFM VHD artifact, in
      format A-B-C. e.g. 6-13-0"}}, "armTemplateVersion": {"type": "string", "metadata":
      {"description": "The name under which to store the ARM template"}}}, "resources":
      [{"type": "Microsoft.Hybridnetwork/publishers/artifactStores/artifactManifests",
      "apiVersion": "2023-04-01-preview", "name": "[format(''{0}/{1}/{2}'', parameters(''publisherName''),
      parameters(''saArtifactStoreName''), parameters(''saManifestName''))]", "location":
      "[parameters(''location'')]", "properties": {"artifacts": [{"artifactName":
      "[format(''{0}-vhd'', parameters(''nfName''))]", "artifactType": "VhdImageFile",
      "artifactVersion": "[parameters(''vhdVersion'')]"}]}}, {"type": "Microsoft.Hybridnetwork/publishers/artifactStores/artifactManifests",
      "apiVersion": "2023-04-01-preview", "name": "[format(''{0}/{1}/{2}'', parameters(''publisherName''),
      parameters(''acrArtifactStoreName''), parameters(''acrManifestName''))]", "location":
      "[parameters(''location'')]", "properties": {"artifacts": [{"artifactName":
      "[format(''{0}-arm-template'', parameters(''nfName''))]", "artifactType": "ArmTemplate",
      "artifactVersion": "[parameters(''armTemplateVersion'')]"}]}}]}, "parameters":
      {"location": {"value": "uksouth"}, "publisherName": {"value": "ubuntuPublisher"},
      "acrArtifactStoreName": {"value": "ubuntu-acr"}, "saArtifactStoreName": {"value":
      "ubuntu-blob-store"}, "acrManifestName": {"value": "ubuntu-vm-acr-manifest-1-0-0"},
      "saManifestName": {"value": "ubuntu-vm-sa-manifest-1-0-0"}, "nfName": {"value":
      "ubuntu-vm"}, "vhdVersion": {"value": "1-0-0"}, "armTemplateVersion": {"value":
      "1.0.0"}}, "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      Content-Length:
      - '2907'
      Content-Type:
      - application/json
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1690378835","name":"AOSM_CLI_deployment_1690378835","type":"Microsoft.Resources/deployments","properties":{"templateHash":"6414151573583976606","parameters":{"location":{"type":"String","value":"uksouth"},"publisherName":{"type":"String","value":"ubuntuPublisher"},"acrArtifactStoreName":{"type":"String","value":"ubuntu-acr"},"saArtifactStoreName":{"type":"String","value":"ubuntu-blob-store"},"acrManifestName":{"type":"String","value":"ubuntu-vm-acr-manifest-1-0-0"},"saManifestName":{"type":"String","value":"ubuntu-vm-sa-manifest-1-0-0"},"nfName":{"type":"String","value":"ubuntu-vm"},"vhdVersion":{"type":"String","value":"1-0-0"},"armTemplateVersion":{"type":"String","value":"1.0.0"}},"mode":"Incremental","provisioningState":"Accepted","timestamp":"2023-07-26T13:40:39.9830794Z","duration":"PT0.0007049S","correlationId":"6b5fc538-ddd6-42f2-b6d3-595d3d08458a","providers":[{"namespace":"Microsoft.Hybridnetwork","resourceTypes":[{"resourceType":"publishers/artifactStores/artifactManifests","locations":["uksouth"]}]}],"dependencies":[]}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1690378835/operationStatuses/08585112280464871991?api-version=2022-09-01
      cache-control:
      - no-cache
      content-length:
      - '1200'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:40:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08585112280464871991?api-version=2022-09-01
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:40:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08585112280464871991?api-version=2022-09-01
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:41:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1690378835","name":"AOSM_CLI_deployment_1690378835","type":"Microsoft.Resources/deployments","properties":{"templateHash":"6414151573583976606","parameters":{"location":{"type":"String","value":"uksouth"},"publisherName":{"type":"String","value":"ubuntuPublisher"},"acrArtifactStoreName":{"type":"String","value":"ubuntu-acr"},"saArtifactStoreName":{"type":"String","value":"ubuntu-blob-store"},"acrManifestName":{"type":"String","value":"ubuntu-vm-acr-manifest-1-0-0"},"saManifestName":{"type":"String","value":"ubuntu-vm-sa-manifest-1-0-0"},"nfName":{"type":"String","value":"ubuntu-vm"},"vhdVersion":{"type":"String","value":"1-0-0"},"armTemplateVersion":{"type":"String","value":"1.0.0"}},"mode":"Incremental","provisioningState":"Succeeded","timestamp":"2023-07-26T13:41:01.4062434Z","duration":"PT21.4238689S","correlationId":"6b5fc538-ddd6-42f2-b6d3-595d3d08458a","providers":[{"namespace":"Microsoft.Hybridnetwork","resourceTypes":[{"resourceType":"publishers/artifactStores/artifactManifests","locations":["uksouth"]}]}],"dependencies":[],"outputResources":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-vm-acr-manifest-1-0-0"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-blob-store/artifactManifests/ubuntu-vm-sa-manifest-1-0-0"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1682'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:41:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.8.9.13224", "templateHash": "9578888424119431564"}}, "parameters": {"location":
      {"type": "string"}, "publisherName": {"type": "string", "metadata": {"description":
      "Name of an existing publisher, expected to be in the resource group where you
      deploy the template"}}, "acrArtifactStoreName": {"type": "string", "metadata":
      {"description": "Name of an existing ACR-backed Artifact Store, deployed under
      the publisher."}}, "saArtifactStoreName": {"type": "string", "metadata": {"description":
      "Name of an existing Storage Account-backed Artifact Store, deployed under the
      publisher."}}, "nfName": {"type": "string", "metadata": {"description": "Name
      of Network Function. Used predominantly as a prefix for other variable names"}},
      "nfDefinitionGroup": {"type": "string", "metadata": {"description": "Name of
      an existing Network Function Definition Group"}}, "nfDefinitionVersion": {"type":
      "string", "metadata": {"description": "The version of the NFDV you want to deploy,
      in format A-B-C"}}, "vhdVersion": {"type": "string", "metadata": {"description":
      "The version that you want to name the NFM VHD artifact, in format A-B-C. e.g.
      6-13-0"}}, "armTemplateVersion": {"type": "string", "metadata": {"description":
      "The version that you want to name the NFM template artifact, in format A.B.C.
      e.g. 6.13.0. If testing for development, you can use any numbers you like."}}},
      "variables": {"$fxv#0": {"$schema": "https://json-schema.org/draft-07/schema#",
      "title": "DeployParametersSchema", "type": "object", "properties": {"location":
      {"type": "string"}, "subnetName": {"type": "string"}, "ubuntuVmName": {"type":
      "string"}, "virtualNetworkId": {"type": "string"}, "sshPublicKeyAdmin": {"type":
      "string"}}}, "$fxv#1": {"imageName": "ubuntu-vmImage", "azureDeployLocation":
      "{deployParameters.location}"}, "$fxv#2": {"location": "{deployParameters.location}",
      "subnetName": "{deployParameters.subnetName}", "ubuntuVmName": "{deployParameters.ubuntuVmName}",
      "virtualNetworkId": "{deployParameters.virtualNetworkId}", "sshPublicKeyAdmin":
      "{deployParameters.sshPublicKeyAdmin}", "imageName": "ubuntu-vmImage"}}, "resources":
      [{"type": "Microsoft.Hybridnetwork/publishers/networkfunctiondefinitiongroups/networkfunctiondefinitionversions",
      "apiVersion": "2023-04-01-preview", "name": "[format(''{0}/{1}/{2}'', parameters(''publisherName''),
      parameters(''nfDefinitionGroup''), parameters(''nfDefinitionVersion''))]", "location":
      "[parameters(''location'')]", "properties": {"versionState": "Preview", "deployParameters":
      "[string(variables(''$fxv#0''))]", "networkFunctionType": "VirtualNetworkFunction",
      "networkFunctionTemplate": {"nfviType": "AzureCore", "networkFunctionApplications":
      [{"artifactType": "VhdImageFile", "name": "[format(''{0}Image'', parameters(''nfName''))]",
      "dependsOnProfile": null, "artifactProfile": {"vhdArtifactProfile": {"vhdName":
      "[format(''{0}-vhd'', parameters(''nfName''))]", "vhdVersion": "[parameters(''vhdVersion'')]"},
      "artifactStore": {"id": "[resourceId(''Microsoft.HybridNetwork/publishers/artifactStores'',
      parameters(''publisherName''), parameters(''saArtifactStoreName''))]"}}, "deployParametersMappingRuleProfile":
      {"vhdImageMappingRuleProfile": {"userConfiguration": "[string(variables(''$fxv#1''))]"},
      "applicationEnablement": "Unknown"}}, {"artifactType": "ArmTemplate", "name":
      "[parameters(''nfName'')]", "dependsOnProfile": null, "artifactProfile": {"templateArtifactProfile":
      {"templateName": "[format(''{0}-arm-template'', parameters(''nfName''))]", "templateVersion":
      "[parameters(''armTemplateVersion'')]"}, "artifactStore": {"id": "[resourceId(''Microsoft.HybridNetwork/publishers/artifactStores'',
      parameters(''publisherName''), parameters(''acrArtifactStoreName''))]"}}, "deployParametersMappingRuleProfile":
      {"templateMappingRuleProfile": {"templateParameters": "[string(variables(''$fxv#2''))]"},
      "applicationEnablement": "Unknown"}}]}}}]}, "parameters": {"location": {"value":
      "uksouth"}, "publisherName": {"value": "ubuntuPublisher"}, "acrArtifactStoreName":
      {"value": "ubuntu-acr"}, "saArtifactStoreName": {"value": "ubuntu-blob-store"},
      "nfName": {"value": "ubuntu-vm"}, "nfDefinitionGroup": {"value": "ubuntu-vm-nfdg"},
      "nfDefinitionVersion": {"value": "1.0.0"}, "vhdVersion": {"value": "1-0-0"},
      "armTemplateVersion": {"value": "1.0.0"}}, "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      Content-Length:
      - '4483'
      Content-Type:
      - application/json
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment/validate?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1690378875","name":"AOSM_CLI_deployment_1690378875","type":"Microsoft.Resources/deployments","properties":{"templateHash":"9578888424119431564","parameters":{"location":{"type":"String","value":"uksouth"},"publisherName":{"type":"String","value":"ubuntuPublisher"},"acrArtifactStoreName":{"type":"String","value":"ubuntu-acr"},"saArtifactStoreName":{"type":"String","value":"ubuntu-blob-store"},"nfName":{"type":"String","value":"ubuntu-vm"},"nfDefinitionGroup":{"type":"String","value":"ubuntu-vm-nfdg"},"nfDefinitionVersion":{"type":"String","value":"1.0.0"},"vhdVersion":{"type":"String","value":"1-0-0"},"armTemplateVersion":{"type":"String","value":"1.0.0"}},"mode":"Incremental","provisioningState":"Succeeded","timestamp":"0001-01-01T00:00:00Z","duration":"PT0S","correlationId":"67dc782c-80b9-4cfc-9870-c66297946a13","providers":[{"namespace":"Microsoft.Hybridnetwork","resourceTypes":[{"resourceType":"publishers/networkfunctiondefinitiongroups/networkfunctiondefinitionversions","locations":["uksouth"]}]}],"dependencies":[],"validatedResources":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/networkfunctiondefinitiongroups/ubuntu-vm-nfdg/networkfunctiondefinitionversions/1.0.0"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1453'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:41:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.8.9.13224", "templateHash": "9578888424119431564"}}, "parameters": {"location":
      {"type": "string"}, "publisherName": {"type": "string", "metadata": {"description":
      "Name of an existing publisher, expected to be in the resource group where you
      deploy the template"}}, "acrArtifactStoreName": {"type": "string", "metadata":
      {"description": "Name of an existing ACR-backed Artifact Store, deployed under
      the publisher."}}, "saArtifactStoreName": {"type": "string", "metadata": {"description":
      "Name of an existing Storage Account-backed Artifact Store, deployed under the
      publisher."}}, "nfName": {"type": "string", "metadata": {"description": "Name
      of Network Function. Used predominantly as a prefix for other variable names"}},
      "nfDefinitionGroup": {"type": "string", "metadata": {"description": "Name of
      an existing Network Function Definition Group"}}, "nfDefinitionVersion": {"type":
      "string", "metadata": {"description": "The version of the NFDV you want to deploy,
      in format A-B-C"}}, "vhdVersion": {"type": "string", "metadata": {"description":
      "The version that you want to name the NFM VHD artifact, in format A-B-C. e.g.
      6-13-0"}}, "armTemplateVersion": {"type": "string", "metadata": {"description":
      "The version that you want to name the NFM template artifact, in format A.B.C.
      e.g. 6.13.0. If testing for development, you can use any numbers you like."}}},
      "variables": {"$fxv#0": {"$schema": "https://json-schema.org/draft-07/schema#",
      "title": "DeployParametersSchema", "type": "object", "properties": {"location":
      {"type": "string"}, "subnetName": {"type": "string"}, "ubuntuVmName": {"type":
      "string"}, "virtualNetworkId": {"type": "string"}, "sshPublicKeyAdmin": {"type":
      "string"}}}, "$fxv#1": {"imageName": "ubuntu-vmImage", "azureDeployLocation":
      "{deployParameters.location}"}, "$fxv#2": {"location": "{deployParameters.location}",
      "subnetName": "{deployParameters.subnetName}", "ubuntuVmName": "{deployParameters.ubuntuVmName}",
      "virtualNetworkId": "{deployParameters.virtualNetworkId}", "sshPublicKeyAdmin":
      "{deployParameters.sshPublicKeyAdmin}", "imageName": "ubuntu-vmImage"}}, "resources":
      [{"type": "Microsoft.Hybridnetwork/publishers/networkfunctiondefinitiongroups/networkfunctiondefinitionversions",
      "apiVersion": "2023-04-01-preview", "name": "[format(''{0}/{1}/{2}'', parameters(''publisherName''),
      parameters(''nfDefinitionGroup''), parameters(''nfDefinitionVersion''))]", "location":
      "[parameters(''location'')]", "properties": {"versionState": "Preview", "deployParameters":
      "[string(variables(''$fxv#0''))]", "networkFunctionType": "VirtualNetworkFunction",
      "networkFunctionTemplate": {"nfviType": "AzureCore", "networkFunctionApplications":
      [{"artifactType": "VhdImageFile", "name": "[format(''{0}Image'', parameters(''nfName''))]",
      "dependsOnProfile": null, "artifactProfile": {"vhdArtifactProfile": {"vhdName":
      "[format(''{0}-vhd'', parameters(''nfName''))]", "vhdVersion": "[parameters(''vhdVersion'')]"},
      "artifactStore": {"id": "[resourceId(''Microsoft.HybridNetwork/publishers/artifactStores'',
      parameters(''publisherName''), parameters(''saArtifactStoreName''))]"}}, "deployParametersMappingRuleProfile":
      {"vhdImageMappingRuleProfile": {"userConfiguration": "[string(variables(''$fxv#1''))]"},
      "applicationEnablement": "Unknown"}}, {"artifactType": "ArmTemplate", "name":
      "[parameters(''nfName'')]", "dependsOnProfile": null, "artifactProfile": {"templateArtifactProfile":
      {"templateName": "[format(''{0}-arm-template'', parameters(''nfName''))]", "templateVersion":
      "[parameters(''armTemplateVersion'')]"}, "artifactStore": {"id": "[resourceId(''Microsoft.HybridNetwork/publishers/artifactStores'',
      parameters(''publisherName''), parameters(''acrArtifactStoreName''))]"}}, "deployParametersMappingRuleProfile":
      {"templateMappingRuleProfile": {"templateParameters": "[string(variables(''$fxv#2''))]"},
      "applicationEnablement": "Unknown"}}]}}}]}, "parameters": {"location": {"value":
      "uksouth"}, "publisherName": {"value": "ubuntuPublisher"}, "acrArtifactStoreName":
      {"value": "ubuntu-acr"}, "saArtifactStoreName": {"value": "ubuntu-blob-store"},
      "nfName": {"value": "ubuntu-vm"}, "nfDefinitionGroup": {"value": "ubuntu-vm-nfdg"},
      "nfDefinitionVersion": {"value": "1.0.0"}, "vhdVersion": {"value": "1-0-0"},
      "armTemplateVersion": {"value": "1.0.0"}}, "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      Content-Length:
      - '4483'
      Content-Type:
      - application/json
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1690378875","name":"AOSM_CLI_deployment_1690378875","type":"Microsoft.Resources/deployments","properties":{"templateHash":"9578888424119431564","parameters":{"location":{"type":"String","value":"uksouth"},"publisherName":{"type":"String","value":"ubuntuPublisher"},"acrArtifactStoreName":{"type":"String","value":"ubuntu-acr"},"saArtifactStoreName":{"type":"String","value":"ubuntu-blob-store"},"nfName":{"type":"String","value":"ubuntu-vm"},"nfDefinitionGroup":{"type":"String","value":"ubuntu-vm-nfdg"},"nfDefinitionVersion":{"type":"String","value":"1.0.0"},"vhdVersion":{"type":"String","value":"1-0-0"},"armTemplateVersion":{"type":"String","value":"1.0.0"}},"mode":"Incremental","provisioningState":"Accepted","timestamp":"2023-07-26T13:41:18.9471964Z","duration":"PT0.0002291S","correlationId":"656d408c-7df4-4d6a-9c4c-db318c6666a7","providers":[{"namespace":"Microsoft.Hybridnetwork","resourceTypes":[{"resourceType":"publishers/networkfunctiondefinitiongroups/networkfunctiondefinitionversions","locations":["uksouth"]}]}],"dependencies":[]}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1690378875/operationStatuses/08585112280068404322?api-version=2022-09-01
      cache-control:
      - no-cache
      content-length:
      - '1204'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:41:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08585112280068404322?api-version=2022-09-01
  response:
    body:
      string: '{"status":"Accepted"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:41:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08585112280068404322?api-version=2022-09-01
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:41:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08585112280068404322?api-version=2022-09-01
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:42:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08585112280068404322?api-version=2022-09-01
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:42:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1690378875","name":"AOSM_CLI_deployment_1690378875","type":"Microsoft.Resources/deployments","properties":{"templateHash":"9578888424119431564","parameters":{"location":{"type":"String","value":"uksouth"},"publisherName":{"type":"String","value":"ubuntuPublisher"},"acrArtifactStoreName":{"type":"String","value":"ubuntu-acr"},"saArtifactStoreName":{"type":"String","value":"ubuntu-blob-store"},"nfName":{"type":"String","value":"ubuntu-vm"},"nfDefinitionGroup":{"type":"String","value":"ubuntu-vm-nfdg"},"nfDefinitionVersion":{"type":"String","value":"1.0.0"},"vhdVersion":{"type":"String","value":"1-0-0"},"armTemplateVersion":{"type":"String","value":"1.0.0"}},"mode":"Incremental","provisioningState":"Succeeded","timestamp":"2023-07-26T13:42:41.877147Z","duration":"PT1M22.9301797S","correlationId":"656d408c-7df4-4d6a-9c4c-db318c6666a7","providers":[{"namespace":"Microsoft.Hybridnetwork","resourceTypes":[{"resourceType":"publishers/networkfunctiondefinitiongroups/networkfunctiondefinitionversions","locations":["uksouth"]}]}],"dependencies":[],"outputResources":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/networkfunctiondefinitiongroups/ubuntu-vm-nfdg/networkfunctiondefinitionversions/1.0.0"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1468'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:42:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-blob-store/artifactManifests/ubuntu-vm-sa-manifest-1-0-0?api-version=2023-04-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-blob-store/artifactManifests/ubuntu-vm-sa-manifest-1-0-0","name":"ubuntu-vm-sa-manifest-1-0-0","type":"microsoft.hybridnetwork/publishers/artifactstores/artifactmanifests","location":"uksouth","systemData":{"createdBy":"patrykkulik@microsoft.com","createdByType":"User","createdAt":"2023-07-26T13:40:42.2163698Z","lastModifiedBy":"patrykkulik@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-07-26T13:40:42.2163698Z"},"properties":{"artifacts":[{"artifactName":"ubuntu-vm-vhd","artifactType":"VhdImageFile","artifactVersion":"1-0-0"}],"artifactManifestState":"Uploading","provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '795'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:42:51 GMT
      etag:
      - '"0100d6d7-0000-1100-0000-64c1225e0000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-providerhub-traffic:
      - 'True'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-blob-store/artifactManifests/ubuntu-vm-sa-manifest-1-0-0/listCredential?api-version=2023-04-01-preview
  response:
    body:
      string: '{"storageAccountId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/ubuntu-blob-store-HostedResources-07BDF073/providers/Microsoft.Storage/storageAccounts/07bdf073ubuntublobstorea","containerCredentials":[{"containerName":"ubuntuvmvhd-1-0-0","containerSasUri":"https://07bdf073ubuntublobstorea.blob.core.windows.net/ubuntuvmvhd-1-0-0?sv=2021-08-06&si=StorageAccountAccessPolicy&sr=c&sig=eoSLWD7pccblbNRJt8QGMkWOcYR9xZbjVntVNxHmXiY%3D"}],"expiry":"2023-07-27T13:42:53.0889336+00:00","credentialType":"AzureStorageAccountToken"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '546'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:42:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-build-version:
      - 1.0.02386.1640
      x-ms-providerhub-traffic:
      - 'True'
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-vm-acr-manifest-1-0-0?api-version=2023-04-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-vm-acr-manifest-1-0-0","name":"ubuntu-vm-acr-manifest-1-0-0","type":"microsoft.hybridnetwork/publishers/artifactstores/artifactmanifests","location":"uksouth","systemData":{"createdBy":"patrykkulik@microsoft.com","createdByType":"User","createdAt":"2023-07-26T13:40:42.45082Z","lastModifiedBy":"patrykkulik@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-07-26T13:40:42.45082Z"},"properties":{"artifacts":[{"artifactName":"ubuntu-vm-arm-template","artifactType":"ArmTemplate","artifactVersion":"1.0.0"}],"artifactManifestState":"Uploading","provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '794'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:42:52 GMT
      etag:
      - '"010000d8-0000-1100-0000-64c1226a0000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-providerhub-traffic:
      - 'True'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -f --definition-type --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-vm-acr-manifest-1-0-0/listCredential?api-version=2023-04-01-preview
  response:
    body:
      string: '{"username":"ubuntu-vm-acr-manifest-1-0-0","acrToken":"dzBEJc9khyb/+Gwp3TQDSYn6bvvFcJfQfgF8MZT20M+ACRA+ahWq","acrServerUrl":"https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io","repositories":["ubuntu-vm-arm-template"],"expiry":"2023-07-27T13:42:53.8465345+00:00","credentialType":"AzureContainerRegistryScopedToken"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '320'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:42:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-build-version:
      - 1.0.02386.1640
      x-ms-providerhub-traffic:
      - 'True'
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/xml
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-storage-blob/12.16.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
      x-ms-date:
      - Wed, 26 Jul 2023 13:42:53 GMT
      x-ms-version:
      - '2022-11-02'
    method: HEAD
    uri: https://ubuntuimage.blob.core.windows.net/images/livecd.ubuntu-cpc.azure.vhd?sp=r&st=2023-07-25T13%3A50%3A40Z&se=2024-07-25T21%3A50%3A40Z&spr=https&sv=2022-11-02&sr=b&sig=NlqXIleMtL9wIACerJdtxZ5kXdF0Gbe4uoYRmcDsFq8%3D
  response:
    body:
      string: ''
    headers:
      accept-ranges:
      - bytes
      content-length:
      - '32213303808'
      content-type:
      - application/octet-stream
      date:
      - Wed, 26 Jul 2023 13:42:54 GMT
      etag:
      - '"0x8DB883E503690E6"'
      last-modified:
      - Wed, 19 Jul 2023 09:55:41 GMT
      server:
      - Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0
      x-ms-blob-sequence-number:
      - '0'
      x-ms-blob-type:
      - PageBlob
      x-ms-creation-time:
      - Wed, 19 Jul 2023 09:33:40 GMT
      x-ms-lease-state:
      - available
      x-ms-lease-status:
      - unlocked
      x-ms-server-encrypted:
      - 'true'
      x-ms-version:
      - '2022-11-02'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/xml
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - azsdk-python-storage-blob/12.16.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
      x-ms-copy-source:
      - https://ubuntuimage.blob.core.windows.net/images/livecd.ubuntu-cpc.azure.vhd?sp=r&st=2023-07-25T13%3A50%3A40Z&se=2024-07-25T21%3A50%3A40Z&spr=https&sv=2022-11-02&sr=b&sig=NlqXIleMtL9wIACerJdtxZ5kXdF0Gbe4uoYRmcDsFq8%3D
      x-ms-date:
      - Wed, 26 Jul 2023 13:42:53 GMT
      x-ms-version:
      - '2022-11-02'
    method: PUT
    uri: https://07bdf073ubuntublobstorea.blob.core.windows.net/ubuntuvmvhd-1-0-0/ubuntuvm-1-0-0.vhd?sv=2021-08-06&si=StorageAccountAccessPolicy&sr=c&sig=eoSLWD7pccblbNRJt8QGMkWOcYR9xZbjVntVNxHmXiY%3D
  response:
    body:
      string: ''
    headers:
      content-length:
      - '0'
      date:
      - Wed, 26 Jul 2023 13:42:55 GMT
      etag:
      - '"0x8DB8DDE37993689"'
      last-modified:
      - Wed, 26 Jul 2023 13:42:55 GMT
      server:
      - Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0
      x-ms-copy-id:
      - 772d97bc-1e16-4a2a-8a18-6ad8d074e371
      x-ms-copy-status:
      - pending
      x-ms-version:
      - '2022-11-02'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.26.0
    method: POST
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/v2/ubuntu-vm-arm-template/blobs/uploads/
  response:
    body:
      string: '{"errors":[{"code":"UNAUTHORIZED","message":"authentication required,
        visit https://aka.ms/acr/authorization for more information.","detail":[{"Type":"repository","Name":"ubuntu-vm-arm-template","Action":"pull"},{"Type":"repository","Name":"ubuntu-vm-arm-template","Action":"push"}]}]}

        '
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '286'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:42:55 GMT
      docker-distribution-api-version:
      - registry/2.0
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      www-authenticate:
      - Bearer realm="https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/oauth2/token",service="ubuntupublisherubuntuacr2315dcfa83.azurecr.io",scope="repository:ubuntu-vm-arm-template:pull,push"
      x-content-type-options:
      - nosniff
    status:
      code: 401
      message: Unauthorized
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Service:
      - ubuntupublisherubuntuacr2315dcfa83.azurecr.io
      User-Agent:
      - oras-py
    method: GET
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/oauth2/token?service=ubuntupublisherubuntuacr2315dcfa83.azurecr.io&scope=repository%3Aubuntu-vm-arm-template%3Apull%2Cpush
  response:
    body:
      string: '{"access_token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IkNPQVU6UERZSDo0SVJYOjM2SEI6TFYzUDpWNFBGOko0NzQ6SzNOSjpPS1JCOlRZQUo6NEc0Szo1Q1NEIn0.eyJqdGkiOiJhZmI5ZmM4MS05MDRjLTRlMjMtODVhZC1iZmYwNzYyYTMxMzEiLCJzdWIiOiJ1YnVudHUtdm0tYWNyLW1hbmlmZXN0LTEtMC0wIiwibmJmIjoxNjkwMzc4MDc2LCJleHAiOjE2OTAzNzk4NzYsImlhdCI6MTY5MDM3ODA3NiwiaXNzIjoiQXp1cmUgQ29udGFpbmVyIFJlZ2lzdHJ5IiwiYXVkIjoidWJ1bnR1cHVibGlzaGVydWJ1bnR1YWNyMjMxNWRjZmE4My5henVyZWNyLmlvIiwidmVyc2lvbiI6IjIuMCIsInJpZCI6IjUzNjQ5MTE4MjEzMTRkNjc5MjZkYTdhM2NkYzE3NGY4IiwiYWNjZXNzIjpbeyJUeXBlIjoicmVwb3NpdG9yeSIsIk5hbWUiOiJ1YnVudHUtdm0tYXJtLXRlbXBsYXRlIiwiQWN0aW9ucyI6WyJwdWxsIiwicHVzaCJdfV0sInJvbGVzIjpbXSwiZ3JhbnRfdHlwZSI6ImFjY2Vzc190b2tlbiJ9.z80W2pf4snT9rDfnttVlFIXQtyeUJhHvQDKtvY553FJeeMPXd3pN5Z9KuOAKjT7hbG53pRDtgBS9SBEpvj0uwPab6wdpm2nHqlcsBPl7kOIqspPH7-7XOyjMOuSfXSGNWhzLv3F2mPg7YWj6ZPUsQUZL6aN8OKl5hwZ-k_cFFFAhBvSjSpyHRehxyUkdISBNcr_9zkpZLBam02twuMuMsQHFo2k8amYpcVQaXY_EzVnbfN29gG9XbWd1KAtS75Dg6srTqH8QN0Llr-riWmiUxFRhKyBI_zcPmAmnZXa6mmknc_tW0l6ue6uTgFaPIX1ZYYpo_h3SswD88OH5q96Izg"}'
    headers:
      connection:
      - keep-alive
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:42:56 GMT
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-ms-ratelimit-remaining-calls-per-second:
      - '333.316667'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.26.0
    method: POST
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/v2/ubuntu-vm-arm-template/blobs/uploads/
  response:
    body:
      string: ''
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Wed, 26 Jul 2023 13:42:56 GMT
      docker-distribution-api-version:
      - registry/2.0
      docker-upload-uuid:
      - 377ceeef-5696-4d08-9d23-e0d6808d5cb5
      location:
      - /v2/ubuntu-vm-arm-template/blobs/uploads/377ceeef-5696-4d08-9d23-e0d6808d5cb5?_nouploadcache=false&_state=y6irBoTyBpc74WmUHCHXifGwSlipCltDAc3i5nlOdvV7Ik5hbWUiOiJ1YnVudHUtdm0tYXJtLXRlbXBsYXRlIiwiVVVJRCI6IjM3N2NlZWVmLTU2OTYtNGQwOC05ZDIzLWUwZDY4MDhkNWNiNSIsIk9mZnNldCI6MCwiU3RhcnRlZEF0IjoiMjAyMy0wNy0yNlQxMzo0Mjo1Ni4xMDU5OTM3MDFaIn0%3D
      range:
      - 0-0
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: "{\n  \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\n
      \ \"contentVersion\": \"1.0.0.0\",\n  \"metadata\": {\n    \"_generator\": {\n
      \     \"name\": \"bicep\",\n      \"version\": \"0.8.9.13224\",\n      \"templateHash\":
      \"14979664264804385741\"\n    }\n  },\n  \"parameters\": {\n    \"location\":
      {\n      \"type\": \"string\",\n      \"defaultValue\": \"[resourceGroup().location]\"\n
      \   },\n    \"subnetName\": {\n      \"type\": \"string\"\n    },\n    \"ubuntuVmName\":
      {\n      \"type\": \"string\",\n      \"defaultValue\": \"ubuntu-vm\"\n    },\n
      \   \"virtualNetworkId\": {\n      \"type\": \"string\"\n    },\n    \"sshPublicKeyAdmin\":
      {\n      \"type\": \"string\"\n    },\n    \"imageName\": {\n      \"type\":
      \"string\"\n    }\n  },\n  \"variables\": {\n    \"imageResourceGroup\": \"[resourceGroup().name]\",\n
      \   \"subscriptionId\": \"[subscription().subscriptionId]\",\n    \"vmSizeSku\":
      \"Standard_D2s_v3\"\n  },\n  \"resources\": [\n    {\n      \"type\": \"Microsoft.Network/networkInterfaces\",\n
      \     \"apiVersion\": \"2021-05-01\",\n      \"name\": \"[format('{0}_nic',
      parameters('ubuntuVmName'))]\",\n      \"location\": \"[parameters('location')]\",\n
      \     \"properties\": {\n        \"ipConfigurations\": [\n          {\n            \"name\":
      \"ipconfig1\",\n            \"properties\": {\n              \"subnet\": {\n
      \               \"id\": \"[format('{0}/subnets/{1}', parameters('virtualNetworkId'),
      parameters('subnetName'))]\"\n              },\n              \"primary\": true,\n
      \             \"privateIPAddressVersion\": \"IPv4\"\n            }\n          }\n
      \       ]\n      }\n    },\n    {\n      \"type\": \"Microsoft.Compute/virtualMachines\",\n
      \     \"apiVersion\": \"2021-07-01\",\n      \"name\": \"[parameters('ubuntuVmName')]\",\n
      \     \"location\": \"[parameters('location')]\",\n      \"properties\": {\n
      \       \"hardwareProfile\": {\n          \"vmSize\": \"[variables('vmSizeSku')]\"\n
      \       },\n        \"storageProfile\": {\n          \"imageReference\": {\n
      \           \"id\": \"[extensionResourceId(format('/subscriptions/{0}/resourceGroups/{1}',
      variables('subscriptionId'), variables('imageResourceGroup')), 'Microsoft.Compute/images',
      parameters('imageName'))]\"\n          },\n          \"osDisk\": {\n            \"osType\":
      \"Linux\",\n            \"name\": \"[format('{0}_disk', parameters('ubuntuVmName'))]\",\n
      \           \"createOption\": \"FromImage\",\n            \"caching\": \"ReadWrite\",\n
      \           \"writeAcceleratorEnabled\": false,\n            \"managedDisk\":
      \"[json('{\\\"storageAccountType\\\": \\\"Premium_LRS\\\"}')]\",\n            \"deleteOption\":
      \"Delete\",\n            \"diskSizeGB\": 30\n          }\n        },\n        \"osProfile\":
      {\n          \"computerName\": \"[parameters('ubuntuVmName')]\",\n          \"adminUsername\":
      \"azureuser\",\n          \"linuxConfiguration\": {\n            \"disablePasswordAuthentication\":
      true,\n            \"ssh\": {\n              \"publicKeys\": [\n                {\n
      \                 \"path\": \"/home/azureuser/.ssh/authorized_keys\",\n                  \"keyData\":
      \"[parameters('sshPublicKeyAdmin')]\"\n                }\n              ]\n
      \           },\n            \"provisionVMAgent\": true,\n            \"patchSettings\":
      {\n              \"patchMode\": \"ImageDefault\",\n              \"assessmentMode\":
      \"ImageDefault\"\n            }\n          },\n          \"secrets\": [],\n
      \         \"allowExtensionOperations\": true\n        },\n        \"networkProfile\":
      {\n          \"networkInterfaces\": [\n            {\n              \"id\":
      \"[resourceId('Microsoft.Network/networkInterfaces', format('{0}_nic', parameters('ubuntuVmName')))]\"\n
      \           }\n          ]\n        }\n      },\n      \"dependsOn\": [\n        \"[resourceId('Microsoft.Network/networkInterfaces',
      format('{0}_nic', parameters('ubuntuVmName')))]\"\n      ]\n    }\n  ]\n}"
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '3591'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.26.0
    method: PUT
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/v2/ubuntu-vm-arm-template/blobs/uploads/377ceeef-5696-4d08-9d23-e0d6808d5cb5?_nouploadcache=false&_state=y6irBoTyBpc74WmUHCHXifGwSlipCltDAc3i5nlOdvV7Ik5hbWUiOiJ1YnVudHUtdm0tYXJtLXRlbXBsYXRlIiwiVVVJRCI6IjM3N2NlZWVmLTU2OTYtNGQwOC05ZDIzLWUwZDY4MDhkNWNiNSIsIk9mZnNldCI6MCwiU3RhcnRlZEF0IjoiMjAyMy0wNy0yNlQxMzo0Mjo1Ni4xMDU5OTM3MDFaIn0%3D&digest=sha256%3Ae71bf56543dc33dc8e550a0c574efe9a4875754a4ddf74347e448dec2462798b
  response:
    body:
      string: ''
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Wed, 26 Jul 2023 13:42:56 GMT
      docker-content-digest:
      - sha256:e71bf56543dc33dc8e550a0c574efe9a4875754a4ddf74347e448dec2462798b
      docker-distribution-api-version:
      - registry/2.0
      location:
      - /v2/ubuntu-vm-arm-template/blobs/sha256:e71bf56543dc33dc8e550a0c574efe9a4875754a4ddf74347e448dec2462798b
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.26.0
    method: POST
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/v2/ubuntu-vm-arm-template/blobs/uploads/
  response:
    body:
      string: '{"errors":[{"code":"UNAUTHORIZED","message":"authentication required,
        visit https://aka.ms/acr/authorization for more information.","detail":[{"Type":"repository","Name":"ubuntu-vm-arm-template","Action":"pull"},{"Type":"repository","Name":"ubuntu-vm-arm-template","Action":"push"}]}]}

        '
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '286'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:42:56 GMT
      docker-distribution-api-version:
      - registry/2.0
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      www-authenticate:
      - Bearer realm="https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/oauth2/token",service="ubuntupublisherubuntuacr2315dcfa83.azurecr.io",scope="repository:ubuntu-vm-arm-template:pull,push"
      x-content-type-options:
      - nosniff
    status:
      code: 401
      message: Unauthorized
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Service:
      - ubuntupublisherubuntuacr2315dcfa83.azurecr.io
      User-Agent:
      - oras-py
    method: GET
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/oauth2/token?service=ubuntupublisherubuntuacr2315dcfa83.azurecr.io&scope=repository%3Aubuntu-vm-arm-template%3Apull%2Cpush
  response:
    body:
      string: '{"access_token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IkNPQVU6UERZSDo0SVJYOjM2SEI6TFYzUDpWNFBGOko0NzQ6SzNOSjpPS1JCOlRZQUo6NEc0Szo1Q1NEIn0.eyJqdGkiOiI5OGZlZGY5My04MmFjLTQzYTctYmQ3MS05ZGZjNTlhYmZlNDkiLCJzdWIiOiJ1YnVudHUtdm0tYWNyLW1hbmlmZXN0LTEtMC0wIiwibmJmIjoxNjkwMzc4MDc2LCJleHAiOjE2OTAzNzk4NzYsImlhdCI6MTY5MDM3ODA3NiwiaXNzIjoiQXp1cmUgQ29udGFpbmVyIFJlZ2lzdHJ5IiwiYXVkIjoidWJ1bnR1cHVibGlzaGVydWJ1bnR1YWNyMjMxNWRjZmE4My5henVyZWNyLmlvIiwidmVyc2lvbiI6IjIuMCIsInJpZCI6IjUzNjQ5MTE4MjEzMTRkNjc5MjZkYTdhM2NkYzE3NGY4IiwiYWNjZXNzIjpbeyJUeXBlIjoicmVwb3NpdG9yeSIsIk5hbWUiOiJ1YnVudHUtdm0tYXJtLXRlbXBsYXRlIiwiQWN0aW9ucyI6WyJwdWxsIiwicHVzaCJdfV0sInJvbGVzIjpbXSwiZ3JhbnRfdHlwZSI6ImFjY2Vzc190b2tlbiJ9.C64_ds7czwe_9fwWjamPuU6Co0cdp0HJdRDC9BFKUXoRi-CX-E0ODLPVel418nOORJckQxPraqCpFMqWv1F4Bi-SsNFLcww3SP6ku7VtS45KlelEmhT4LuNbZtBBMUbbP2fYtB4jz7aAb-7ty7xsh0kljNb47gWKeoc_yYvgaZUHQVxvFdYoDdWQSoJyv3r7znyE3hC9SVbHI2jt_FSQT10us2c-p_u1zivsM8GB_pcCjHyYbDQwg4_zn62r2SHEYSpS5zZKRnkYymMIMV29HTsX1xsmUH0bmk7-11XQcxrcL7vhrBBjLgRiIO_MEm-rmuZA7QC3RlRkoHK5e2hfNQ"}'
    headers:
      connection:
      - keep-alive
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:42:56 GMT
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-ms-ratelimit-remaining-calls-per-second:
      - '333.3'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.26.0
    method: POST
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/v2/ubuntu-vm-arm-template/blobs/uploads/
  response:
    body:
      string: ''
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Wed, 26 Jul 2023 13:42:56 GMT
      docker-distribution-api-version:
      - registry/2.0
      docker-upload-uuid:
      - 3aac3265-c404-4b7f-9891-921c3150d04f
      location:
      - /v2/ubuntu-vm-arm-template/blobs/uploads/3aac3265-c404-4b7f-9891-921c3150d04f?_nouploadcache=false&_state=eoGzfNWHRutGitouwu8OKW4HBcDE3_WBnHH-FFq3iH17Ik5hbWUiOiJ1YnVudHUtdm0tYXJtLXRlbXBsYXRlIiwiVVVJRCI6IjNhYWMzMjY1LWM0MDQtNGI3Zi05ODkxLTkyMWMzMTUwZDA0ZiIsIk9mZnNldCI6MCwiU3RhcnRlZEF0IjoiMjAyMy0wNy0yNlQxMzo0Mjo1Ni45MzExMDkzNzhaIn0%3D
      range:
      - 0-0
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.26.0
    method: PUT
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/v2/ubuntu-vm-arm-template/blobs/uploads/3aac3265-c404-4b7f-9891-921c3150d04f?_nouploadcache=false&_state=eoGzfNWHRutGitouwu8OKW4HBcDE3_WBnHH-FFq3iH17Ik5hbWUiOiJ1YnVudHUtdm0tYXJtLXRlbXBsYXRlIiwiVVVJRCI6IjNhYWMzMjY1LWM0MDQtNGI3Zi05ODkxLTkyMWMzMTUwZDA0ZiIsIk9mZnNldCI6MCwiU3RhcnRlZEF0IjoiMjAyMy0wNy0yNlQxMzo0Mjo1Ni45MzExMDkzNzhaIn0%3D&digest=sha256%3Ae3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
  response:
    body:
      string: ''
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Wed, 26 Jul 2023 13:42:57 GMT
      docker-content-digest:
      - sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      docker-distribution-api-version:
      - registry/2.0
      location:
      - /v2/ubuntu-vm-arm-template/blobs/sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 201
      message: Created
- request:
    body: '{"schemaVersion": 2, "mediaType": "application/vnd.oci.image.manifest.v1+json",
      "config": {"mediaType": "application/vnd.unknown.config.v1+json", "size": 0,
      "digest": "sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"},
      "layers": [{"mediaType": "application/vnd.oci.image.layer.v1.tar", "size": 3591,
      "digest": "sha256:e71bf56543dc33dc8e550a0c574efe9a4875754a4ddf74347e448dec2462798b",
      "annotations": {"org.opencontainers.image.title": "ubuntu_template.json"}}],
      "annotations": {}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '504'
      Content-Type:
      - application/vnd.oci.image.manifest.v1+json
      User-Agent:
      - python-requests/2.26.0
    method: PUT
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/v2/ubuntu-vm-arm-template/manifests/1.0.0
  response:
    body:
      string: '{"errors":[{"code":"UNAUTHORIZED","message":"authentication required,
        visit https://aka.ms/acr/authorization for more information.","detail":[{"Type":"repository","Name":"ubuntu-vm-arm-template","Action":"pull"},{"Type":"repository","Name":"ubuntu-vm-arm-template","Action":"push"}]}]}

        '
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '286'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:42:57 GMT
      docker-distribution-api-version:
      - registry/2.0
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      www-authenticate:
      - Bearer realm="https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/oauth2/token",service="ubuntupublisherubuntuacr2315dcfa83.azurecr.io",scope="repository:ubuntu-vm-arm-template:pull,push"
      x-content-type-options:
      - nosniff
    status:
      code: 401
      message: Unauthorized
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Service:
      - ubuntupublisherubuntuacr2315dcfa83.azurecr.io
      User-Agent:
      - oras-py
    method: GET
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/oauth2/token?service=ubuntupublisherubuntuacr2315dcfa83.azurecr.io&scope=repository%3Aubuntu-vm-arm-template%3Apull%2Cpush
  response:
    body:
      string: '{"access_token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IkNPQVU6UERZSDo0SVJYOjM2SEI6TFYzUDpWNFBGOko0NzQ6SzNOSjpPS1JCOlRZQUo6NEc0Szo1Q1NEIn0.eyJqdGkiOiI0NDJlYTUyNS1hOWQ0LTQ5MmYtYWI0NS1hODMxNzAwODZjMjEiLCJzdWIiOiJ1YnVudHUtdm0tYWNyLW1hbmlmZXN0LTEtMC0wIiwibmJmIjoxNjkwMzc4MDc3LCJleHAiOjE2OTAzNzk4NzcsImlhdCI6MTY5MDM3ODA3NywiaXNzIjoiQXp1cmUgQ29udGFpbmVyIFJlZ2lzdHJ5IiwiYXVkIjoidWJ1bnR1cHVibGlzaGVydWJ1bnR1YWNyMjMxNWRjZmE4My5henVyZWNyLmlvIiwidmVyc2lvbiI6IjIuMCIsInJpZCI6IjUzNjQ5MTE4MjEzMTRkNjc5MjZkYTdhM2NkYzE3NGY4IiwiYWNjZXNzIjpbeyJUeXBlIjoicmVwb3NpdG9yeSIsIk5hbWUiOiJ1YnVudHUtdm0tYXJtLXRlbXBsYXRlIiwiQWN0aW9ucyI6WyJwdWxsIiwicHVzaCJdfV0sInJvbGVzIjpbXSwiZ3JhbnRfdHlwZSI6ImFjY2Vzc190b2tlbiJ9.yo8hU6AYMFINYoZfrB08atl05hnYVuTBnj_rKtNutyqsvk4IKTNCQyMsF_N7HebRE9Vdgsiu9kc7gELn5lP2u4IvZS8LmNvsu-DCZI4N9A5CZhy0uAQb3Ih-Pk9oMXj3dPpL_A7M2Ffkq4tAtBt2ggS0v-kud7aRen52Epa_q66gaQVhUheHArDwESIn3dsSLKFHA7je3endSvnn3dc8MHa3EI_NkpPgfOS7ZmBOZKt5b_A9jKdWeF52wMtYAOjXoTF9VdmncfhSYhLk9MELqn6QeyLecWVFWNL9LzwpBMHmDFg6IWKZZC3jlW2RCnBCJi6JaSwbH5KEk9AV-4i2GQ"}'
    headers:
      connection:
      - keep-alive
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:42:57 GMT
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-ms-ratelimit-remaining-calls-per-second:
      - '333.283333'
    status:
      code: 200
      message: OK
- request:
    body: '{"schemaVersion": 2, "mediaType": "application/vnd.oci.image.manifest.v1+json",
      "config": {"mediaType": "application/vnd.unknown.config.v1+json", "size": 0,
      "digest": "sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"},
      "layers": [{"mediaType": "application/vnd.oci.image.layer.v1.tar", "size": 3591,
      "digest": "sha256:e71bf56543dc33dc8e550a0c574efe9a4875754a4ddf74347e448dec2462798b",
      "annotations": {"org.opencontainers.image.title": "ubuntu_template.json"}}],
      "annotations": {}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '504'
      Content-Type:
      - application/vnd.oci.image.manifest.v1+json
      User-Agent:
      - python-requests/2.26.0
    method: PUT
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/v2/ubuntu-vm-arm-template/manifests/1.0.0
  response:
    body:
      string: ''
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Wed, 26 Jul 2023 13:42:57 GMT
      docker-content-digest:
      - sha256:8923fa544da97914212bc9173ec512741d331940e4a2c7b6fbad979657a5c507
      docker-distribution-api-version:
      - registry/2.0
      location:
      - /v2/ubuntu-vm-arm-template/manifests/sha256:8923fa544da97914212bc9173ec512741d331940e4a2c7b6fbad979657a5c507
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd build
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/networkFunctionDefinitionGroups/ubuntu-vm-nfdg/networkFunctionDefinitionVersions/1.0.0?api-version=2023-04-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/networkfunctiondefinitiongroups/ubuntu-vm-nfdg/networkfunctiondefinitionversions/1.0.0","name":"1.0.0","type":"microsoft.hybridnetwork/publishers/networkfunctiondefinitiongroups/networkfunctiondefinitionversions","location":"uksouth","systemData":{"createdBy":"patrykkulik@microsoft.com","createdByType":"User","createdAt":"2023-07-26T13:41:20.6640217Z","lastModifiedBy":"patrykkulik@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-07-26T13:41:20.6640217Z"},"properties":{"networkFunctionTemplate":{"networkFunctionApplications":[{"artifactProfile":{"vhdArtifactProfile":{"vhdName":"ubuntu-vm-vhd","vhdVersion":"1-0-0"},"artifactStore":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-blob-store"}},"deployParametersMappingRuleProfile":{"vhdImageMappingRuleProfile":{"userConfiguration":"{\"imageName\":\"ubuntu-vmImage\",\"azureDeployLocation\":\"{deployParameters.location}\"}"},"applicationEnablement":"Unknown"},"artifactType":"VhdImageFile","dependsOnProfile":null,"name":"ubuntu-vmImage"},{"artifactProfile":{"templateArtifactProfile":{"templateName":"ubuntu-vm-arm-template","templateVersion":"1.0.0"},"artifactStore":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr"}},"deployParametersMappingRuleProfile":{"templateMappingRuleProfile":{"templateParameters":"{\"location\":\"{deployParameters.location}\",\"subnetName\":\"{deployParameters.subnetName}\",\"ubuntuVmName\":\"{deployParameters.ubuntuVmName}\",\"virtualNetworkId\":\"{deployParameters.virtualNetworkId}\",\"sshPublicKeyAdmin\":\"{deployParameters.sshPublicKeyAdmin}\",\"imageName\":\"ubuntu-vmImage\"}"},"applicationEnablement":"Unknown"},"artifactType":"ArmTemplate","dependsOnProfile":null,"name":"ubuntu-vm"}],"nfviType":"AzureCore"},"versionState":"Preview","description":null,"deployParameters":"{\"$schema\":\"https://json-schema.org/draft-07/schema#\",\"title\":\"DeployParametersSchema\",\"type\":\"object\",\"properties\":{\"location\":{\"type\":\"string\"},\"subnetName\":{\"type\":\"string\"},\"ubuntuVmName\":{\"type\":\"string\"},\"virtualNetworkId\":{\"type\":\"string\"},\"sshPublicKeyAdmin\":{\"type\":\"string\"}},\"required\":[\"location\",\"subnetName\",\"ubuntuVmName\",\"virtualNetworkId\",\"sshPublicKeyAdmin\"]}","networkFunctionType":"VirtualNetworkFunction","provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2711'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:42:57 GMT
      etag:
      - '"0200c39f-0000-1100-0000-64c1228c0000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-providerhub-traffic:
      - 'True'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 26 Jul 2023 13:42:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test","name":"patrykkulik-test","type":"Microsoft.Resources/resourceGroups","location":"eastus","tags":{"autoDelete":"true","expiresOn":"2023-08-20T10:48:11.8928180Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '301'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:42:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher?api-version=2023-04-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher","name":"ubuntuPublisher","type":"microsoft.hybridnetwork/publishers","location":"uksouth","systemData":{"createdBy":"patrykkulik@microsoft.com","createdByType":"User","createdAt":"2023-07-24T10:35:08.3094719Z","lastModifiedBy":"patrykkulik@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-07-24T10:35:08.3094719Z"},"properties":{"scope":"Private","provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '550'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:42:58 GMT
      etag:
      - '"0b00b59c-0000-1100-0000-64be53e60000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-providerhub-traffic:
      - 'True'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr?api-version=2023-04-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr","name":"ubuntu-acr","type":"microsoft.hybridnetwork/publishers/artifactstores","location":"uksouth","systemData":{"createdBy":"patrykkulik@microsoft.com","createdByType":"User","createdAt":"2023-07-24T10:36:42.2618346Z","lastModifiedBy":"b8ed041c-aa91-418e-8f47-20c70abc2de1","lastModifiedByType":"Application","lastModifiedAt":"2023-07-26T13:41:32.1146188Z"},"properties":{"storeType":"AzureContainerRegistry","replicationStrategy":"SingleReplication","managedResourceGroupConfiguration":{"name":"ubuntu-acr-HostedResources-7510103F","location":"uksouth"},"provisioningState":"Succeeded","storageResourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/ubuntu-acr-HostedResources-7510103F/providers/Microsoft.ContainerRegistry/registries/UbuntupublisherUbuntuAcr2315dcfa83"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '978'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:42:58 GMT
      etag:
      - '"0100f7a1-0000-1100-0000-64c1228c0000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-providerhub-traffic:
      - 'True'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "uksouth"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      Content-Length:
      - '23'
      Content-Type:
      - application/json
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/networkServiceDesignGroups/ubuntu?api-version=2023-04-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/networkServiceDesignGroups/ubuntu","name":"ubuntu","type":"microsoft.hybridnetwork/publishers/networkservicedesigngroups","location":"uksouth","systemData":{"createdBy":"patrykkulik@microsoft.com","createdByType":"User","createdAt":"2023-07-24T13:23:29.0796168Z","lastModifiedBy":"patrykkulik@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-07-26T13:42:58.6170624Z"},"properties":{"description":null,"provisioningState":"Accepted"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/3a55f1d1-5877-4483-abfa-ef6f900f02d8*0A2C88351F91E19B08EFFAF13C02A492976D31AA01E04643FC90923CE153B778?api-version=2020-01-01-preview
      cache-control:
      - no-cache
      content-length:
      - '602'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:42:59 GMT
      etag:
      - '"05001305-0000-1100-0000-64c122e30000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-build-version:
      - 1.0.02386.1640
      x-ms-providerhub-traffic:
      - 'True'
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/3a55f1d1-5877-4483-abfa-ef6f900f02d8*0A2C88351F91E19B08EFFAF13C02A492976D31AA01E04643FC90923CE153B778?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/3a55f1d1-5877-4483-abfa-ef6f900f02d8*0A2C88351F91E19B08EFFAF13C02A492976D31AA01E04643FC90923CE153B778","name":"3a55f1d1-5877-4483-abfa-ef6f900f02d8*0A2C88351F91E19B08EFFAF13C02A492976D31AA01E04643FC90923CE153B778","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/networkServiceDesignGroups/ubuntu","status":"Accepted","startTime":"2023-07-26T13:42:59.410368Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '548'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:42:59 GMT
      etag:
      - '"01009920-0000-1100-0000-64c122e30000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.8.9.13224", "templateHash": "6106670278831411745"}}, "parameters": {"location":
      {"type": "string"}, "publisherName": {"type": "string", "metadata": {"description":
      "Name of an existing publisher, expected to be in the resource group where you
      deploy the template"}}, "acrArtifactStoreName": {"type": "string", "metadata":
      {"description": "Name of an existing ACR-backed Artifact Store, deployed under
      the publisher."}}, "acrManifestName": {"type": "string", "metadata": {"description":
      "Name of the manifest to deploy for the ACR-backed Artifact Store"}}, "armTemplateName":
      {"type": "string", "metadata": {"description": "The name under which to store
      the ARM template"}}, "armTemplateVersion": {"type": "string", "metadata": {"description":
      "The version that you want to name the NFM template artifact, in format A.B.C.
      e.g. 6.13.0. If testing for development, you can use any numbers you like."}}},
      "resources": [{"type": "Microsoft.Hybridnetwork/publishers/artifactStores/artifactManifests",
      "apiVersion": "2023-04-01-preview", "name": "[format(''{0}/{1}/{2}'', parameters(''publisherName''),
      parameters(''acrArtifactStoreName''), parameters(''acrManifestName''))]", "location":
      "[parameters(''location'')]", "properties": {"artifacts": [{"artifactName":
      "[parameters(''armTemplateName'')]", "artifactType": "ArmTemplate", "artifactVersion":
      "[parameters(''armTemplateVersion'')]"}]}}]}, "parameters": {"location": {"value":
      "uksouth"}, "publisherName": {"value": "ubuntuPublisher"}, "acrArtifactStoreName":
      {"value": "ubuntu-acr"}, "acrManifestName": {"value": "ubuntu-nf-nsd-acr-manifest-1-0-0"},
      "armTemplateName": {"value": "ubuntu-vm-nfdg-nfd-artifact"}, "armTemplateVersion":
      {"value": "1.0.0"}}, "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      Content-Length:
      - '1927'
      Content-Type:
      - application/json
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment/validate?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1690378985","name":"AOSM_CLI_deployment_1690378985","type":"Microsoft.Resources/deployments","properties":{"templateHash":"6106670278831411745","parameters":{"location":{"type":"String","value":"uksouth"},"publisherName":{"type":"String","value":"ubuntuPublisher"},"acrArtifactStoreName":{"type":"String","value":"ubuntu-acr"},"acrManifestName":{"type":"String","value":"ubuntu-nf-nsd-acr-manifest-1-0-0"},"armTemplateName":{"type":"String","value":"ubuntu-vm-nfdg-nfd-artifact"},"armTemplateVersion":{"type":"String","value":"1.0.0"}},"mode":"Incremental","provisioningState":"Succeeded","timestamp":"0001-01-01T00:00:00Z","duration":"PT0S","correlationId":"f60691ee-e24a-4cbc-a883-c4d593ad423b","providers":[{"namespace":"Microsoft.Hybridnetwork","resourceTypes":[{"resourceType":"publishers/artifactStores/artifactManifests","locations":["uksouth"]}]}],"dependencies":[],"validatedResources":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-nf-nsd-acr-manifest-1-0-0"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1282'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:43:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.8.9.13224", "templateHash": "6106670278831411745"}}, "parameters": {"location":
      {"type": "string"}, "publisherName": {"type": "string", "metadata": {"description":
      "Name of an existing publisher, expected to be in the resource group where you
      deploy the template"}}, "acrArtifactStoreName": {"type": "string", "metadata":
      {"description": "Name of an existing ACR-backed Artifact Store, deployed under
      the publisher."}}, "acrManifestName": {"type": "string", "metadata": {"description":
      "Name of the manifest to deploy for the ACR-backed Artifact Store"}}, "armTemplateName":
      {"type": "string", "metadata": {"description": "The name under which to store
      the ARM template"}}, "armTemplateVersion": {"type": "string", "metadata": {"description":
      "The version that you want to name the NFM template artifact, in format A.B.C.
      e.g. 6.13.0. If testing for development, you can use any numbers you like."}}},
      "resources": [{"type": "Microsoft.Hybridnetwork/publishers/artifactStores/artifactManifests",
      "apiVersion": "2023-04-01-preview", "name": "[format(''{0}/{1}/{2}'', parameters(''publisherName''),
      parameters(''acrArtifactStoreName''), parameters(''acrManifestName''))]", "location":
      "[parameters(''location'')]", "properties": {"artifacts": [{"artifactName":
      "[parameters(''armTemplateName'')]", "artifactType": "ArmTemplate", "artifactVersion":
      "[parameters(''armTemplateVersion'')]"}]}}]}, "parameters": {"location": {"value":
      "uksouth"}, "publisherName": {"value": "ubuntuPublisher"}, "acrArtifactStoreName":
      {"value": "ubuntu-acr"}, "acrManifestName": {"value": "ubuntu-nf-nsd-acr-manifest-1-0-0"},
      "armTemplateName": {"value": "ubuntu-vm-nfdg-nfd-artifact"}, "armTemplateVersion":
      {"value": "1.0.0"}}, "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      Content-Length:
      - '1927'
      Content-Type:
      - application/json
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1690378985","name":"AOSM_CLI_deployment_1690378985","type":"Microsoft.Resources/deployments","properties":{"templateHash":"6106670278831411745","parameters":{"location":{"type":"String","value":"uksouth"},"publisherName":{"type":"String","value":"ubuntuPublisher"},"acrArtifactStoreName":{"type":"String","value":"ubuntu-acr"},"acrManifestName":{"type":"String","value":"ubuntu-nf-nsd-acr-manifest-1-0-0"},"armTemplateName":{"type":"String","value":"ubuntu-vm-nfdg-nfd-artifact"},"armTemplateVersion":{"type":"String","value":"1.0.0"}},"mode":"Incremental","provisioningState":"Accepted","timestamp":"2023-07-26T13:43:08.4539954Z","duration":"PT0.0006676S","correlationId":"a84edfe4-d8b7-4c90-92aa-02ca81149717","providers":[{"namespace":"Microsoft.Hybridnetwork","resourceTypes":[{"resourceType":"publishers/artifactStores/artifactManifests","locations":["uksouth"]}]}],"dependencies":[]}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1690378985/operationStatuses/08585112278979827087?api-version=2022-09-01
      cache-control:
      - no-cache
      content-length:
      - '1043'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:43:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08585112278979827087?api-version=2022-09-01
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:43:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/3a55f1d1-5877-4483-abfa-ef6f900f02d8*0A2C88351F91E19B08EFFAF13C02A492976D31AA01E04643FC90923CE153B778?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/3a55f1d1-5877-4483-abfa-ef6f900f02d8*0A2C88351F91E19B08EFFAF13C02A492976D31AA01E04643FC90923CE153B778","name":"3a55f1d1-5877-4483-abfa-ef6f900f02d8*0A2C88351F91E19B08EFFAF13C02A492976D31AA01E04643FC90923CE153B778","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/networkServiceDesignGroups/ubuntu","status":"Succeeded","startTime":"2023-07-26T13:42:59.410368Z","endTime":"2023-07-26T13:43:00.838134Z","properties":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '607'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:43:31 GMT
      etag:
      - '"01009b20-0000-1100-0000-64c122e40000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/networkServiceDesignGroups/ubuntu?api-version=2023-04-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/networkServiceDesignGroups/ubuntu","name":"ubuntu","type":"microsoft.hybridnetwork/publishers/networkservicedesigngroups","location":"uksouth","systemData":{"createdBy":"patrykkulik@microsoft.com","createdByType":"User","createdAt":"2023-07-24T13:23:29.0796168Z","lastModifiedBy":"patrykkulik@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-07-26T13:42:58.6170624Z"},"properties":{"description":null,"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '603'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:43:31 GMT
      etag:
      - '"05001b05-0000-1100-0000-64c122e50000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-providerhub-traffic:
      - 'True'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08585112278979827087?api-version=2022-09-01
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:43:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1690378985","name":"AOSM_CLI_deployment_1690378985","type":"Microsoft.Resources/deployments","properties":{"templateHash":"6106670278831411745","parameters":{"location":{"type":"String","value":"uksouth"},"publisherName":{"type":"String","value":"ubuntuPublisher"},"acrArtifactStoreName":{"type":"String","value":"ubuntu-acr"},"acrManifestName":{"type":"String","value":"ubuntu-nf-nsd-acr-manifest-1-0-0"},"armTemplateName":{"type":"String","value":"ubuntu-vm-nfdg-nfd-artifact"},"armTemplateVersion":{"type":"String","value":"1.0.0"}},"mode":"Incremental","provisioningState":"Succeeded","timestamp":"2023-07-26T13:43:29.9461841Z","duration":"PT21.4928563S","correlationId":"a84edfe4-d8b7-4c90-92aa-02ca81149717","providers":[{"namespace":"Microsoft.Hybridnetwork","resourceTypes":[{"resourceType":"publishers/artifactStores/artifactManifests","locations":["uksouth"]}]}],"dependencies":[],"outputResources":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-nf-nsd-acr-manifest-1-0-0"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1296'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:43:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.8.9.13224", "templateHash": "5366007890796286067"}}, "parameters": {"location":
      {"type": "string"}, "publisherName": {"type": "string", "metadata": {"description":
      "Name of an existing publisher, expected to be in the resource group where you
      deploy the template"}}, "acrArtifactStoreName": {"type": "string", "metadata":
      {"description": "Name of an existing ACR-backed Artifact Store, deployed under
      the publisher."}}, "nsDesignGroup": {"type": "string", "metadata": {"description":
      "Name of an existing Network Service Design Group"}}, "nsDesignVersion": {"type":
      "string", "metadata": {"description": "The version of the NSDV you want to create,
      in format A-B-C"}}, "nfviSiteName": {"type": "string", "defaultValue": "ubuntu_NFVI",
      "metadata": {"description": "Name of the nfvi site"}}, "armTemplateVersion":
      {"type": "string", "defaultValue": "1.0.0", "metadata": {"description": "The
      version that you want to name the NF template artifact, in format A-B-C. e.g.
      6-13-0. Suggestion that this matches as best possible the SIMPL released version.
      If testing for development, you can use any numbers you like."}}}, "variables":
      {"$fxv#0": {"$schema": "https://json-schema.org/draft-07/schema#", "title":
      "ubuntu_ConfigGroupSchema", "type": "object", "properties": {"ubuntu-vm-nfdg":
      {"type": "object", "properties": {"deploymentParameters": {"type": "object",
      "properties": {"location": {"type": "string"}, "subnetName": {"type": "string"},
      "ubuntuVmName": {"type": "string"}, "virtualNetworkId": {"type": "string"},
      "sshPublicKeyAdmin": {"type": "string"}}}, "ubuntu_vm_nfdg_nfd_version": {"type":
      "string", "description": "The version of the ubuntu-vm-nfdg NFD to use.  This
      version must be compatible with (have the same parameters exposed as) 1.0.0."}},
      "required": ["deploymentParameters", "ubuntu_vm_nfdg_nfd_version"]}, "managedIdentity":
      {"type": "string", "description": "The managed identity to use to deploy NFs
      within this SNS.  This should be of the form ''/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}.  If
      you wish to use a system assigned identity, set this to a blank string."}},
      "required": ["ubuntu-vm-nfdg", "managedIdentity"]}, "$fxv#1": {"deploymentParameters":
      "[[{configurationparameters(''ubuntu_ConfigGroupSchema'').ubuntu-vm-nfdg.deploymentParameters}]",
      "ubuntu_vm_nfdg_nfd_version": "{configurationparameters(''ubuntu_ConfigGroupSchema'').ubuntu-vm-nfdg.ubuntu_vm_nfdg_nfd_version}",
      "managedIdentity": "{configurationparameters(''ubuntu_ConfigGroupSchema'').managedIdentity}"},
      "armTemplateName": "ubuntu-vm-nfdg-nfd-artifact"}, "resources": [{"type": "Microsoft.Hybridnetwork/publishers/configurationGroupSchemas",
      "apiVersion": "2023-04-01-preview", "name": "[format(''{0}/{1}'', parameters(''publisherName''),
      ''ubuntu_ConfigGroupSchema'')]", "location": "[parameters(''location'')]", "properties":
      {"schemaDefinition": "[string(variables(''$fxv#0''))]"}}, {"type": "Microsoft.Hybridnetwork/publishers/networkservicedesigngroups/networkservicedesignversions",
      "apiVersion": "2023-04-01-preview", "name": "[format(''{0}/{1}/{2}'', parameters(''publisherName''),
      parameters(''nsDesignGroup''), parameters(''nsDesignVersion''))]", "location":
      "[parameters(''location'')]", "properties": {"description": "Plain ubuntu VM",
      "versionState": "Preview", "configurationGroupSchemaReferences": {"ubuntu_ConfigGroupSchema":
      {"id": "[resourceId(''Microsoft.Hybridnetwork/publishers/configurationGroupSchemas'',
      parameters(''publisherName''), ''ubuntu_ConfigGroupSchema'')]"}}, "nfvisFromSite":
      {"nfvi1": {"name": "[parameters(''nfviSiteName'')]", "type": "AzureCore"}},
      "resourceElementTemplates": [{"name": "ubuntu-resource-element", "type": "NetworkFunctionDefinition",
      "configuration": {"artifactProfile": {"artifactStoreReference": {"id": "[resourceId(''Microsoft.HybridNetwork/publishers/artifactStores'',
      parameters(''publisherName''), parameters(''acrArtifactStoreName''))]"}, "artifactName":
      "[variables(''armTemplateName'')]", "artifactVersion": "[parameters(''armTemplateVersion'')]"},
      "templateType": "ArmTemplate", "parameterValues": "[string(variables(''$fxv#1''))]"},
      "dependsOnProfile": {"installDependsOn": [], "uninstallDependsOn": [], "updateDependsOn":
      []}}]}, "dependsOn": ["[resourceId(''Microsoft.Hybridnetwork/publishers/configurationGroupSchemas'',
      parameters(''publisherName''), ''ubuntu_ConfigGroupSchema'')]"]}]}, "parameters":
      {"location": {"value": "uksouth"}, "publisherName": {"value": "ubuntuPublisher"},
      "acrArtifactStoreName": {"value": "ubuntu-acr"}, "nsDesignGroup": {"value":
      "ubuntu"}, "nsDesignVersion": {"value": "1.0.0"}, "nfviSiteName": {"value":
      "ubuntu_NFVI"}, "armTemplateVersion": {"value": "1.0.0"}}, "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      Content-Length:
      - '4946'
      Content-Type:
      - application/json
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment/validate?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1690379023","name":"AOSM_CLI_deployment_1690379023","type":"Microsoft.Resources/deployments","properties":{"templateHash":"5366007890796286067","parameters":{"location":{"type":"String","value":"uksouth"},"publisherName":{"type":"String","value":"ubuntuPublisher"},"acrArtifactStoreName":{"type":"String","value":"ubuntu-acr"},"nsDesignGroup":{"type":"String","value":"ubuntu"},"nsDesignVersion":{"type":"String","value":"1.0.0"},"nfviSiteName":{"type":"String","value":"ubuntu_NFVI"},"armTemplateVersion":{"type":"String","value":"1.0.0"}},"mode":"Incremental","provisioningState":"Succeeded","timestamp":"0001-01-01T00:00:00Z","duration":"PT0S","correlationId":"cb832760-e51d-4aa9-9806-81edb0e7c6c6","providers":[{"namespace":"Microsoft.Hybridnetwork","resourceTypes":[{"resourceType":"publishers/configurationGroupSchemas","locations":["uksouth"]},{"resourceType":"publishers/networkservicedesigngroups/networkservicedesignversions","locations":["uksouth"]}]}],"dependencies":[{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/configurationGroupSchemas/ubuntu_ConfigGroupSchema","resourceType":"Microsoft.Hybridnetwork/publishers/configurationGroupSchemas","resourceName":"ubuntuPublisher/ubuntu_ConfigGroupSchema"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/networkservicedesigngroups/ubuntu/networkservicedesignversions/1.0.0","resourceType":"Microsoft.Hybridnetwork/publishers/networkservicedesigngroups/networkservicedesignversions","resourceName":"ubuntuPublisher/ubuntu/1.0.0"}],"validatedResources":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/configurationGroupSchemas/ubuntu_ConfigGroupSchema"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/networkservicedesigngroups/ubuntu/networkservicedesignversions/1.0.0"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2318'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:43:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.8.9.13224", "templateHash": "5366007890796286067"}}, "parameters": {"location":
      {"type": "string"}, "publisherName": {"type": "string", "metadata": {"description":
      "Name of an existing publisher, expected to be in the resource group where you
      deploy the template"}}, "acrArtifactStoreName": {"type": "string", "metadata":
      {"description": "Name of an existing ACR-backed Artifact Store, deployed under
      the publisher."}}, "nsDesignGroup": {"type": "string", "metadata": {"description":
      "Name of an existing Network Service Design Group"}}, "nsDesignVersion": {"type":
      "string", "metadata": {"description": "The version of the NSDV you want to create,
      in format A-B-C"}}, "nfviSiteName": {"type": "string", "defaultValue": "ubuntu_NFVI",
      "metadata": {"description": "Name of the nfvi site"}}, "armTemplateVersion":
      {"type": "string", "defaultValue": "1.0.0", "metadata": {"description": "The
      version that you want to name the NF template artifact, in format A-B-C. e.g.
      6-13-0. Suggestion that this matches as best possible the SIMPL released version.
      If testing for development, you can use any numbers you like."}}}, "variables":
      {"$fxv#0": {"$schema": "https://json-schema.org/draft-07/schema#", "title":
      "ubuntu_ConfigGroupSchema", "type": "object", "properties": {"ubuntu-vm-nfdg":
      {"type": "object", "properties": {"deploymentParameters": {"type": "object",
      "properties": {"location": {"type": "string"}, "subnetName": {"type": "string"},
      "ubuntuVmName": {"type": "string"}, "virtualNetworkId": {"type": "string"},
      "sshPublicKeyAdmin": {"type": "string"}}}, "ubuntu_vm_nfdg_nfd_version": {"type":
      "string", "description": "The version of the ubuntu-vm-nfdg NFD to use.  This
      version must be compatible with (have the same parameters exposed as) 1.0.0."}},
      "required": ["deploymentParameters", "ubuntu_vm_nfdg_nfd_version"]}, "managedIdentity":
      {"type": "string", "description": "The managed identity to use to deploy NFs
      within this SNS.  This should be of the form ''/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}.  If
      you wish to use a system assigned identity, set this to a blank string."}},
      "required": ["ubuntu-vm-nfdg", "managedIdentity"]}, "$fxv#1": {"deploymentParameters":
      "[[{configurationparameters(''ubuntu_ConfigGroupSchema'').ubuntu-vm-nfdg.deploymentParameters}]",
      "ubuntu_vm_nfdg_nfd_version": "{configurationparameters(''ubuntu_ConfigGroupSchema'').ubuntu-vm-nfdg.ubuntu_vm_nfdg_nfd_version}",
      "managedIdentity": "{configurationparameters(''ubuntu_ConfigGroupSchema'').managedIdentity}"},
      "armTemplateName": "ubuntu-vm-nfdg-nfd-artifact"}, "resources": [{"type": "Microsoft.Hybridnetwork/publishers/configurationGroupSchemas",
      "apiVersion": "2023-04-01-preview", "name": "[format(''{0}/{1}'', parameters(''publisherName''),
      ''ubuntu_ConfigGroupSchema'')]", "location": "[parameters(''location'')]", "properties":
      {"schemaDefinition": "[string(variables(''$fxv#0''))]"}}, {"type": "Microsoft.Hybridnetwork/publishers/networkservicedesigngroups/networkservicedesignversions",
      "apiVersion": "2023-04-01-preview", "name": "[format(''{0}/{1}/{2}'', parameters(''publisherName''),
      parameters(''nsDesignGroup''), parameters(''nsDesignVersion''))]", "location":
      "[parameters(''location'')]", "properties": {"description": "Plain ubuntu VM",
      "versionState": "Preview", "configurationGroupSchemaReferences": {"ubuntu_ConfigGroupSchema":
      {"id": "[resourceId(''Microsoft.Hybridnetwork/publishers/configurationGroupSchemas'',
      parameters(''publisherName''), ''ubuntu_ConfigGroupSchema'')]"}}, "nfvisFromSite":
      {"nfvi1": {"name": "[parameters(''nfviSiteName'')]", "type": "AzureCore"}},
      "resourceElementTemplates": [{"name": "ubuntu-resource-element", "type": "NetworkFunctionDefinition",
      "configuration": {"artifactProfile": {"artifactStoreReference": {"id": "[resourceId(''Microsoft.HybridNetwork/publishers/artifactStores'',
      parameters(''publisherName''), parameters(''acrArtifactStoreName''))]"}, "artifactName":
      "[variables(''armTemplateName'')]", "artifactVersion": "[parameters(''armTemplateVersion'')]"},
      "templateType": "ArmTemplate", "parameterValues": "[string(variables(''$fxv#1''))]"},
      "dependsOnProfile": {"installDependsOn": [], "uninstallDependsOn": [], "updateDependsOn":
      []}}]}, "dependsOn": ["[resourceId(''Microsoft.Hybridnetwork/publishers/configurationGroupSchemas'',
      parameters(''publisherName''), ''ubuntu_ConfigGroupSchema'')]"]}]}, "parameters":
      {"location": {"value": "uksouth"}, "publisherName": {"value": "ubuntuPublisher"},
      "acrArtifactStoreName": {"value": "ubuntu-acr"}, "nsDesignGroup": {"value":
      "ubuntu"}, "nsDesignVersion": {"value": "1.0.0"}, "nfviSiteName": {"value":
      "ubuntu_NFVI"}, "armTemplateVersion": {"value": "1.0.0"}}, "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      Content-Length:
      - '4946'
      Content-Type:
      - application/json
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1690379023","name":"AOSM_CLI_deployment_1690379023","type":"Microsoft.Resources/deployments","properties":{"templateHash":"5366007890796286067","parameters":{"location":{"type":"String","value":"uksouth"},"publisherName":{"type":"String","value":"ubuntuPublisher"},"acrArtifactStoreName":{"type":"String","value":"ubuntu-acr"},"nsDesignGroup":{"type":"String","value":"ubuntu"},"nsDesignVersion":{"type":"String","value":"1.0.0"},"nfviSiteName":{"type":"String","value":"ubuntu_NFVI"},"armTemplateVersion":{"type":"String","value":"1.0.0"}},"mode":"Incremental","provisioningState":"Accepted","timestamp":"2023-07-26T13:43:47.0987333Z","duration":"PT0.0004251S","correlationId":"c537f6f3-9668-4475-a9ee-6c4b21a5deb5","providers":[{"namespace":"Microsoft.Hybridnetwork","resourceTypes":[{"resourceType":"publishers/configurationGroupSchemas","locations":["uksouth"]},{"resourceType":"publishers/networkservicedesigngroups/networkservicedesignversions","locations":["uksouth"]}]}],"dependencies":[{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/configurationGroupSchemas/ubuntu_ConfigGroupSchema","resourceType":"Microsoft.Hybridnetwork/publishers/configurationGroupSchemas","resourceName":"ubuntuPublisher/ubuntu_ConfigGroupSchema"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/networkservicedesigngroups/ubuntu/networkservicedesignversions/1.0.0","resourceType":"Microsoft.Hybridnetwork/publishers/networkservicedesigngroups/networkservicedesignversions","resourceName":"ubuntuPublisher/ubuntu/1.0.0"}]}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1690379023/operationStatuses/08585112278587615767?api-version=2022-09-01
      cache-control:
      - no-cache
      content-length:
      - '1882'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:43:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08585112278587615767?api-version=2022-09-01
  response:
    body:
      string: '{"status":"Accepted"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:43:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08585112278587615767?api-version=2022-09-01
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:44:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08585112278587615767?api-version=2022-09-01
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:44:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.10 (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/patrykkulik-test/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1690379023","name":"AOSM_CLI_deployment_1690379023","type":"Microsoft.Resources/deployments","properties":{"templateHash":"5366007890796286067","parameters":{"location":{"type":"String","value":"uksouth"},"publisherName":{"type":"String","value":"ubuntuPublisher"},"acrArtifactStoreName":{"type":"String","value":"ubuntu-acr"},"nsDesignGroup":{"type":"String","value":"ubuntu"},"nsDesignVersion":{"type":"String","value":"1.0.0"},"nfviSiteName":{"type":"String","value":"ubuntu_NFVI"},"armTemplateVersion":{"type":"String","value":"1.0.0"}},"mode":"Incremental","provisioningState":"Succeeded","timestamp":"2023-07-26T13:44:28.2026218Z","duration":"PT41.1043136S","correlationId":"c537f6f3-9668-4475-a9ee-6c4b21a5deb5","providers":[{"namespace":"Microsoft.Hybridnetwork","resourceTypes":[{"resourceType":"publishers/configurationGroupSchemas","locations":["uksouth"]},{"resourceType":"publishers/networkservicedesigngroups/networkservicedesignversions","locations":["uksouth"]}]}],"dependencies":[{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/configurationGroupSchemas/ubuntu_ConfigGroupSchema","resourceType":"Microsoft.Hybridnetwork/publishers/configurationGroupSchemas","resourceName":"ubuntuPublisher/ubuntu_ConfigGroupSchema"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/networkservicedesigngroups/ubuntu/networkservicedesignversions/1.0.0","resourceType":"Microsoft.Hybridnetwork/publishers/networkservicedesigngroups/networkservicedesignversions","resourceName":"ubuntuPublisher/ubuntu/1.0.0"}],"outputResources":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/configurationGroupSchemas/ubuntu_ConfigGroupSchema"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/networkservicedesigngroups/ubuntu/networkservicedesignversions/1.0.0"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2332'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:44:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-nf-nsd-acr-manifest-1-0-0?api-version=2023-04-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.Hybridnetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-nf-nsd-acr-manifest-1-0-0","name":"ubuntu-nf-nsd-acr-manifest-1-0-0","type":"microsoft.hybridnetwork/publishers/artifactstores/artifactmanifests","location":"uksouth","systemData":{"createdBy":"patrykkulik@microsoft.com","createdByType":"User","createdAt":"2023-07-26T13:43:10.6373425Z","lastModifiedBy":"patrykkulik@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-07-26T13:43:10.6373425Z"},"properties":{"artifacts":[{"artifactName":"ubuntu-vm-nfdg-nfd-artifact","artifactType":"ArmTemplate","artifactVersion":"1.0.0"}],"artifactManifestState":"Uploading","provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '811'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:44:47 GMT
      etag:
      - '"010031da-0000-1100-0000-64c122fd0000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-providerhub-traffic:
      - 'True'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -f --debug
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-nf-nsd-acr-manifest-1-0-0/listCredential?api-version=2023-04-01-preview
  response:
    body:
      string: '{"username":"ubuntu-nf-nsd-acr-manifest-1-0-0","acrToken":"DXjNIWkqhbrWo0qHzqML5VnpFDPvUdlRUWQyObizc2+ACRBNLJYR","acrServerUrl":"https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io","repositories":["ubuntu-vm-nfdg-nfd-artifact"],"expiry":"2023-07-27T13:44:48.98326+00:00","credentialType":"AzureContainerRegistryScopedToken"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '327'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:44:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-build-version:
      - 1.0.02386.1640
      x-ms-providerhub-traffic:
      - 'True'
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.26.0
    method: POST
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/v2/ubuntu-vm-nfdg-nfd-artifact/blobs/uploads/
  response:
    body:
      string: '{"errors":[{"code":"UNAUTHORIZED","message":"authentication required,
        visit https://aka.ms/acr/authorization for more information.","detail":[{"Type":"repository","Name":"ubuntu-vm-nfdg-nfd-artifact","Action":"pull"},{"Type":"repository","Name":"ubuntu-vm-nfdg-nfd-artifact","Action":"push"}]}]}

        '
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '296'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:44:53 GMT
      docker-distribution-api-version:
      - registry/2.0
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      www-authenticate:
      - Bearer realm="https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/oauth2/token",service="ubuntupublisherubuntuacr2315dcfa83.azurecr.io",scope="repository:ubuntu-vm-nfdg-nfd-artifact:pull,push"
      x-content-type-options:
      - nosniff
    status:
      code: 401
      message: Unauthorized
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Service:
      - ubuntupublisherubuntuacr2315dcfa83.azurecr.io
      User-Agent:
      - oras-py
    method: GET
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/oauth2/token?service=ubuntupublisherubuntuacr2315dcfa83.azurecr.io&scope=repository%3Aubuntu-vm-nfdg-nfd-artifact%3Apull%2Cpush
  response:
    body:
      string: '{"access_token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IkNPQVU6UERZSDo0SVJYOjM2SEI6TFYzUDpWNFBGOko0NzQ6SzNOSjpPS1JCOlRZQUo6NEc0Szo1Q1NEIn0.eyJqdGkiOiJmNTFmNWFhZC1lNWJmLTQxMzUtYWIyNy01ODM2NWE4ZWQxMzMiLCJzdWIiOiJ1YnVudHUtbmYtbnNkLWFjci1tYW5pZmVzdC0xLTAtMCIsIm5iZiI6MTY5MDM3ODE5MywiZXhwIjoxNjkwMzc5OTkzLCJpYXQiOjE2OTAzNzgxOTMsImlzcyI6IkF6dXJlIENvbnRhaW5lciBSZWdpc3RyeSIsImF1ZCI6InVidW50dXB1Ymxpc2hlcnVidW50dWFjcjIzMTVkY2ZhODMuYXp1cmVjci5pbyIsInZlcnNpb24iOiIyLjAiLCJyaWQiOiI1MzY0OTExODIxMzE0ZDY3OTI2ZGE3YTNjZGMxNzRmOCIsImFjY2VzcyI6W3siVHlwZSI6InJlcG9zaXRvcnkiLCJOYW1lIjoidWJ1bnR1LXZtLW5mZGctbmZkLWFydGlmYWN0IiwiQWN0aW9ucyI6WyJwdWxsIiwicHVzaCJdfV0sInJvbGVzIjpbXSwiZ3JhbnRfdHlwZSI6ImFjY2Vzc190b2tlbiJ9.f-6ct5FdjqSbHu60kVj2eOYwB1L81Yv0uVoCIZaELx12YGISRbIDa9tKy4t2_Xo1IFnwDaQtZnNJ49r3Je0Nrm8gx-9umkCUoA79v4_mEe57098Tu0DhazqAwgSH93n28OwvlDJVOXwxliBjHpLA47BvSGOaYT0C_me2j-2v5M6jw7Xduer71y4AAgVZ4XgJjJK9XZ_WuO0jYw0U7zlbxpACLR2FtRcKKB2uGwpSsvkmWBY3oadfjZf_Ut3amI1AL5XeQ478zaPqyrqRAsLQJP35Xm66J2hU5XSysq7KpVq6iYfzQPIuoqJ_7DayJp-mSiauP075KbactrUPV8lrCw"}'
    headers:
      connection:
      - keep-alive
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:44:53 GMT
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-ms-ratelimit-remaining-calls-per-second:
      - '333.316667'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.26.0
    method: POST
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/v2/ubuntu-vm-nfdg-nfd-artifact/blobs/uploads/
  response:
    body:
      string: ''
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Wed, 26 Jul 2023 13:44:53 GMT
      docker-distribution-api-version:
      - registry/2.0
      docker-upload-uuid:
      - 1d1c84ae-6eb6-42cf-92ca-ac315c1d1f0e
      location:
      - /v2/ubuntu-vm-nfdg-nfd-artifact/blobs/uploads/1d1c84ae-6eb6-42cf-92ca-ac315c1d1f0e?_nouploadcache=false&_state=AY-45rXcDwt4GOR8MpkUylQseW81p_yDQO_9ZiJ7yKF7Ik5hbWUiOiJ1YnVudHUtdm0tbmZkZy1uZmQtYXJ0aWZhY3QiLCJVVUlEIjoiMWQxYzg0YWUtNmViNi00MmNmLTkyY2EtYWMzMTVjMWQxZjBlIiwiT2Zmc2V0IjowLCJTdGFydGVkQXQiOiIyMDIzLTA3LTI2VDEzOjQ0OjUzLjgzNzU3NDEwOVoifQ%3D%3D
      range:
      - 0-0
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: "{\n    \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\n
      \   \"contentVersion\": \"1.0.0.0\",\n    \"metadata\": {\n        \"_generator\":
      {\n            \"name\": \"bicep\",\n            \"version\": \"0.8.9.13224\",\n
      \           \"templateHash\": \"711670018733537283\"\n        }\n    },\n    \"parameters\":
      {\n        \"publisherName\": {\n            \"type\": \"string\",\n            \"defaultValue\":
      \"ubuntuPublisher\",\n            \"metadata\": {\n                \"description\":
      \"Publisher where the NFD is published\"\n            }\n        },\n        \"networkFunctionDefinitionGroupName\":
      {\n            \"type\": \"string\",\n            \"defaultValue\": \"ubuntu-vm-nfdg\",\n
      \           \"metadata\": {\n                \"description\": \"NFD Group name
      for the Network Function\"\n            }\n        },\n        \"ubuntu_vm_nfdg_nfd_version\":
      {\n            \"type\": \"string\",\n            \"metadata\": {\n                \"description\":
      \"NFD version\"\n            }\n        },\n        \"networkFunctionDefinitionOfferingLocation\":
      {\n            \"type\": \"string\",\n            \"defaultValue\": \"uksouth\",\n
      \           \"metadata\": {\n                \"description\": \"Offering location
      for the Network Function\"\n            }\n        },\n        \"managedIdentity\":
      {\n            \"type\": \"string\",\n            \"metadata\": {\n                \"description\":
      \"The managed identity that should be used to create the NF.\"\n            }\n
      \       },\n        \"location\": {\n            \"type\": \"string\",\n            \"defaultValue\":
      \"uksouth\"\n        },\n        \"nfviType\": {\n            \"type\": \"string\",\n
      \           \"defaultValue\": \"AzureCore\"\n        },\n        \"resourceGroupId\":
      {\n            \"type\": \"string\",\n            \"defaultValue\": \"[resourceGroup().id]\"\n
      \       },\n        \"deploymentParameters\": {\n            \"type\": \"array\"\n
      \       }\n    },\n    \"variables\": {\n        \"identityObject\": \"[if(equals(parameters('managedIdentity'),
      ''), createObject('type', 'SystemAssigned'), createObject('type', 'UserAssigned',
      'userAssignedIdentities', createObject(format('{0}', parameters('managedIdentity')),
      createObject())))]\"\n    },\n    \"resources\": [\n        {\n            \"copy\":
      {\n                \"name\": \"nf_resource\",\n                \"count\": \"[length(parameters('deploymentParameters'))]\"\n
      \           },\n            \"type\": \"Microsoft.HybridNetwork/networkFunctions\",\n
      \           \"apiVersion\": \"2023-04-01-preview\",\n            \"name\": \"[format('ubuntu_NF{0}',
      copyIndex())]\",\n            \"location\": \"[parameters('location')]\",\n
      \           \"identity\": \"[variables('identityObject')]\",\n            \"properties\":
      {\n                \"publisherName\": \"[parameters('publisherName')]\",\n                \"publisherScope\":
      \"Private\",\n                \"networkFunctionDefinitionGroupName\": \"[parameters('networkFunctionDefinitionGroupName')]\",\n
      \               \"networkFunctionDefinitionVersion\": \"[parameters('ubuntu_vm_nfdg_nfd_version')]\",\n
      \               \"networkFunctionDefinitionOfferingLocation\": \"[parameters('networkFunctionDefinitionOfferingLocation')]\",\n
      \               \"nfviType\": \"[parameters('nfviType')]\",\n                \"nfviId\":
      \"[parameters('resourceGroupId')]\",\n                \"allowSoftwareUpdate\":
      true,\n                \"deploymentValues\": \"[string(parameters('deploymentParameters')[copyIndex()])]\"\n
      \           }\n        }\n    ]\n}"
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '3321'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.26.0
    method: PUT
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/v2/ubuntu-vm-nfdg-nfd-artifact/blobs/uploads/1d1c84ae-6eb6-42cf-92ca-ac315c1d1f0e?_nouploadcache=false&_state=AY-45rXcDwt4GOR8MpkUylQseW81p_yDQO_9ZiJ7yKF7Ik5hbWUiOiJ1YnVudHUtdm0tbmZkZy1uZmQtYXJ0aWZhY3QiLCJVVUlEIjoiMWQxYzg0YWUtNmViNi00MmNmLTkyY2EtYWMzMTVjMWQxZjBlIiwiT2Zmc2V0IjowLCJTdGFydGVkQXQiOiIyMDIzLTA3LTI2VDEzOjQ0OjUzLjgzNzU3NDEwOVoifQ%3D%3D&digest=sha256%3A730d733b8d58f3c59acb7fa0e0195eca7e404af75de22d6c4d62ecd16d95d9f2
  response:
    body:
      string: ''
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Wed, 26 Jul 2023 13:44:54 GMT
      docker-content-digest:
      - sha256:730d733b8d58f3c59acb7fa0e0195eca7e404af75de22d6c4d62ecd16d95d9f2
      docker-distribution-api-version:
      - registry/2.0
      location:
      - /v2/ubuntu-vm-nfdg-nfd-artifact/blobs/sha256:730d733b8d58f3c59acb7fa0e0195eca7e404af75de22d6c4d62ecd16d95d9f2
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.26.0
    method: POST
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/v2/ubuntu-vm-nfdg-nfd-artifact/blobs/uploads/
  response:
    body:
      string: '{"errors":[{"code":"UNAUTHORIZED","message":"authentication required,
        visit https://aka.ms/acr/authorization for more information.","detail":[{"Type":"repository","Name":"ubuntu-vm-nfdg-nfd-artifact","Action":"pull"},{"Type":"repository","Name":"ubuntu-vm-nfdg-nfd-artifact","Action":"push"}]}]}

        '
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '296'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:44:54 GMT
      docker-distribution-api-version:
      - registry/2.0
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      www-authenticate:
      - Bearer realm="https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/oauth2/token",service="ubuntupublisherubuntuacr2315dcfa83.azurecr.io",scope="repository:ubuntu-vm-nfdg-nfd-artifact:pull,push"
      x-content-type-options:
      - nosniff
    status:
      code: 401
      message: Unauthorized
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Service:
      - ubuntupublisherubuntuacr2315dcfa83.azurecr.io
      User-Agent:
      - oras-py
    method: GET
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/oauth2/token?service=ubuntupublisherubuntuacr2315dcfa83.azurecr.io&scope=repository%3Aubuntu-vm-nfdg-nfd-artifact%3Apull%2Cpush
  response:
    body:
      string: '{"access_token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IkNPQVU6UERZSDo0SVJYOjM2SEI6TFYzUDpWNFBGOko0NzQ6SzNOSjpPS1JCOlRZQUo6NEc0Szo1Q1NEIn0.eyJqdGkiOiI3ZTk0MTNkYy1mMTFlLTRkOTMtOTM0Ny05NDJkOWQ1MDU4NWEiLCJzdWIiOiJ1YnVudHUtbmYtbnNkLWFjci1tYW5pZmVzdC0xLTAtMCIsIm5iZiI6MTY5MDM3ODE5NCwiZXhwIjoxNjkwMzc5OTk0LCJpYXQiOjE2OTAzNzgxOTQsImlzcyI6IkF6dXJlIENvbnRhaW5lciBSZWdpc3RyeSIsImF1ZCI6InVidW50dXB1Ymxpc2hlcnVidW50dWFjcjIzMTVkY2ZhODMuYXp1cmVjci5pbyIsInZlcnNpb24iOiIyLjAiLCJyaWQiOiI1MzY0OTExODIxMzE0ZDY3OTI2ZGE3YTNjZGMxNzRmOCIsImFjY2VzcyI6W3siVHlwZSI6InJlcG9zaXRvcnkiLCJOYW1lIjoidWJ1bnR1LXZtLW5mZGctbmZkLWFydGlmYWN0IiwiQWN0aW9ucyI6WyJwdWxsIiwicHVzaCJdfV0sInJvbGVzIjpbXSwiZ3JhbnRfdHlwZSI6ImFjY2Vzc190b2tlbiJ9.Pr7HHAn6OoeD5cubZC12BEpUxFWZ3zlZv7V82O2n38mWkiaeP979NedrM9RqXuZPEa04sWMItETK70nazA1EKly1pu8yTL1C_G2ZaEAKIGiihyQZnhMFLw98A7ouarE1DD-gUZcRXPMp4NUzuFExp1Od8jf-MkOcya7OJVgmV_acTrYcWjrFOWYjgFsEopViivwps7zYYTo3gsL4gv11FI3fU2WsWHQ7NZDZJrvs_ULhaaknmpFgO4xgWhceN4XcYqP8S8fs2fSWaIoHhA63H3oTDSFCkBxjDgvjsCUFtZQhGFUTpKe6OzxOPL_Fgh_MUhUlynqslQZQbrIuOdwBKw"}'
    headers:
      connection:
      - keep-alive
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:44:54 GMT
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-ms-ratelimit-remaining-calls-per-second:
      - '333.3'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.26.0
    method: POST
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/v2/ubuntu-vm-nfdg-nfd-artifact/blobs/uploads/
  response:
    body:
      string: ''
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Wed, 26 Jul 2023 13:44:54 GMT
      docker-distribution-api-version:
      - registry/2.0
      docker-upload-uuid:
      - 006cb224-a270-4a9e-b88f-9d754846feb4
      location:
      - /v2/ubuntu-vm-nfdg-nfd-artifact/blobs/uploads/006cb224-a270-4a9e-b88f-9d754846feb4?_nouploadcache=false&_state=9SltznBEOSjQ234hgy5IlEZ1HIW-nv9btgBk1Rj-7Od7Ik5hbWUiOiJ1YnVudHUtdm0tbmZkZy1uZmQtYXJ0aWZhY3QiLCJVVUlEIjoiMDA2Y2IyMjQtYTI3MC00YTllLWI4OGYtOWQ3NTQ4NDZmZWI0IiwiT2Zmc2V0IjowLCJTdGFydGVkQXQiOiIyMDIzLTA3LTI2VDEzOjQ0OjU0LjExNTYyMzczNloifQ%3D%3D
      range:
      - 0-0
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.26.0
    method: PUT
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/v2/ubuntu-vm-nfdg-nfd-artifact/blobs/uploads/006cb224-a270-4a9e-b88f-9d754846feb4?_nouploadcache=false&_state=9SltznBEOSjQ234hgy5IlEZ1HIW-nv9btgBk1Rj-7Od7Ik5hbWUiOiJ1YnVudHUtdm0tbmZkZy1uZmQtYXJ0aWZhY3QiLCJVVUlEIjoiMDA2Y2IyMjQtYTI3MC00YTllLWI4OGYtOWQ3NTQ4NDZmZWI0IiwiT2Zmc2V0IjowLCJTdGFydGVkQXQiOiIyMDIzLTA3LTI2VDEzOjQ0OjU0LjExNTYyMzczNloifQ%3D%3D&digest=sha256%3Ae3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
  response:
    body:
      string: ''
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Wed, 26 Jul 2023 13:44:54 GMT
      docker-content-digest:
      - sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      docker-distribution-api-version:
      - registry/2.0
      location:
      - /v2/ubuntu-vm-nfdg-nfd-artifact/blobs/sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 201
      message: Created
- request:
    body: '{"schemaVersion": 2, "mediaType": "application/vnd.oci.image.manifest.v1+json",
      "config": {"mediaType": "application/vnd.unknown.config.v1+json", "size": 0,
      "digest": "sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"},
      "layers": [{"mediaType": "application/vnd.oci.image.layer.v1.tar", "size": 3321,
      "digest": "sha256:730d733b8d58f3c59acb7fa0e0195eca7e404af75de22d6c4d62ecd16d95d9f2",
      "annotations": {"org.opencontainers.image.title": "nf_definition.json"}}], "annotations":
      {}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '502'
      Content-Type:
      - application/vnd.oci.image.manifest.v1+json
      User-Agent:
      - python-requests/2.26.0
    method: PUT
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/v2/ubuntu-vm-nfdg-nfd-artifact/manifests/1.0.0
  response:
    body:
      string: '{"errors":[{"code":"UNAUTHORIZED","message":"authentication required,
        visit https://aka.ms/acr/authorization for more information.","detail":[{"Type":"repository","Name":"ubuntu-vm-nfdg-nfd-artifact","Action":"pull"},{"Type":"repository","Name":"ubuntu-vm-nfdg-nfd-artifact","Action":"push"}]}]}

        '
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '296'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:44:54 GMT
      docker-distribution-api-version:
      - registry/2.0
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      www-authenticate:
      - Bearer realm="https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/oauth2/token",service="ubuntupublisherubuntuacr2315dcfa83.azurecr.io",scope="repository:ubuntu-vm-nfdg-nfd-artifact:push,pull"
      x-content-type-options:
      - nosniff
    status:
      code: 401
      message: Unauthorized
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Service:
      - ubuntupublisherubuntuacr2315dcfa83.azurecr.io
      User-Agent:
      - oras-py
    method: GET
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/oauth2/token?service=ubuntupublisherubuntuacr2315dcfa83.azurecr.io&scope=repository%3Aubuntu-vm-nfdg-nfd-artifact%3Apush%2Cpull
  response:
    body:
      string: '{"access_token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IkNPQVU6UERZSDo0SVJYOjM2SEI6TFYzUDpWNFBGOko0NzQ6SzNOSjpPS1JCOlRZQUo6NEc0Szo1Q1NEIn0.eyJqdGkiOiIyMzllN2Q1ZS1jODg2LTQxOGYtODhhNC1jNTc5M2JlZjQ3ZTciLCJzdWIiOiJ1YnVudHUtbmYtbnNkLWFjci1tYW5pZmVzdC0xLTAtMCIsIm5iZiI6MTY5MDM3ODE5NCwiZXhwIjoxNjkwMzc5OTk0LCJpYXQiOjE2OTAzNzgxOTQsImlzcyI6IkF6dXJlIENvbnRhaW5lciBSZWdpc3RyeSIsImF1ZCI6InVidW50dXB1Ymxpc2hlcnVidW50dWFjcjIzMTVkY2ZhODMuYXp1cmVjci5pbyIsInZlcnNpb24iOiIyLjAiLCJyaWQiOiI1MzY0OTExODIxMzE0ZDY3OTI2ZGE3YTNjZGMxNzRmOCIsImFjY2VzcyI6W3siVHlwZSI6InJlcG9zaXRvcnkiLCJOYW1lIjoidWJ1bnR1LXZtLW5mZGctbmZkLWFydGlmYWN0IiwiQWN0aW9ucyI6WyJwdXNoIiwicHVsbCJdfV0sInJvbGVzIjpbXSwiZ3JhbnRfdHlwZSI6ImFjY2Vzc190b2tlbiJ9.jyNup_Z8NybheBzUNkyOkzqwN3VAewsPtwjgFcgo4KnpCl3pcAjaBlnKloPgKmfgmTbNSxam9DruQXewae9tYDq4V6qQOyTngu5DtJPeqeBOs_rioO6mPPPE_rh2R2RC_smxIDRV6RLgyj2Gp0sexSvD0OR4-IkVkesmZ_ujjxK9hwchV_BU_SaydxArhln1U29DMkuujns4_5jWJfUvnuINCHDOUg6G9tbdm4vowHezvRbiXhXHSbdWMWJIaPBliS0-gV41LcvhOkBHH5zOMhjTm5t2czZbsnDZ459nsYp0oTSCzw0wDEzQ-OU0w6vPw6B7vffDmZ1ctHZUgo_RKg"}'
    headers:
      connection:
      - keep-alive
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:44:54 GMT
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-ms-ratelimit-remaining-calls-per-second:
      - '333.283333'
    status:
      code: 200
      message: OK
- request:
    body: '{"schemaVersion": 2, "mediaType": "application/vnd.oci.image.manifest.v1+json",
      "config": {"mediaType": "application/vnd.unknown.config.v1+json", "size": 0,
      "digest": "sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"},
      "layers": [{"mediaType": "application/vnd.oci.image.layer.v1.tar", "size": 3321,
      "digest": "sha256:730d733b8d58f3c59acb7fa0e0195eca7e404af75de22d6c4d62ecd16d95d9f2",
      "annotations": {"org.opencontainers.image.title": "nf_definition.json"}}], "annotations":
      {}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '502'
      Content-Type:
      - application/vnd.oci.image.manifest.v1+json
      User-Agent:
      - python-requests/2.26.0
    method: PUT
    uri: https://ubuntupublisherubuntuacr2315dcfa83.azurecr.io/v2/ubuntu-vm-nfdg-nfd-artifact/manifests/1.0.0
  response:
    body:
      string: ''
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Wed, 26 Jul 2023 13:44:54 GMT
      docker-content-digest:
      - sha256:d9933b93bccf8761b3730a85d86b8f01555c8a4b73e36a8d31de964e5ff01594
      docker-distribution-api-version:
      - registry/2.0
      location:
      - /v2/ubuntu-vm-nfdg-nfd-artifact/manifests/sha256:d9933b93bccf8761b3730a85d86b8f01555c8a4b73e36a8d31de964e5ff01594
      server:
      - openresty
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --definition-type -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/networkFunctionDefinitionGroups/ubuntu-vm-nfdg/networkFunctionDefinitionVersions/1.0.0?api-version=2023-04-01-preview
  response:
    body:
      string: 'null'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5?api-version=2020-01-01-preview
      cache-control:
      - no-cache
      content-length:
      - '4'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:44:55 GMT
      etag:
      - '"0200f8a2-0000-1100-0000-64c123570000"'
      expires:
      - '-1'
      location:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5?api-version=2020-01-01-preview
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-build-version:
      - 1.0.02386.1640
      x-ms-providerhub-traffic:
      - 'True'
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --definition-type -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5","name":"d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/networkFunctionDefinitionGroups/ubuntu-vm-nfdg/networkFunctionDefinitionVersions/1.0.0","status":"Deleting","startTime":"2023-07-26T13:44:55.6221799Z"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/uksouth/operationStatuses/d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5?api-version=2020-01-01-preview
      cache-control:
      - no-cache
      content-length:
      - '602'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:44:55 GMT
      etag:
      - '"01006121-0000-1100-0000-64c123570000"'
      expires:
      - '-1'
      location:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/uksouth/operationStatuses/d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5?api-version=2020-01-01-preview
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --definition-type -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5","name":"d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/networkFunctionDefinitionGroups/ubuntu-vm-nfdg/networkFunctionDefinitionVersions/1.0.0","status":"Deleting","startTime":"2023-07-26T13:44:55.6221799Z"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/uksouth/operationStatuses/d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5?api-version=2020-01-01-preview
      cache-control:
      - no-cache
      content-length:
      - '602'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:45:26 GMT
      etag:
      - '"01006121-0000-1100-0000-64c123570000"'
      expires:
      - '-1'
      location:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/uksouth/operationStatuses/d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5?api-version=2020-01-01-preview
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --definition-type -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5","name":"d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/networkFunctionDefinitionGroups/ubuntu-vm-nfdg/networkFunctionDefinitionVersions/1.0.0","status":"Deleting","startTime":"2023-07-26T13:44:55.6221799Z"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/uksouth/operationStatuses/d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5?api-version=2020-01-01-preview
      cache-control:
      - no-cache
      content-length:
      - '602'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:45:58 GMT
      etag:
      - '"01006121-0000-1100-0000-64c123570000"'
      expires:
      - '-1'
      location:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/uksouth/operationStatuses/d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5?api-version=2020-01-01-preview
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --definition-type -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5","name":"d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/networkFunctionDefinitionGroups/ubuntu-vm-nfdg/networkFunctionDefinitionVersions/1.0.0","status":"Succeeded","startTime":"2023-07-26T13:44:55.6221799Z","properties":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '621'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:46:28 GMT
      etag:
      - '"0100ce21-0000-1100-0000-64c1239a0000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --definition-type -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5","name":"d58469b4-88f9-4f43-8e05-348c3f8694f2*D624C07777555D34927C0A2B08D32D894F860B37ED62687F7FB2A1AE8B045BC5","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/networkFunctionDefinitionGroups/ubuntu-vm-nfdg/networkFunctionDefinitionVersions/1.0.0","status":"Succeeded","startTime":"2023-07-26T13:44:55.6221799Z","properties":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '621'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:46:28 GMT
      etag:
      - '"0100ce21-0000-1100-0000-64c1239a0000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --definition-type -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-blob-store/artifactManifests/ubuntu-vm-sa-manifest-1-0-0?api-version=2023-04-01-preview
  response:
    body:
      string: 'null'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/a5be6087-5cd5-4df1-b562-31bc65c2ffcc*A14CB3C906EF24FA3D408DD057F2AE24B571D82B0D5EA33C6DE47C5BDC4F2A9B?api-version=2020-01-01-preview
      cache-control:
      - no-cache
      content-length:
      - '4'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:46:29 GMT
      etag:
      - '"010084dc-0000-1100-0000-64c123b60000"'
      expires:
      - '-1'
      location:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/a5be6087-5cd5-4df1-b562-31bc65c2ffcc*A14CB3C906EF24FA3D408DD057F2AE24B571D82B0D5EA33C6DE47C5BDC4F2A9B?api-version=2020-01-01-preview
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-build-version:
      - 1.0.02386.1640
      x-ms-providerhub-traffic:
      - 'True'
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14998'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --definition-type -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/a5be6087-5cd5-4df1-b562-31bc65c2ffcc*A14CB3C906EF24FA3D408DD057F2AE24B571D82B0D5EA33C6DE47C5BDC4F2A9B?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/a5be6087-5cd5-4df1-b562-31bc65c2ffcc*A14CB3C906EF24FA3D408DD057F2AE24B571D82B0D5EA33C6DE47C5BDC4F2A9B","name":"a5be6087-5cd5-4df1-b562-31bc65c2ffcc*A14CB3C906EF24FA3D408DD057F2AE24B571D82B0D5EA33C6DE47C5BDC4F2A9B","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-blob-store/artifactManifests/ubuntu-vm-sa-manifest-1-0-0","status":"Deleting","startTime":"2023-07-26T13:46:29.7049035Z"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/uksouth/operationStatuses/a5be6087-5cd5-4df1-b562-31bc65c2ffcc*A14CB3C906EF24FA3D408DD057F2AE24B571D82B0D5EA33C6DE47C5BDC4F2A9B?api-version=2020-01-01-preview
      cache-control:
      - no-cache
      content-length:
      - '594'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:46:29 GMT
      etag:
      - '"01000722-0000-1100-0000-64c123b50000"'
      expires:
      - '-1'
      location:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/uksouth/operationStatuses/a5be6087-5cd5-4df1-b562-31bc65c2ffcc*A14CB3C906EF24FA3D408DD057F2AE24B571D82B0D5EA33C6DE47C5BDC4F2A9B?api-version=2020-01-01-preview
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --definition-type -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/a5be6087-5cd5-4df1-b562-31bc65c2ffcc*A14CB3C906EF24FA3D408DD057F2AE24B571D82B0D5EA33C6DE47C5BDC4F2A9B?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/a5be6087-5cd5-4df1-b562-31bc65c2ffcc*A14CB3C906EF24FA3D408DD057F2AE24B571D82B0D5EA33C6DE47C5BDC4F2A9B","name":"a5be6087-5cd5-4df1-b562-31bc65c2ffcc*A14CB3C906EF24FA3D408DD057F2AE24B571D82B0D5EA33C6DE47C5BDC4F2A9B","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-blob-store/artifactManifests/ubuntu-vm-sa-manifest-1-0-0","status":"Succeeded","startTime":"2023-07-26T13:46:29.7049035Z","endTime":"2023-07-26T13:46:30.8639422Z","properties":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '654'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:47:00 GMT
      etag:
      - '"01000a22-0000-1100-0000-64c123b60000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --definition-type -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/a5be6087-5cd5-4df1-b562-31bc65c2ffcc*A14CB3C906EF24FA3D408DD057F2AE24B571D82B0D5EA33C6DE47C5BDC4F2A9B?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/a5be6087-5cd5-4df1-b562-31bc65c2ffcc*A14CB3C906EF24FA3D408DD057F2AE24B571D82B0D5EA33C6DE47C5BDC4F2A9B","name":"a5be6087-5cd5-4df1-b562-31bc65c2ffcc*A14CB3C906EF24FA3D408DD057F2AE24B571D82B0D5EA33C6DE47C5BDC4F2A9B","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-blob-store/artifactManifests/ubuntu-vm-sa-manifest-1-0-0","status":"Succeeded","startTime":"2023-07-26T13:46:29.7049035Z","endTime":"2023-07-26T13:46:30.8639422Z","properties":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '654'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:47:00 GMT
      etag:
      - '"01000a22-0000-1100-0000-64c123b60000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --definition-type -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-vm-acr-manifest-1-0-0?api-version=2023-04-01-preview
  response:
    body:
      string: 'null'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/78045eb9-d757-4ced-93d2-8619c65398af*D2486BCAB99E2BCF72D1AA248612DB2BD4F1B7EC473B74FDCBE40C6CD1EDB443?api-version=2020-01-01-preview
      cache-control:
      - no-cache
      content-length:
      - '4'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:47:00 GMT
      etag:
      - '"0100f8dc-0000-1100-0000-64c123d50000"'
      expires:
      - '-1'
      location:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/78045eb9-d757-4ced-93d2-8619c65398af*D2486BCAB99E2BCF72D1AA248612DB2BD4F1B7EC473B74FDCBE40C6CD1EDB443?api-version=2020-01-01-preview
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-build-version:
      - 1.0.02386.1640
      x-ms-providerhub-traffic:
      - 'True'
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14997'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --definition-type -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/78045eb9-d757-4ced-93d2-8619c65398af*D2486BCAB99E2BCF72D1AA248612DB2BD4F1B7EC473B74FDCBE40C6CD1EDB443?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/78045eb9-d757-4ced-93d2-8619c65398af*D2486BCAB99E2BCF72D1AA248612DB2BD4F1B7EC473B74FDCBE40C6CD1EDB443","name":"78045eb9-d757-4ced-93d2-8619c65398af*D2486BCAB99E2BCF72D1AA248612DB2BD4F1B7EC473B74FDCBE40C6CD1EDB443","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-vm-acr-manifest-1-0-0","status":"Deleting","startTime":"2023-07-26T13:47:01.359381Z"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/uksouth/operationStatuses/78045eb9-d757-4ced-93d2-8619c65398af*D2486BCAB99E2BCF72D1AA248612DB2BD4F1B7EC473B74FDCBE40C6CD1EDB443?api-version=2020-01-01-preview
      cache-control:
      - no-cache
      content-length:
      - '587'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:47:01 GMT
      etag:
      - '"01005522-0000-1100-0000-64c123d50000"'
      expires:
      - '-1'
      location:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/uksouth/operationStatuses/78045eb9-d757-4ced-93d2-8619c65398af*D2486BCAB99E2BCF72D1AA248612DB2BD4F1B7EC473B74FDCBE40C6CD1EDB443?api-version=2020-01-01-preview
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --definition-type -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/78045eb9-d757-4ced-93d2-8619c65398af*D2486BCAB99E2BCF72D1AA248612DB2BD4F1B7EC473B74FDCBE40C6CD1EDB443?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/78045eb9-d757-4ced-93d2-8619c65398af*D2486BCAB99E2BCF72D1AA248612DB2BD4F1B7EC473B74FDCBE40C6CD1EDB443","name":"78045eb9-d757-4ced-93d2-8619c65398af*D2486BCAB99E2BCF72D1AA248612DB2BD4F1B7EC473B74FDCBE40C6CD1EDB443","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-vm-acr-manifest-1-0-0","status":"Succeeded","startTime":"2023-07-26T13:47:01.359381Z","endTime":"2023-07-26T13:47:15.9042981Z","properties":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '647'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:47:31 GMT
      etag:
      - '"01006822-0000-1100-0000-64c123e30000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --definition-type -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/78045eb9-d757-4ced-93d2-8619c65398af*D2486BCAB99E2BCF72D1AA248612DB2BD4F1B7EC473B74FDCBE40C6CD1EDB443?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/78045eb9-d757-4ced-93d2-8619c65398af*D2486BCAB99E2BCF72D1AA248612DB2BD4F1B7EC473B74FDCBE40C6CD1EDB443","name":"78045eb9-d757-4ced-93d2-8619c65398af*D2486BCAB99E2BCF72D1AA248612DB2BD4F1B7EC473B74FDCBE40C6CD1EDB443","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-vm-acr-manifest-1-0-0","status":"Succeeded","startTime":"2023-07-26T13:47:01.359381Z","endTime":"2023-07-26T13:47:15.9042981Z","properties":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '647'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:47:31 GMT
      etag:
      - '"01006822-0000-1100-0000-64c123e30000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/networkServiceDesignGroups/ubuntu/networkServiceDesignVersions/1.0.0?api-version=2023-04-01-preview
  response:
    body:
      string: 'null'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/a9c7dd86-ed10-42dc-b97a-1fb63487ef75*1846D68E68668C8C67B84D44A208FE839BD2E9DD81A439CF0FA33146989C6224?api-version=2020-01-01-preview
      cache-control:
      - no-cache
      content-length:
      - '4'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:47:33 GMT
      etag:
      - '"0100f039-0000-1100-0000-64c123f50000"'
      expires:
      - '-1'
      location:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/a9c7dd86-ed10-42dc-b97a-1fb63487ef75*1846D68E68668C8C67B84D44A208FE839BD2E9DD81A439CF0FA33146989C6224?api-version=2020-01-01-preview
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-build-version:
      - 1.0.02386.1640
      x-ms-providerhub-traffic:
      - 'True'
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/a9c7dd86-ed10-42dc-b97a-1fb63487ef75*1846D68E68668C8C67B84D44A208FE839BD2E9DD81A439CF0FA33146989C6224?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/a9c7dd86-ed10-42dc-b97a-1fb63487ef75*1846D68E68668C8C67B84D44A208FE839BD2E9DD81A439CF0FA33146989C6224","name":"a9c7dd86-ed10-42dc-b97a-1fb63487ef75*1846D68E68668C8C67B84D44A208FE839BD2E9DD81A439CF0FA33146989C6224","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/networkServiceDesignGroups/ubuntu/networkServiceDesignVersions/1.0.0","status":"Deleting","startTime":"2023-07-26T13:47:33.5010058Z"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/uksouth/operationStatuses/a9c7dd86-ed10-42dc-b97a-1fb63487ef75*1846D68E68668C8C67B84D44A208FE839BD2E9DD81A439CF0FA33146989C6224?api-version=2020-01-01-preview
      cache-control:
      - no-cache
      content-length:
      - '584'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:47:33 GMT
      etag:
      - '"01008b22-0000-1100-0000-64c123f50000"'
      expires:
      - '-1'
      location:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/uksouth/operationStatuses/a9c7dd86-ed10-42dc-b97a-1fb63487ef75*1846D68E68668C8C67B84D44A208FE839BD2E9DD81A439CF0FA33146989C6224?api-version=2020-01-01-preview
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/a9c7dd86-ed10-42dc-b97a-1fb63487ef75*1846D68E68668C8C67B84D44A208FE839BD2E9DD81A439CF0FA33146989C6224?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/a9c7dd86-ed10-42dc-b97a-1fb63487ef75*1846D68E68668C8C67B84D44A208FE839BD2E9DD81A439CF0FA33146989C6224","name":"a9c7dd86-ed10-42dc-b97a-1fb63487ef75*1846D68E68668C8C67B84D44A208FE839BD2E9DD81A439CF0FA33146989C6224","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/networkServiceDesignGroups/ubuntu/networkServiceDesignVersions/1.0.0","status":"Succeeded","startTime":"2023-07-26T13:47:33.5010058Z","endTime":"2023-07-26T13:47:36.3888318Z","properties":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '644'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:48:05 GMT
      etag:
      - '"01008f22-0000-1100-0000-64c123f80000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/a9c7dd86-ed10-42dc-b97a-1fb63487ef75*1846D68E68668C8C67B84D44A208FE839BD2E9DD81A439CF0FA33146989C6224?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/a9c7dd86-ed10-42dc-b97a-1fb63487ef75*1846D68E68668C8C67B84D44A208FE839BD2E9DD81A439CF0FA33146989C6224","name":"a9c7dd86-ed10-42dc-b97a-1fb63487ef75*1846D68E68668C8C67B84D44A208FE839BD2E9DD81A439CF0FA33146989C6224","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/networkServiceDesignGroups/ubuntu/networkServiceDesignVersions/1.0.0","status":"Succeeded","startTime":"2023-07-26T13:47:33.5010058Z","endTime":"2023-07-26T13:47:36.3888318Z","properties":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '644'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:48:05 GMT
      etag:
      - '"01008f22-0000-1100-0000-64c123f80000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-nf-nsd-acr-manifest-1-0-0?api-version=2023-04-01-preview
  response:
    body:
      string: 'null'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/f4730ac5-7a07-4e27-a171-d8c5b5aafcfc*E1780600141AA23F055FD4F1BF09AFB8B879A597CAB5AF25D9972BA80599BA79?api-version=2020-01-01-preview
      cache-control:
      - no-cache
      content-length:
      - '4'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:48:06 GMT
      etag:
      - '"0100cadd-0000-1100-0000-64c124160000"'
      expires:
      - '-1'
      location:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/f4730ac5-7a07-4e27-a171-d8c5b5aafcfc*E1780600141AA23F055FD4F1BF09AFB8B879A597CAB5AF25D9972BA80599BA79?api-version=2020-01-01-preview
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-build-version:
      - 1.0.02386.1640
      x-ms-providerhub-traffic:
      - 'True'
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14998'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/f4730ac5-7a07-4e27-a171-d8c5b5aafcfc*E1780600141AA23F055FD4F1BF09AFB8B879A597CAB5AF25D9972BA80599BA79?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/f4730ac5-7a07-4e27-a171-d8c5b5aafcfc*E1780600141AA23F055FD4F1BF09AFB8B879A597CAB5AF25D9972BA80599BA79","name":"f4730ac5-7a07-4e27-a171-d8c5b5aafcfc*E1780600141AA23F055FD4F1BF09AFB8B879A597CAB5AF25D9972BA80599BA79","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-nf-nsd-acr-manifest-1-0-0","status":"Deleting","startTime":"2023-07-26T13:48:06.2563537Z"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/uksouth/operationStatuses/f4730ac5-7a07-4e27-a171-d8c5b5aafcfc*E1780600141AA23F055FD4F1BF09AFB8B879A597CAB5AF25D9972BA80599BA79?api-version=2020-01-01-preview
      cache-control:
      - no-cache
      content-length:
      - '592'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:48:06 GMT
      etag:
      - '"0100bc22-0000-1100-0000-64c124160000"'
      expires:
      - '-1'
      location:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/uksouth/operationStatuses/f4730ac5-7a07-4e27-a171-d8c5b5aafcfc*E1780600141AA23F055FD4F1BF09AFB8B879A597CAB5AF25D9972BA80599BA79?api-version=2020-01-01-preview
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/f4730ac5-7a07-4e27-a171-d8c5b5aafcfc*E1780600141AA23F055FD4F1BF09AFB8B879A597CAB5AF25D9972BA80599BA79?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/f4730ac5-7a07-4e27-a171-d8c5b5aafcfc*E1780600141AA23F055FD4F1BF09AFB8B879A597CAB5AF25D9972BA80599BA79","name":"f4730ac5-7a07-4e27-a171-d8c5b5aafcfc*E1780600141AA23F055FD4F1BF09AFB8B879A597CAB5AF25D9972BA80599BA79","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-nf-nsd-acr-manifest-1-0-0","status":"Succeeded","startTime":"2023-07-26T13:48:06.2563537Z","endTime":"2023-07-26T13:48:29.6040723Z","properties":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '652'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:48:35 GMT
      etag:
      - '"0100e722-0000-1100-0000-64c1242d0000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/f4730ac5-7a07-4e27-a171-d8c5b5aafcfc*E1780600141AA23F055FD4F1BF09AFB8B879A597CAB5AF25D9972BA80599BA79?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/f4730ac5-7a07-4e27-a171-d8c5b5aafcfc*E1780600141AA23F055FD4F1BF09AFB8B879A597CAB5AF25D9972BA80599BA79","name":"f4730ac5-7a07-4e27-a171-d8c5b5aafcfc*E1780600141AA23F055FD4F1BF09AFB8B879A597CAB5AF25D9972BA80599BA79","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-nf-nsd-acr-manifest-1-0-0","status":"Succeeded","startTime":"2023-07-26T13:48:06.2563537Z","endTime":"2023-07-26T13:48:29.6040723Z","properties":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '652'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:48:35 GMT
      etag:
      - '"0100e722-0000-1100-0000-64c1242d0000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/configurationGroupSchemas/ubuntu_ConfigGroupSchema?api-version=2023-04-01-preview
  response:
    body:
      string: 'null'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/faa4dbd8-9f9a-435b-960a-19fa8428df04*11248D1E508C64951FD5472E112C703E359E13297009740D5C18AF47B65BEF73?api-version=2020-01-01-preview
      cache-control:
      - no-cache
      content-length:
      - '4'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:48:36 GMT
      etag:
      - '"0200f702-0000-1100-0000-64c124350000"'
      expires:
      - '-1'
      location:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/faa4dbd8-9f9a-435b-960a-19fa8428df04*11248D1E508C64951FD5472E112C703E359E13297009740D5C18AF47B65BEF73?api-version=2020-01-01-preview
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-build-version:
      - 1.0.02386.1640
      x-ms-providerhub-traffic:
      - 'True'
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14997'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/faa4dbd8-9f9a-435b-960a-19fa8428df04*11248D1E508C64951FD5472E112C703E359E13297009740D5C18AF47B65BEF73?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/faa4dbd8-9f9a-435b-960a-19fa8428df04*11248D1E508C64951FD5472E112C703E359E13297009740D5C18AF47B65BEF73","name":"faa4dbd8-9f9a-435b-960a-19fa8428df04*11248D1E508C64951FD5472E112C703E359E13297009740D5C18AF47B65BEF73","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/configurationGroupSchemas/ubuntu_ConfigGroupSchema","status":"Deleting","startTime":"2023-07-26T13:48:37.2309542Z"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/uksouth/operationStatuses/faa4dbd8-9f9a-435b-960a-19fa8428df04*11248D1E508C64951FD5472E112C703E359E13297009740D5C18AF47B65BEF73?api-version=2020-01-01-preview
      cache-control:
      - no-cache
      content-length:
      - '566'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:48:37 GMT
      etag:
      - '"0100ee22-0000-1100-0000-64c124350000"'
      expires:
      - '-1'
      location:
      - https://management.azure.com/providers/Microsoft.HybridNetwork/locations/uksouth/operationStatuses/faa4dbd8-9f9a-435b-960a-19fa8428df04*11248D1E508C64951FD5472E112C703E359E13297009740D5C18AF47B65BEF73?api-version=2020-01-01-preview
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/faa4dbd8-9f9a-435b-960a-19fa8428df04*11248D1E508C64951FD5472E112C703E359E13297009740D5C18AF47B65BEF73?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/faa4dbd8-9f9a-435b-960a-19fa8428df04*11248D1E508C64951FD5472E112C703E359E13297009740D5C18AF47B65BEF73","name":"faa4dbd8-9f9a-435b-960a-19fa8428df04*11248D1E508C64951FD5472E112C703E359E13297009740D5C18AF47B65BEF73","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/configurationGroupSchemas/ubuntu_ConfigGroupSchema","status":"Succeeded","startTime":"2023-07-26T13:48:37.2309542Z","endTime":"2023-07-26T13:48:41.6355282Z","properties":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '626'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:49:06 GMT
      etag:
      - '"0100f722-0000-1100-0000-64c124390000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -f --debug --force
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-hybridnetwork/2020-01-01-preview Python/3.8.10
        (Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/faa4dbd8-9f9a-435b-960a-19fa8428df04*11248D1E508C64951FD5472E112C703E359E13297009740D5C18AF47B65BEF73?api-version=2020-01-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.HybridNetwork/locations/UKSOUTH/operationStatuses/faa4dbd8-9f9a-435b-960a-19fa8428df04*11248D1E508C64951FD5472E112C703E359E13297009740D5C18AF47B65BEF73","name":"faa4dbd8-9f9a-435b-960a-19fa8428df04*11248D1E508C64951FD5472E112C703E359E13297009740D5C18AF47B65BEF73","resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/patrykkulik-test/providers/Microsoft.HybridNetwork/publishers/ubuntuPublisher/configurationGroupSchemas/ubuntu_ConfigGroupSchema","status":"Succeeded","startTime":"2023-07-26T13:48:37.2309542Z","endTime":"2023-07-26T13:48:41.6355282Z","properties":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '626'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jul 2023 13:49:06 GMT
      etag:
      - '"0100f722-0000-1100-0000-64c124390000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
version: 1
