# --------------------------------------------------------------------------
# Copyright (c) Microsoft Corporation. All rights reserved.
# Licensed under the MIT License. See License.txt in the project root for
# license information.
#
# Code generated by Microsoft (R) AutoRest Code Generator.
# Changes may cause incorrect behavior and will be lost if the code is
# regenerated.
# --------------------------------------------------------------------------
# pylint: disable=too-many-lines

from azure.cli.core.util import sdk_no_wait


def healthcareapis_service_create(client,
                                  resource_group_name,
                                  resource_name,
                                  kind,
                                  location,
                                  tags=None,
                                  etag=None,
                                  identity_type=None,
                                  access_policies=None,
                                  cosmos_db_configuration=None,
                                  authentication_configuration=None,
                                  cors_configuration=None,
                                  private_endpoint_connections=None,
                                  public_network_access=None,
                                  export_configuration_storage_account_name=None,
                                  no_wait=False):

    export_configuration = {
        'storage_account_name': export_configuration_storage_account_name
    }

    service_identity_type = {
        'principal_id': None,
        'tenant_id': None,
        'type': identity_type,
    }

    properties = {
        'access_policies': access_policies,
        'cosmos_db_configuration': cosmos_db_configuration,
        'authentication_configuration': authentication_configuration,
        'cors_configuration': cors_configuration,
        'private_endpoint_connections': private_endpoint_connections,
        'public_network_access': public_network_access,
        'export_configuration': export_configuration
    }

    service_description = {
        'name': resource_name,
        'kind': kind,
        'location': location,
        'tags': tags,
        'etag': etag,
        'identity': service_identity_type,
        'properties': properties
    }

    return sdk_no_wait(no_wait,
                       client.create_or_update,
                       resource_group_name=resource_group_name,
                       resource_name=resource_name,
                       service_description=service_description)
