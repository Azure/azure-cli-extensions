# --------------------------------------------------------------------------
# Copyright (c) Microsoft Corporation. All rights reserved.
# Licensed under the MIT License. See License.txt in the project root for
# license information.
#
# Code generated by Microsoft (R) AutoRest Code Generator.
# Changes may cause incorrect behavior and will be lost if the code is
# regenerated.
# --------------------------------------------------------------------------

from azure.cli.testsdk.checkers import JMESPathCheck, JMESPathCheckExists


# EXAMPLE: /HostPools/put/HostPool_Create
def step__hostpools_put_hostpool_create(test, rg):
    test.cmd('az desktopvirtualization hostpool create '
             '--location "centralus" '
             '--description "des1" '
             '--friendly-name "friendly" '
             '--host-pool-type "Pooled" '
             '--load-balancer-type "BreadthFirst" '
             '--max-session-limit 999999 '
             '--personal-desktop-assignment-type "Automatic" '
             '--registration-info expiration-time="2020-07-01T14:01:54.9571247Z" registration-token-operation="Update" '
             ''
             '--sso-context "KeyVaultPath" '
             '--tags tag1="value1" tag2="value2" '
             '--name "{MyHostPool}" '
             '--resource-group "{rg}"',
             checks=[
                 # JMESPathCheckExists('[?name==\'{MyHostPool}\']'),
                 JMESPathCheck('name', test.kwargs["MyHostPool"]),
                 JMESPathCheck('tags.tag1', 'value1'),
                 JMESPathCheck('tags.tag2', 'value2'),
             ])


# EXAMPLE: /HostPools/get/HostPool_List
def step__hostpools_get_hostpool_list(test, rg):
    test.cmd('az desktopvirtualization hostpool list '
             '-g ""',
             checks=[
                 JMESPathCheckExists('[?name==\'{}\']'.format(
                     test.kwargs["MyHostPool"])),
             ])


# EXAMPLE: /HostPools/patch/HostPool_Update
def step__hostpools_patch_hostpool_update(test, rg):
    test.cmd('az desktopvirtualization hostpool update '
             '--description "des1" '
             '--friendly-name "friendly" '
             '--load-balancer-type "BreadthFirst" '
             '--max-session-limit 999999 '
             '--personal-desktop-assignment-type "Automatic" '
             '--registration-info expiration-time="2020-07-01T15:01:54.9571247Z" registration-token-operation="Update" '
             ''
             '--sso-context "KeyVaultPath" '
             '--tags tag1="value3" tag2="value4" '
             '--name "{MyHostPool}" '
             '--resource-group "{rg}"',
             checks=[
                 JMESPathCheck('name', test.kwargs["MyHostPool"]),
                 JMESPathCheck('tags.tag1', 'value3'),
                 JMESPathCheck('tags.tag2', 'value4'),
             ])


# EXAMPLE: /ApplicationGroups/put/ApplicationGroup_Create
def step__applicationgroups_put_applicationgroup_create(test, rg):
    test.cmd('az desktopvirtualization applicationgroup create '
             '--location "centralus" '
             '--description "des1" '
             '--application-group-type "RemoteApp" '
             '--friendly-name "friendly" '
             '--host-pool-arm-path "/subscriptions/{subscription_id}/resourceGroups/{rg}/providers/Microsoft.DesktopVir'
             'tualization/hostPools/{MyHostPool}" '
             '--tags tag1="value1" tag2="value2" '
             '--name "{MyApplicationGroup}" '
             '--resource-group "{rg}"',
             checks=[
                 JMESPathCheck('name', test.kwargs["MyApplicationGroup"]),
                 JMESPathCheck('tags.tag1', 'value1'),
                 JMESPathCheck('tags.tag2', 'value2'),
             ])


# EXAMPLE: /ApplicationGroups/get/ApplicationGroup_ListByResourceGroup
def step__applicationgroups_get_applicationgroup_listbyresourcegroup(test, rg):
    test.cmd('az desktopvirtualization applicationgroup list '
             '--filter "applicationGroupType eq \'RailApplication\'" '
             '--resource-group "{rg}"',
             checks=[
                 JMESPathCheckExists('[?name==\'{}\']'.format(
                     test.kwargs["MyApplicationGroup"])),
             ])


# EXAMPLE: /ApplicationGroups/patch/ApplicationGroups_Update
def step__applicationgroups_patch_applicationgroups_update(test, rg):
    test.cmd('az desktopvirtualization applicationgroup update '
             '--description "des1" '
             '--friendly-name "friendly" '
             '--tags tag1="value3" tag2="value4" '
             '--name "{MyApplicationGroup}" '
             '--resource-group "{rg}"',
             checks=[
                 JMESPathCheck('name', test.kwargs["MyApplicationGroup"]),
                 JMESPathCheck('tags.tag1', 'value3'),
                 JMESPathCheck('tags.tag2', 'value4'),
             ])


# EXAMPLE: /Workspaces/put/Workspace_Create
def step__workspaces_put_workspace_create(test, rg):
    test.cmd('az desktopvirtualization workspace create '
             '--resource-group "{rg}" '
             '--location "centralus" '
             '--description "des1" '
             '--friendly-name "friendly" '
             '--tags tag1="value1" tag2="value2" '
             '--name "{MyWorkspace}"',
             checks=[
                 JMESPathCheck('name', test.kwargs["MyWorkspace"]),
                 JMESPathCheck('tags.tag1', 'value1'),
                 JMESPathCheck('tags.tag2', 'value2'),
             ])


# EXAMPLE: /Workspaces/get/Workspace_Get
def step__workspaces_get_workspace_get(test, rg):
    test.cmd('az desktopvirtualization workspace show '
             '--resource-group "{rg}" '
             '--name "{MyWorkspace}"',
             checks=[
                 JMESPathCheck('name', test.kwargs["MyWorkspace"]),
             ])


# EXAMPLE: /Workspaces/patch/Workspace_Update
def step__workspaces_patch_workspace_update(test, rg):
    test.cmd('az desktopvirtualization workspace update '
             '--resource-group "{rg}" '
             '--description "des1" '
             '--friendly-name "friendly" '
             '--tags tag1="value3" tag2="value4" '
             '--name "{MyWorkspace}"',
             checks=[
                 JMESPathCheck('name', test.kwargs["MyWorkspace"]),
                 JMESPathCheck('tags.tag1', 'value3'),
                 JMESPathCheck('tags.tag2', 'value4'),
             ])
