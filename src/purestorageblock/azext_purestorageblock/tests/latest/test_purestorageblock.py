# --------------------------------------------------------------------------------------------
# Copyright (c) Microsoft Corporation. All rights reserved.
# Licensed under the MIT License. See License.txt in the project root for license information.
#
# Code generated by aaz-dev-tools
# --------------------------------------------------------------------------------------------

from azure.cli.testsdk import ScenarioTest, JMESPathCheck


class PurestorageblockScenarioTest(ScenarioTest):
    
    def test_purestorageblock(self):
        self.cmd("az purestorageblock reservation list", checks=[
                     self.greater_than('length(@)', 0)
                 ])
        self.cmd("az purestorageblock reservation show --resource-group S1RG1 --reservation-name testbillingreservationV8", checks=[
            self.check('reservationInternalId', 'e438766d-7ae6-4856-b595-fef7e671ba3a')
        ])
        # Create reservation command with proper JSON quoting
        create_cmd = """az purestorageblock reservation create --tags '{{"key1110":"euhfdmtfpucwurtu"}}' --resource-group S1RG1 --reservation-name cliTestReservation --location "Central US" --marketplace '{{"subscription-status":"Subscribed","offer-details":{{"publisher-id":"purestoragemarketplaceadmin","offer-id":"krypton_3_plan","plan-id":"private_preview_zero","term-unit":"P1M","term-id":"gmz7xq9ge3py"}}}}' --user '{{"first-name":"ritika","last-name":"joshi","email-address":"ritikajoshi@microsoft.com","company-details":{{"company-name":"Microsoft","address":{{"address-line1":"Street12s3","address-line2":"h","city":"Redmond","state":"wa","country":"US","postal-code":"98052-8300"}}}}}}'"""
        self.cmd(create_cmd)