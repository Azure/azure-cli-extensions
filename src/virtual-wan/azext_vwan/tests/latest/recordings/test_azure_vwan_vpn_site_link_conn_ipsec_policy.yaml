interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vwan create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001","name":"cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2022-05-11T04:01:14Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '392'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:01:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vwan create
      Connection:
      - keep-alive
      Content-Length:
      - '22'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualWans/test_vwan?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"test_vwan\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualWans/test_vwan\",\r\n
        \ \"etag\": \"W/\\\"b58e0709-abd0-4678-8a6b-7c3d8c5065f5\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualWans\",\r\n  \"location\": \"westus\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Updating\",\r\n    \"disableVpnEncryption\":
        false,\r\n    \"allowBranchToBranchTraffic\": true,\r\n    \"office365LocalBreakoutCategory\":
        \"None\",\r\n    \"type\": \"Standard\"\r\n  }\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/9410d60f-308e-4179-aa3e-c4a5b6abf0c7?api-version=2022-07-01
      cache-control:
      - no-cache
      content-length:
      - '551'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:01:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 82f5f634-3d00-4574-af2b-83783ce9c3fd
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vwan create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/9410d60f-308e-4179-aa3e-c4a5b6abf0c7?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:01:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - e8dee9e4-8c74-48b4-bfdc-01a26ff7978b
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vwan create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualWans/test_vwan?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"test_vwan\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualWans/test_vwan\",\r\n
        \ \"etag\": \"W/\\\"da71b097-9092-42a4-bcdb-185fb1bff313\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualWans\",\r\n  \"location\": \"westus\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"disableVpnEncryption\":
        false,\r\n    \"allowBranchToBranchTraffic\": true,\r\n    \"office365LocalBreakoutCategory\":
        \"None\",\r\n    \"type\": \"Standard\"\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '552'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:01:33 GMT
      etag:
      - W/"da71b097-9092-42a4-bcdb-185fb1bff313"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 77420ec1-8475-4f70-a3e6-3dd1afdd5467
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vhub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --vwan --address-prefix
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001","name":"cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2022-05-11T04:01:14Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '392'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:01:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"virtualWan": {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualWans/test_vwan"},
      "addressPrefix": "10.0.1.0/24"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vhub create
      Connection:
      - keep-alive
      Content-Length:
      - '270'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --vwan --address-prefix
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub?api-version=2022-05-01
  response:
    body:
      string: "{\r\n  \"name\": \"test_vhub\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub\",\r\n
        \ \"etag\": \"W/\\\"07e8e093-e926-4b11-a4a8-df61d46eeba3\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualHubs\",\r\n  \"location\": \"westus\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Updating\",\r\n    \"virtualHubRouteTableV2s\":
        [],\r\n    \"addressPrefix\": \"10.0.1.0/24\",\r\n    \"virtualRouterAsn\":
        0,\r\n    \"virtualRouterIps\": [],\r\n    \"routeTable\": {\r\n      \"routes\":
        []\r\n    },\r\n    \"virtualRouterAutoScaleConfiguration\": {\r\n      \"minCapacity\":
        2\r\n    },\r\n    \"virtualWan\": {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualWans/test_vwan\"\r\n
        \   },\r\n    \"networkVirtualAppliances\": [],\r\n    \"routingState\": \"None\",\r\n
        \   \"allowBranchToBranchTraffic\": false,\r\n    \"preferredRoutingGateway\":
        \"ExpressRoute\",\r\n    \"hubRoutingPreference\": \"ExpressRoute\"\r\n  }\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/1758a041-0313-4943-b365-737340a386e5?api-version=2022-07-01
      cache-control:
      - no-cache
      content-length:
      - '1079'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:01:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 7c152609-eb22-4b11-be65-c44ccd77c090
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vhub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --vwan --address-prefix
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/1758a041-0313-4943-b365-737340a386e5?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:01:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - d54e208c-907e-4b6f-99e3-ef6c2e0783b9
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vhub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --vwan --address-prefix
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/1758a041-0313-4943-b365-737340a386e5?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:02:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 056633ae-d240-4b4e-a56f-69f56e582080
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vhub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --vwan --address-prefix
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/1758a041-0313-4943-b365-737340a386e5?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:02:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 28996e24-624d-439b-857f-6a8343488c8d
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vhub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --vwan --address-prefix
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/1758a041-0313-4943-b365-737340a386e5?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:02:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - f99aeee8-3cde-4e3f-a004-542015dbb282
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vhub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --vwan --address-prefix
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/1758a041-0313-4943-b365-737340a386e5?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:03:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 81bde987-00bf-456d-87a3-1dd917c2159b
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vhub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --vwan --address-prefix
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/1758a041-0313-4943-b365-737340a386e5?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:04:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 1fd1226f-941d-4202-9449-e02382462f79
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vhub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --vwan --address-prefix
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/1758a041-0313-4943-b365-737340a386e5?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:05:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 1dffbf96-216d-4c80-a77a-2c976b7d1937
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vhub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --vwan --address-prefix
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub?api-version=2022-05-01
  response:
    body:
      string: "{\r\n  \"name\": \"test_vhub\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub\",\r\n
        \ \"etag\": \"W/\\\"89400c17-6a7b-4513-839a-e4e7fb43cfa9\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualHubs\",\r\n  \"location\": \"westus\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"virtualHubRouteTableV2s\":
        [],\r\n    \"addressPrefix\": \"10.0.1.0/24\",\r\n    \"virtualRouterAsn\":
        0,\r\n    \"virtualRouterIps\": [],\r\n    \"routeTable\": {\r\n      \"routes\":
        []\r\n    },\r\n    \"virtualRouterAutoScaleConfiguration\": {\r\n      \"minCapacity\":
        2\r\n    },\r\n    \"virtualWan\": {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualWans/test_vwan\"\r\n
        \   },\r\n    \"networkVirtualAppliances\": [],\r\n    \"routingState\": \"Provisioning\",\r\n
        \   \"allowBranchToBranchTraffic\": false,\r\n    \"preferredRoutingGateway\":
        \"ExpressRoute\",\r\n    \"hubRoutingPreference\": \"ExpressRoute\"\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1088'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:05:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 3d630536-f6ea-4818-8ef6-eb882b883e61
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vhub route-table create
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --vhub-name -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"test_vhub_routing_1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\",\r\n
        \ \"etag\": \"W/\\\"92322df9-6b3b-4438-9315-9eb129fb2d90\\\"\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Updating\",\r\n    \"routes\": [],\r\n    \"labels\":
        [],\r\n    \"associatedConnections\": [],\r\n    \"propagatingConnections\":
        []\r\n  },\r\n  \"type\": \"Microsoft.Network/virtualHubs/hubRouteTables\"\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/6c1f698f-ea61-47e4-8f60-be9b6445c300?api-version=2022-07-01
      cache-control:
      - no-cache
      content-length:
      - '544'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:05:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 0c8385d6-76ba-4112-b02f-c00ba15eb805
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vhub route-table create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub-name -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/6c1f698f-ea61-47e4-8f60-be9b6445c300?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:05:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - bb184852-202f-4886-b9a9-abebdcac58bd
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vhub route-table create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub-name -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"test_vhub_routing_1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\",\r\n
        \ \"etag\": \"W/\\\"c7708dc8-715d-4fbc-a9b5-f25f2d397ae4\\\"\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"routes\": [],\r\n
        \   \"labels\": [],\r\n    \"associatedConnections\": [],\r\n    \"propagatingConnections\":
        []\r\n  },\r\n  \"type\": \"Microsoft.Network/virtualHubs/hubRouteTables\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '545'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:05:36 GMT
      etag:
      - W/"c7708dc8-715d-4fbc-a9b5-f25f2d397ae4"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - de3a90ad-ecc0-4481-8baf-1458723c180e
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vhub route-table create
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --vhub-name -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_2?api-version=2022-07-01
  response:
    body:
      string: '{"error":{"code":"ServerTimeout","message":"The request timed out.
        Diagnostic information: timestamp ''20220511T040552Z'', subscription id ''0b1f6471-1bf0-4dda-aec3-cb9272f09590'',
        tracking id ''0135f666-b4c4-4315-b9ea-c16fb2822a6f'', request correlation
        id ''0135f666-b4c4-4315-b9ea-c16fb2822a6f''."}}'
    headers:
      cache-control:
      - no-cache
      connection:
      - close
      content-length:
      - '294'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:05:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 503
      message: Service Unavailable
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vhub route-table create
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --vhub-name -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_2?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"test_vhub_routing_2\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_2\",\r\n
        \ \"etag\": \"W/\\\"86a148c2-9fd1-496c-9b37-02b5ac0ddacf\\\"\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Updating\",\r\n    \"routes\": [],\r\n    \"labels\":
        [],\r\n    \"associatedConnections\": [],\r\n    \"propagatingConnections\":
        []\r\n  },\r\n  \"type\": \"Microsoft.Network/virtualHubs/hubRouteTables\"\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/4b6bd83a-0247-4804-9580-b80eb19ef03c?api-version=2022-07-01
      cache-control:
      - no-cache
      content-length:
      - '544'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:05:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 77383970-466f-43a6-9ec3-51c66ce54519
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vhub route-table create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub-name -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/4b6bd83a-0247-4804-9580-b80eb19ef03c?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:06:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 95e3391b-c1dd-472e-aa9f-bb71fde3eafa
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vhub route-table create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub-name -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_2?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"test_vhub_routing_2\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_2\",\r\n
        \ \"etag\": \"W/\\\"6fe1fd90-237b-4684-a6cd-daf05b21568a\\\"\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"routes\": [],\r\n
        \   \"labels\": [],\r\n    \"associatedConnections\": [],\r\n    \"propagatingConnections\":
        []\r\n  },\r\n  \"type\": \"Microsoft.Network/virtualHubs/hubRouteTables\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '545'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:06:02 GMT
      etag:
      - W/"6fe1fd90-237b-4684-a6cd-daf05b21568a"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 82f72e20-5ee0-44c6-a44d-6cbeec865af0
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001","name":"cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2022-05-11T04:01:14Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '392'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:06:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"virtualHub": {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub"},
      "bgpSettings": {}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      Content-Length:
      - '257'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway?api-version=2022-05-01
  response:
    body:
      string: "{\r\n  \"name\": \"test_s2s_vpn_gateway\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway\",\r\n
        \ \"etag\": \"W/\\\"9ccf1a9d-8e75-45e7-b81f-43111633ed21\\\"\",\r\n  \"type\":
        \"Microsoft.Network/vpnGateways\",\r\n  \"location\": \"westus\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Updating\",\r\n    \"connections\": [],\r\n
        \   \"virtualHub\": {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub\"\r\n
        \   },\r\n    \"bgpSettings\": {\r\n      \"asn\": 65515,\r\n      \"peerWeight\":
        0\r\n    },\r\n    \"vpnGatewayScaleUnit\": 1,\r\n    \"packetCaptureDiagnosticState\":
        \"None\",\r\n    \"ipConfigurations\": [],\r\n    \"natRules\": [],\r\n    \"enableBgpRouteTranslationForNat\":
        false,\r\n    \"isRoutingPreferenceInternet\": false\r\n  }\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
      cache-control:
      - no-cache
      content-length:
      - '957'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:06:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 6515ffa2-3f3d-4fa6-9f44-9b6d63f8c07e
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:06:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - b5ecc617-eadf-4117-bb13-6e210693ce0b
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:06:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - d0ca7e52-7159-4652-b95e-03288b2323ee
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:06:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - bede3cd7-21e5-4a3f-bde3-0c745d315084
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:07:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 0d235e47-c503-4997-be2b-36b11b81528e
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:07:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 3ffeef61-b064-4b4e-829f-9a88627330fa
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:08:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - ed4c4e3c-cfc0-4d03-b907-d3c71517a5a6
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:09:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - bf31a6a9-f94e-4511-afde-7feaa0eab2c6
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:12:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 81ccf933-e788-40de-a347-ded7428c9cdc
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:14:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 40bce2a1-d592-46ec-b2e7-b5749c07e4c8
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:15:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - f8ee5c47-5a8c-4315-a632-edc52c598cec
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:17:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 6cec2fd2-9b65-46eb-8634-120319ef3d20
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:19:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 731f3ba9-8a6b-4494-b98b-ef0ee53fc148
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:20:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 512ca1c7-92d6-4b31-939e-1be161074546
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:22:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 4905c33f-3137-45b9-9a6c-57fba70c9ab0
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:24:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - ae5d56b0-5af7-4991-bb25-59f9a8f29d41
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:26:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 4d9f42d1-f47d-42b2-8347-e53a155f91f0
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:27:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - b9c5a586-1e9c-407e-838a-b771de101bb0
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:29:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - dcd769e5-7671-41d4-9a8e-c85acee608bd
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:31:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 09885100-a1c6-41a6-9322-ec294e38266d
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:32:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 32fbb34f-82b8-40f4-8b12-762234a2878c
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:34:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - fcb01176-16d8-4d65-b177-b3c5362a4ef3
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:36:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - e6a3f052-71a9-44c2-8ab5-13f4dcb2f8b3
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2b780094-2ca0-4bd7-bb04-e6d86ffbc178?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:37:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 28f62104-7cd3-4efb-b71e-0051ffd58abe
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vhub --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway?api-version=2022-05-01
  response:
    body:
      string: "{\r\n  \"name\": \"test_s2s_vpn_gateway\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway\",\r\n
        \ \"etag\": \"W/\\\"248a8399-6d6e-48e1-b83c-f1839696b5e5\\\"\",\r\n  \"type\":
        \"Microsoft.Network/vpnGateways\",\r\n  \"location\": \"westus\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"connections\": [],\r\n
        \   \"virtualHub\": {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub\"\r\n
        \   },\r\n    \"bgpSettings\": {\r\n      \"asn\": 65515,\r\n      \"peerWeight\":
        0,\r\n      \"bgpPeeringAddresses\": [\r\n        {\r\n          \"ipconfigurationId\":
        \"Instance0\",\r\n          \"defaultBgpIpAddresses\": [\r\n            \"10.0.1.13\"\r\n
        \         ],\r\n          \"customBgpIpAddresses\": [],\r\n          \"tunnelIpAddresses\":
        [\r\n            \"20.237.193.142\",\r\n            \"10.0.1.4\"\r\n          ]\r\n
        \       },\r\n        {\r\n          \"ipconfigurationId\": \"Instance1\",\r\n
        \         \"defaultBgpIpAddresses\": [\r\n            \"10.0.1.12\"\r\n          ],\r\n
        \         \"customBgpIpAddresses\": [],\r\n          \"tunnelIpAddresses\":
        [\r\n            \"20.228.124.99\",\r\n            \"10.0.1.5\"\r\n          ]\r\n
        \       }\r\n      ]\r\n    },\r\n    \"vpnGatewayScaleUnit\": 1,\r\n    \"packetCaptureDiagnosticState\":
        \"None\",\r\n    \"ipConfigurations\": [\r\n      {\r\n        \"id\": \"Instance0\",\r\n
        \       \"publicIpAddress\": \"20.237.193.142\",\r\n        \"privateIpAddress\":
        \"10.0.1.4\"\r\n      },\r\n      {\r\n        \"id\": \"Instance1\",\r\n
        \       \"publicIpAddress\": \"20.228.124.99\",\r\n        \"privateIpAddress\":
        \"10.0.1.5\"\r\n      }\r\n    ],\r\n    \"natRules\": [],\r\n    \"enableBgpRouteTranslationForNat\":
        false,\r\n    \"isRoutingPreferenceInternet\": false\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1840'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:37:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 987e28f6-67e5-44c1-ae0a-9cd290e66e30
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-site create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --ip-address --with-link --address-prefixes
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001","name":"cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2022-05-11T04:01:14Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '392'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:37:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"deviceProperties": {}, "addressSpace":
      {"addressPrefixes": ["10.0.2.0/24"]}, "vpnSiteLinks": [{"name": "remote_vpn_site_1",
      "properties": {"ipAddress": "10.0.2.110"}}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-site create
      Connection:
      - keep-alive
      Content-Length:
      - '208'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --ip-address --with-link --address-prefixes
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"remote_vpn_site_1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1\",\r\n
        \ \"etag\": \"W/\\\"dd85ea68-c8a7-4b54-a7da-817eeba15994\\\"\",\r\n  \"type\":
        \"Microsoft.Network/vpnSites\",\r\n  \"location\": \"westus\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Updating\",\r\n    \"addressSpace\": {\r\n
        \     \"addressPrefixes\": [\r\n        \"10.0.2.0/24\"\r\n      ]\r\n    },\r\n
        \   \"deviceProperties\": {\r\n      \"linkSpeedInMbps\": 0\r\n    },\r\n
        \   \"isSecuritySite\": false,\r\n    \"o365Policy\": {\r\n      \"breakOutCategories\":
        {\r\n        \"optimize\": false,\r\n        \"allow\": false,\r\n        \"default\":
        false\r\n      }\r\n    },\r\n    \"vpnSiteLinks\": [\r\n      {\r\n        \"name\":
        \"remote_vpn_site_1\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/remote_vpn_site_1\",\r\n
        \       \"etag\": \"W/\\\"dd85ea68-c8a7-4b54-a7da-817eeba15994\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Updating\",\r\n
        \         \"ipAddress\": \"10.0.2.110\",\r\n          \"linkProperties\":
        {\r\n            \"linkSpeedInMbps\": 0\r\n          }\r\n        },\r\n        \"type\":
        \"Microsoft.Network/vpnSites/vpnSiteLinks\"\r\n      }\r\n    ]\r\n  }\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/289df20a-281a-4b85-b8bb-0deb99ab9e25?api-version=2022-07-01
      cache-control:
      - no-cache
      content-length:
      - '1379'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:37:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 044342d9-f458-4378-a19c-84885a5290f0
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-site create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --ip-address --with-link --address-prefixes
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/289df20a-281a-4b85-b8bb-0deb99ab9e25?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:38:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 372349fa-fae1-4a88-97f1-47eafe014a04
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-site create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --ip-address --with-link --address-prefixes
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"remote_vpn_site_1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1\",\r\n
        \ \"etag\": \"W/\\\"12ab9a41-15ec-4886-8110-8fd22f462542\\\"\",\r\n  \"type\":
        \"Microsoft.Network/vpnSites\",\r\n  \"location\": \"westus\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"addressSpace\": {\r\n
        \     \"addressPrefixes\": [\r\n        \"10.0.2.0/24\"\r\n      ]\r\n    },\r\n
        \   \"deviceProperties\": {\r\n      \"linkSpeedInMbps\": 0\r\n    },\r\n
        \   \"isSecuritySite\": false,\r\n    \"o365Policy\": {\r\n      \"breakOutCategories\":
        {\r\n        \"optimize\": false,\r\n        \"allow\": false,\r\n        \"default\":
        false\r\n      }\r\n    },\r\n    \"vpnSiteLinks\": [\r\n      {\r\n        \"name\":
        \"remote_vpn_site_1\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/remote_vpn_site_1\",\r\n
        \       \"etag\": \"W/\\\"12ab9a41-15ec-4886-8110-8fd22f462542\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"ipAddress\": \"10.0.2.110\",\r\n          \"linkProperties\":
        {\r\n            \"linkSpeedInMbps\": 0\r\n          }\r\n        },\r\n        \"type\":
        \"Microsoft.Network/vpnSites/vpnSiteLinks\"\r\n      }\r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1381'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:38:03 GMT
      etag:
      - W/"12ab9a41-15ec-4886-8110-8fd22f462542"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - b9aca951-084e-45bf-ae14-bdbca612aacc
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-site link add
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --site-name -n --ip-address --asn --bgp-peering-address
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"remote_vpn_site_1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1\",\r\n
        \ \"etag\": \"W/\\\"12ab9a41-15ec-4886-8110-8fd22f462542\\\"\",\r\n  \"type\":
        \"Microsoft.Network/vpnSites\",\r\n  \"location\": \"westus\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"addressSpace\": {\r\n
        \     \"addressPrefixes\": [\r\n        \"10.0.2.0/24\"\r\n      ]\r\n    },\r\n
        \   \"deviceProperties\": {\r\n      \"linkSpeedInMbps\": 0\r\n    },\r\n
        \   \"isSecuritySite\": false,\r\n    \"o365Policy\": {\r\n      \"breakOutCategories\":
        {\r\n        \"optimize\": false,\r\n        \"allow\": false,\r\n        \"default\":
        false\r\n      }\r\n    },\r\n    \"vpnSiteLinks\": [\r\n      {\r\n        \"name\":
        \"remote_vpn_site_1\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/remote_vpn_site_1\",\r\n
        \       \"etag\": \"W/\\\"12ab9a41-15ec-4886-8110-8fd22f462542\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"ipAddress\": \"10.0.2.110\",\r\n          \"linkProperties\":
        {\r\n            \"linkSpeedInMbps\": 0\r\n          }\r\n        },\r\n        \"type\":
        \"Microsoft.Network/vpnSites/vpnSiteLinks\"\r\n      }\r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1381'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:38:03 GMT
      etag:
      - W/"12ab9a41-15ec-4886-8110-8fd22f462542"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - bf7a21b9-23b7-4219-997a-fb048f8dd483
    status:
      code: 200
      message: OK
- request:
    body: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1",
      "location": "westus", "properties": {"deviceProperties": {"linkSpeedInMbps":
      0}, "addressSpace": {"addressPrefixes": ["10.0.2.0/24"]}, "isSecuritySite":
      false, "vpnSiteLinks": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/remote_vpn_site_1",
      "name": "remote_vpn_site_1", "properties": {"linkProperties": {"linkSpeedInMbps":
      0}, "ipAddress": "10.0.2.110"}}, {"name": "VPN-Site-Link1", "properties": {"ipAddress":
      "10.0.2.111", "bgpProperties": {"asn": 1234, "bgpPeeringAddress": "192.168.1.0"}}}],
      "o365Policy": {"breakOutCategories": {"allow": false, "optimize": false, "default":
      false}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-site link add
      Connection:
      - keep-alive
      Content-Length:
      - '936'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --site-name -n --ip-address --asn --bgp-peering-address
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"remote_vpn_site_1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1\",\r\n
        \ \"etag\": \"W/\\\"6ec55ee2-2d9e-4d23-b863-1d573093ebcb\\\"\",\r\n  \"type\":
        \"Microsoft.Network/vpnSites\",\r\n  \"location\": \"westus\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Updating\",\r\n    \"addressSpace\": {\r\n
        \     \"addressPrefixes\": [\r\n        \"10.0.2.0/24\"\r\n      ]\r\n    },\r\n
        \   \"deviceProperties\": {\r\n      \"linkSpeedInMbps\": 0\r\n    },\r\n
        \   \"isSecuritySite\": false,\r\n    \"o365Policy\": {\r\n      \"breakOutCategories\":
        {\r\n        \"optimize\": false,\r\n        \"allow\": false,\r\n        \"default\":
        false\r\n      }\r\n    },\r\n    \"vpnSiteLinks\": [\r\n      {\r\n        \"name\":
        \"remote_vpn_site_1\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/remote_vpn_site_1\",\r\n
        \       \"etag\": \"W/\\\"6ec55ee2-2d9e-4d23-b863-1d573093ebcb\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Updating\",\r\n
        \         \"ipAddress\": \"10.0.2.110\",\r\n          \"linkProperties\":
        {\r\n            \"linkSpeedInMbps\": 0\r\n          }\r\n        },\r\n        \"type\":
        \"Microsoft.Network/vpnSites/vpnSiteLinks\"\r\n      },\r\n      {\r\n        \"name\":
        \"VPN-Site-Link1\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/VPN-Site-Link1\",\r\n
        \       \"etag\": \"W/\\\"6ec55ee2-2d9e-4d23-b863-1d573093ebcb\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Updating\",\r\n
        \         \"ipAddress\": \"10.0.2.111\",\r\n          \"bgpProperties\": {\r\n
        \           \"asn\": 1234,\r\n            \"bgpPeeringAddress\": \"192.168.1.0\"\r\n
        \         },\r\n          \"linkProperties\": {\r\n            \"linkSpeedInMbps\":
        0\r\n          }\r\n        },\r\n        \"type\": \"Microsoft.Network/vpnSites/vpnSiteLinks\"\r\n
        \     }\r\n    ]\r\n  }\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/b2ed1a4d-a90f-44a3-b732-e4dac06afe99?api-version=2022-07-01
      cache-control:
      - no-cache
      content-length:
      - '2096'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:38:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - bc802f96-6a99-47a7-847a-4d2211086331
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-site link add
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --site-name -n --ip-address --asn --bgp-peering-address
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/b2ed1a4d-a90f-44a3-b732-e4dac06afe99?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:38:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 3afdb11f-b3f1-4883-a720-a1947f6d8ca4
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-site link add
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --site-name -n --ip-address --asn --bgp-peering-address
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/b2ed1a4d-a90f-44a3-b732-e4dac06afe99?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:38:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 476c8e5f-f500-41f2-937e-8c0e26359a23
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-site link add
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --site-name -n --ip-address --asn --bgp-peering-address
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"remote_vpn_site_1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1\",\r\n
        \ \"etag\": \"W/\\\"491bafb6-767d-4b4f-8191-5e32ab65d58e\\\"\",\r\n  \"type\":
        \"Microsoft.Network/vpnSites\",\r\n  \"location\": \"westus\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"addressSpace\": {\r\n
        \     \"addressPrefixes\": [\r\n        \"10.0.2.0/24\"\r\n      ]\r\n    },\r\n
        \   \"deviceProperties\": {\r\n      \"linkSpeedInMbps\": 0\r\n    },\r\n
        \   \"isSecuritySite\": false,\r\n    \"o365Policy\": {\r\n      \"breakOutCategories\":
        {\r\n        \"optimize\": false,\r\n        \"allow\": false,\r\n        \"default\":
        false\r\n      }\r\n    },\r\n    \"vpnSiteLinks\": [\r\n      {\r\n        \"name\":
        \"remote_vpn_site_1\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/remote_vpn_site_1\",\r\n
        \       \"etag\": \"W/\\\"491bafb6-767d-4b4f-8191-5e32ab65d58e\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"ipAddress\": \"10.0.2.110\",\r\n          \"linkProperties\":
        {\r\n            \"linkSpeedInMbps\": 0\r\n          }\r\n        },\r\n        \"type\":
        \"Microsoft.Network/vpnSites/vpnSiteLinks\"\r\n      },\r\n      {\r\n        \"name\":
        \"VPN-Site-Link1\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/VPN-Site-Link1\",\r\n
        \       \"etag\": \"W/\\\"491bafb6-767d-4b4f-8191-5e32ab65d58e\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"ipAddress\": \"10.0.2.111\",\r\n          \"bgpProperties\": {\r\n
        \           \"asn\": 1234,\r\n            \"bgpPeeringAddress\": \"192.168.1.0\"\r\n
        \         },\r\n          \"linkProperties\": {\r\n            \"linkSpeedInMbps\":
        0\r\n          }\r\n        },\r\n        \"type\": \"Microsoft.Network/vpnSites/vpnSiteLinks\"\r\n
        \     }\r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2099'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:38:25 GMT
      etag:
      - W/"491bafb6-767d-4b4f-8191-5e32ab65d58e"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 449415fa-b76b-4312-9c4a-f603bee1a286
    status:
      code: 200
      message: OK
- request:
    body: '{"name": "test_s2s_vpn_gateway_connection", "properties": {"remoteVpnSite":
      {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1"},
      "vpnLinkConnections": [{"name": "test_s2s_vpn_gateway_connection", "properties":
      {"vpnSiteLink": {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/remote_vpn_site_1"}}}],
      "routingConfiguration": {"associatedRouteTable": {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1"},
      "propagatedRouteTables": {"labels": ["label1", "label2"], "ids": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1"},
      {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_2"}]}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection create
      Connection:
      - keep-alive
      Content-Length:
      - '1370'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --gateway-name --remote-vpn-site --vpn-site-link --associated-route-table
        --propagated-route-tables --labels --with-link
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"test_s2s_vpn_gateway_connection\",\r\n  \"id\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection\",\r\n
        \ \"etag\": \"W/\\\"c5c01d8d-eeaf-4e6c-8747-cc657c10528d\\\"\",\r\n  \"type\":
        \"Microsoft.Network/vpnGateways/vpnConnections\",\r\n  \"properties\": {\r\n
        \   \"provisioningState\": \"Updating\",\r\n    \"routingConfiguration\":
        {\r\n      \"associatedRouteTable\": {\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\"\r\n
        \     },\r\n      \"propagatedRouteTables\": {\r\n        \"labels\": [\r\n
        \         \"label1\",\r\n          \"label2\"\r\n        ],\r\n        \"ids\":
        [\r\n          {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\"\r\n
        \         },\r\n          {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_2\"\r\n
        \         }\r\n        ]\r\n      },\r\n      \"vnetRoutes\": {\r\n        \"staticRoutes\":
        []\r\n      }\r\n    },\r\n    \"enableInternetSecurity\": false,\r\n    \"remoteVpnSite\":
        {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1\"\r\n
        \   },\r\n    \"vpnLinkConnections\": [\r\n      {\r\n        \"name\": \"test_s2s_vpn_gateway_connection\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection/vpnLinkConnections/test_s2s_vpn_gateway_connection\",\r\n
        \       \"etag\": \"W/\\\"c5c01d8d-eeaf-4e6c-8747-cc657c10528d\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Updating\",\r\n
        \         \"vpnSiteLink\": {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/remote_vpn_site_1\"\r\n
        \         },\r\n          \"connectionBandwidth\": 10,\r\n          \"ipsecPolicies\":
        [],\r\n          \"vpnConnectionProtocolType\": \"IKEv2\",\r\n          \"ingressBytesTransferred\":
        0,\r\n          \"egressBytesTransferred\": 0,\r\n          \"packetCaptureDiagnosticState\":
        \"None\",\r\n          \"enableBgp\": false,\r\n          \"enableRateLimiting\":
        false,\r\n          \"useLocalAzureIpAddress\": false,\r\n          \"usePolicyBasedTrafficSelectors\":
        false,\r\n          \"routingWeight\": 0,\r\n          \"dpdTimeoutSeconds\":
        0,\r\n          \"vpnLinkConnectionMode\": \"Default\",\r\n          \"vpnGatewayCustomBgpAddresses\":
        []\r\n        },\r\n        \"type\": \"Microsoft.Network/vpnGateways/vpnConnections/vpnLinkConnections\"\r\n
        \     }\r\n    ],\r\n    \"ingressBytesTransferred\": 0,\r\n    \"egressBytesTransferred\":
        0\r\n  }\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/ba48a6a2-9892-4f57-94ee-4a05583d1c96?api-version=2022-07-01
      cache-control:
      - no-cache
      content-length:
      - '3324'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:38:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 860b9ed7-ac41-44b9-b849-12bbfdcf6f33
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --gateway-name --remote-vpn-site --vpn-site-link --associated-route-table
        --propagated-route-tables --labels --with-link
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/ba48a6a2-9892-4f57-94ee-4a05583d1c96?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:38:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 5a36b0be-d6ba-4dd8-813a-db45775db8fe
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --gateway-name --remote-vpn-site --vpn-site-link --associated-route-table
        --propagated-route-tables --labels --with-link
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/ba48a6a2-9892-4f57-94ee-4a05583d1c96?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:38:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - e4de07eb-289b-4fed-82a1-234dddd25d21
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --gateway-name --remote-vpn-site --vpn-site-link --associated-route-table
        --propagated-route-tables --labels --with-link
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/ba48a6a2-9892-4f57-94ee-4a05583d1c96?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:39:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 99c60734-8ede-436a-8cab-000899c4f62d
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --gateway-name --remote-vpn-site --vpn-site-link --associated-route-table
        --propagated-route-tables --labels --with-link
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/ba48a6a2-9892-4f57-94ee-4a05583d1c96?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:39:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 681b5967-e2c0-4f94-9718-e9f1781770ad
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --gateway-name --remote-vpn-site --vpn-site-link --associated-route-table
        --propagated-route-tables --labels --with-link
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"test_s2s_vpn_gateway_connection\",\r\n  \"id\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection\",\r\n
        \ \"etag\": \"W/\\\"435c8f0d-3ab5-4edd-b7fe-2707d0c939f2\\\"\",\r\n  \"type\":
        \"Microsoft.Network/vpnGateways/vpnConnections\",\r\n  \"properties\": {\r\n
        \   \"provisioningState\": \"Succeeded\",\r\n    \"routingConfiguration\":
        {\r\n      \"associatedRouteTable\": {\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\"\r\n
        \     },\r\n      \"propagatedRouteTables\": {\r\n        \"labels\": [\r\n
        \         \"label1\",\r\n          \"label2\"\r\n        ],\r\n        \"ids\":
        [\r\n          {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\"\r\n
        \         },\r\n          {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_2\"\r\n
        \         }\r\n        ]\r\n      },\r\n      \"vnetRoutes\": {\r\n        \"staticRoutes\":
        []\r\n      }\r\n    },\r\n    \"enableInternetSecurity\": false,\r\n    \"remoteVpnSite\":
        {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1\"\r\n
        \   },\r\n    \"vpnLinkConnections\": [\r\n      {\r\n        \"name\": \"test_s2s_vpn_gateway_connection\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection/vpnLinkConnections/test_s2s_vpn_gateway_connection\",\r\n
        \       \"etag\": \"W/\\\"435c8f0d-3ab5-4edd-b7fe-2707d0c939f2\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"vpnSiteLink\": {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/remote_vpn_site_1\"\r\n
        \         },\r\n          \"connectionBandwidth\": 10,\r\n          \"ipsecPolicies\":
        [],\r\n          \"vpnConnectionProtocolType\": \"IKEv2\",\r\n          \"ingressBytesTransferred\":
        0,\r\n          \"egressBytesTransferred\": 0,\r\n          \"packetCaptureDiagnosticState\":
        \"None\",\r\n          \"connectionStatus\": \"Unknown\",\r\n          \"enableBgp\":
        false,\r\n          \"enableRateLimiting\": false,\r\n          \"useLocalAzureIpAddress\":
        false,\r\n          \"usePolicyBasedTrafficSelectors\": false,\r\n          \"routingWeight\":
        0,\r\n          \"dpdTimeoutSeconds\": 0,\r\n          \"vpnLinkConnectionMode\":
        \"Default\",\r\n          \"vpnGatewayCustomBgpAddresses\": []\r\n        },\r\n
        \       \"type\": \"Microsoft.Network/vpnGateways/vpnConnections/vpnLinkConnections\"\r\n
        \     }\r\n    ],\r\n    \"ingressBytesTransferred\": 0,\r\n    \"egressBytesTransferred\":
        0\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3368'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:39:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - c8c6f21f-9fc2-44c8-b0d3-9ede5965e280
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection ipsec-policy add
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gateway-name --connection-name --ipsec-encryption --ipsec-integrity --sa-lifetime
        --sa-data-size --ike-encryption --ike-integrity --dh-group --pfs-group
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"test_s2s_vpn_gateway\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway\",\r\n
        \ \"etag\": \"W/\\\"435c8f0d-3ab5-4edd-b7fe-2707d0c939f2\\\"\",\r\n  \"type\":
        \"Microsoft.Network/vpnGateways\",\r\n  \"location\": \"westus\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"connections\": [\r\n
        \     {\r\n        \"name\": \"test_s2s_vpn_gateway_connection\",\r\n        \"id\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection\",\r\n
        \       \"etag\": \"W/\\\"435c8f0d-3ab5-4edd-b7fe-2707d0c939f2\\\"\",\r\n
        \       \"type\": \"Microsoft.Network/vpnGateways/vpnConnections\",\r\n        \"properties\":
        {\r\n          \"provisioningState\": \"Succeeded\",\r\n          \"routingConfiguration\":
        {\r\n            \"associatedRouteTable\": {\r\n              \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\"\r\n
        \           },\r\n            \"propagatedRouteTables\": {\r\n              \"labels\":
        [\r\n                \"label1\",\r\n                \"label2\"\r\n              ],\r\n
        \             \"ids\": [\r\n                {\r\n                  \"id\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\"\r\n
        \               },\r\n                {\r\n                  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_2\"\r\n
        \               }\r\n              ]\r\n            },\r\n            \"vnetRoutes\":
        {\r\n              \"staticRoutes\": []\r\n            }\r\n          },\r\n
        \         \"enableInternetSecurity\": false,\r\n          \"remoteVpnSite\":
        {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1\"\r\n
        \         },\r\n          \"vpnLinkConnections\": [\r\n            {\r\n              \"name\":
        \"test_s2s_vpn_gateway_connection\",\r\n              \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection/vpnLinkConnections/test_s2s_vpn_gateway_connection\",\r\n
        \             \"etag\": \"W/\\\"435c8f0d-3ab5-4edd-b7fe-2707d0c939f2\\\"\",\r\n
        \             \"properties\": {\r\n                \"provisioningState\":
        \"Succeeded\",\r\n                \"vpnSiteLink\": {\r\n                  \"id\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/remote_vpn_site_1\"\r\n
        \               },\r\n                \"connectionBandwidth\": 10,\r\n                \"ipsecPolicies\":
        [],\r\n                \"vpnConnectionProtocolType\": \"IKEv2\",\r\n                \"ingressBytesTransferred\":
        0,\r\n                \"egressBytesTransferred\": 0,\r\n                \"packetCaptureDiagnosticState\":
        \"None\",\r\n                \"enableBgp\": false,\r\n                \"enableRateLimiting\":
        false,\r\n                \"useLocalAzureIpAddress\": false,\r\n                \"usePolicyBasedTrafficSelectors\":
        false,\r\n                \"routingWeight\": 0,\r\n                \"dpdTimeoutSeconds\":
        0,\r\n                \"vpnLinkConnectionMode\": \"Default\",\r\n                \"vpnGatewayCustomBgpAddresses\":
        []\r\n              },\r\n              \"type\": \"Microsoft.Network/vpnGateways/vpnConnections/vpnLinkConnections\"\r\n
        \           }\r\n          ],\r\n          \"ingressBytesTransferred\": 0,\r\n
        \         \"egressBytesTransferred\": 0\r\n        }\r\n      }\r\n    ],\r\n
        \   \"virtualHub\": {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub\"\r\n
        \   },\r\n    \"bgpSettings\": {\r\n      \"asn\": 65515,\r\n      \"peerWeight\":
        0,\r\n      \"bgpPeeringAddresses\": [\r\n        {\r\n          \"ipconfigurationId\":
        \"Instance0\",\r\n          \"defaultBgpIpAddresses\": [\r\n            \"10.0.1.13\"\r\n
        \         ],\r\n          \"customBgpIpAddresses\": [],\r\n          \"tunnelIpAddresses\":
        [\r\n            \"20.237.193.142\",\r\n            \"10.0.1.4\"\r\n          ]\r\n
        \       },\r\n        {\r\n          \"ipconfigurationId\": \"Instance1\",\r\n
        \         \"defaultBgpIpAddresses\": [\r\n            \"10.0.1.12\"\r\n          ],\r\n
        \         \"customBgpIpAddresses\": [],\r\n          \"tunnelIpAddresses\":
        [\r\n            \"20.228.124.99\",\r\n            \"10.0.1.5\"\r\n          ]\r\n
        \       }\r\n      ]\r\n    },\r\n    \"vpnGatewayScaleUnit\": 1,\r\n    \"packetCaptureDiagnosticState\":
        \"None\",\r\n    \"ipConfigurations\": [\r\n      {\r\n        \"id\": \"Instance0\",\r\n
        \       \"publicIpAddress\": \"20.237.193.142\",\r\n        \"privateIpAddress\":
        \"10.0.1.4\"\r\n      },\r\n      {\r\n        \"id\": \"Instance1\",\r\n
        \       \"publicIpAddress\": \"20.228.124.99\",\r\n        \"privateIpAddress\":
        \"10.0.1.5\"\r\n      }\r\n    ],\r\n    \"natRules\": [],\r\n    \"enableBgpRouteTranslationForNat\":
        false,\r\n    \"isRoutingPreferenceInternet\": false\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '5564'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:39:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 7bf91416-df8e-4057-a95a-d8f48a97d08e
    status:
      code: 200
      message: OK
- request:
    body: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway",
      "location": "westus", "properties": {"virtualHub": {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub"},
      "connections": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection",
      "name": "test_s2s_vpn_gateway_connection", "properties": {"remoteVpnSite": {"id":
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1"},
      "ipsecPolicies": [{"saLifeTimeSeconds": 86471, "saDataSizeKilobytes": 429496,
      "ipsecEncryption": "AES256", "ipsecIntegrity": "SHA256", "ikeEncryption": "AES256",
      "ikeIntegrity": "SHA384", "dhGroup": "DHGroup14", "pfsGroup": "PFS14"}], "enableInternetSecurity":
      false, "vpnLinkConnections": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection/vpnLinkConnections/test_s2s_vpn_gateway_connection",
      "name": "test_s2s_vpn_gateway_connection", "properties": {"vpnSiteLink": {"id":
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/remote_vpn_site_1"},
      "routingWeight": 0, "vpnLinkConnectionMode": "Default", "vpnConnectionProtocolType":
      "IKEv2", "connectionBandwidth": 10, "enableBgp": false, "vpnGatewayCustomBgpAddresses":
      [], "usePolicyBasedTrafficSelectors": false, "ipsecPolicies": [], "enableRateLimiting":
      false, "useLocalAzureIpAddress": false}}], "routingConfiguration": {"associatedRouteTable":
      {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1"},
      "propagatedRouteTables": {"labels": ["label1", "label2"], "ids": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1"},
      {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_2"}]},
      "vnetRoutes": {"staticRoutes": []}}}}], "bgpSettings": {"asn": 65515, "peerWeight":
      0, "bgpPeeringAddresses": [{"ipconfigurationId": "Instance0", "customBgpIpAddresses":
      []}, {"ipconfigurationId": "Instance1", "customBgpIpAddresses": []}]}, "vpnGatewayScaleUnit":
      1, "enableBgpRouteTranslationForNat": false, "isRoutingPreferenceInternet":
      false, "natRules": []}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection ipsec-policy add
      Connection:
      - keep-alive
      Content-Length:
      - '3285'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --gateway-name --connection-name --ipsec-encryption --ipsec-integrity --sa-lifetime
        --sa-data-size --ike-encryption --ike-integrity --dh-group --pfs-group
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"error\": {\r\n    \"code\": \"VpnConnectionPropertyIsDeprecated\",\r\n
        \   \"message\": \"Update request for VpnConnection /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection
        contains deprecated property IpsecPolicies. Please use corresponding VpnSiteLinkConnection
        property instead.\",\r\n    \"details\": []\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '486'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:39:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - e1161789-d2b1-4b22-a7fd-05e25f71fd35
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection vpn-site-link-conn ipsec-policy add
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gateway-name --connection-name -n --ipsec-encryption --ipsec-integrity
        --sa-lifetime --sa-data-size --ike-encryption --ike-integrity --dh-group --pfs-group
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"test_s2s_vpn_gateway_connection\",\r\n  \"id\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection\",\r\n
        \ \"etag\": \"W/\\\"435c8f0d-3ab5-4edd-b7fe-2707d0c939f2\\\"\",\r\n  \"type\":
        \"Microsoft.Network/vpnGateways/vpnConnections\",\r\n  \"properties\": {\r\n
        \   \"provisioningState\": \"Succeeded\",\r\n    \"routingConfiguration\":
        {\r\n      \"associatedRouteTable\": {\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\"\r\n
        \     },\r\n      \"propagatedRouteTables\": {\r\n        \"labels\": [\r\n
        \         \"label1\",\r\n          \"label2\"\r\n        ],\r\n        \"ids\":
        [\r\n          {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\"\r\n
        \         },\r\n          {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_2\"\r\n
        \         }\r\n        ]\r\n      },\r\n      \"vnetRoutes\": {\r\n        \"staticRoutes\":
        []\r\n      }\r\n    },\r\n    \"enableInternetSecurity\": false,\r\n    \"remoteVpnSite\":
        {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1\"\r\n
        \   },\r\n    \"vpnLinkConnections\": [\r\n      {\r\n        \"name\": \"test_s2s_vpn_gateway_connection\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection/vpnLinkConnections/test_s2s_vpn_gateway_connection\",\r\n
        \       \"etag\": \"W/\\\"435c8f0d-3ab5-4edd-b7fe-2707d0c939f2\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"vpnSiteLink\": {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/remote_vpn_site_1\"\r\n
        \         },\r\n          \"connectionBandwidth\": 10,\r\n          \"ipsecPolicies\":
        [],\r\n          \"vpnConnectionProtocolType\": \"IKEv2\",\r\n          \"ingressBytesTransferred\":
        0,\r\n          \"egressBytesTransferred\": 0,\r\n          \"packetCaptureDiagnosticState\":
        \"None\",\r\n          \"connectionStatus\": \"Unknown\",\r\n          \"enableBgp\":
        false,\r\n          \"enableRateLimiting\": false,\r\n          \"useLocalAzureIpAddress\":
        false,\r\n          \"usePolicyBasedTrafficSelectors\": false,\r\n          \"routingWeight\":
        0,\r\n          \"dpdTimeoutSeconds\": 0,\r\n          \"vpnLinkConnectionMode\":
        \"Default\",\r\n          \"vpnGatewayCustomBgpAddresses\": []\r\n        },\r\n
        \       \"type\": \"Microsoft.Network/vpnGateways/vpnConnections/vpnLinkConnections\"\r\n
        \     }\r\n    ],\r\n    \"ingressBytesTransferred\": 0,\r\n    \"egressBytesTransferred\":
        0\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3368'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:39:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - af730499-c041-494a-b8bf-143ce2d936a7
    status:
      code: 200
      message: OK
- request:
    body: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection",
      "name": "test_s2s_vpn_gateway_connection", "properties": {"remoteVpnSite": {"id":
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1"},
      "enableInternetSecurity": false, "vpnLinkConnections": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection/vpnLinkConnections/test_s2s_vpn_gateway_connection",
      "name": "test_s2s_vpn_gateway_connection", "properties": {"vpnSiteLink": {"id":
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/remote_vpn_site_1"},
      "routingWeight": 0, "vpnLinkConnectionMode": "Default", "vpnConnectionProtocolType":
      "IKEv2", "connectionBandwidth": 10, "enableBgp": false, "vpnGatewayCustomBgpAddresses":
      [], "usePolicyBasedTrafficSelectors": false, "ipsecPolicies": [{"saLifeTimeSeconds":
      86471, "saDataSizeKilobytes": 429496, "ipsecEncryption": "AES256", "ipsecIntegrity":
      "SHA256", "ikeEncryption": "AES256", "ikeIntegrity": "SHA384", "dhGroup": "DHGroup14",
      "pfsGroup": "PFS14"}], "enableRateLimiting": false, "useLocalAzureIpAddress":
      false}}], "routingConfiguration": {"associatedRouteTable": {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1"},
      "propagatedRouteTables": {"labels": ["label1", "label2"], "ids": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1"},
      {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_2"}]},
      "vnetRoutes": {"staticRoutes": []}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection vpn-site-link-conn ipsec-policy add
      Connection:
      - keep-alive
      Content-Length:
      - '2489'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --gateway-name --connection-name -n --ipsec-encryption --ipsec-integrity
        --sa-lifetime --sa-data-size --ike-encryption --ike-integrity --dh-group --pfs-group
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"test_s2s_vpn_gateway_connection\",\r\n  \"id\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection\",\r\n
        \ \"etag\": \"W/\\\"056fd113-47e6-411a-b4c1-618d2ac67f04\\\"\",\r\n  \"type\":
        \"Microsoft.Network/vpnGateways/vpnConnections\",\r\n  \"properties\": {\r\n
        \   \"provisioningState\": \"Updating\",\r\n    \"routingConfiguration\":
        {\r\n      \"associatedRouteTable\": {\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\"\r\n
        \     },\r\n      \"propagatedRouteTables\": {\r\n        \"labels\": [\r\n
        \         \"label1\",\r\n          \"label2\"\r\n        ],\r\n        \"ids\":
        [\r\n          {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\"\r\n
        \         },\r\n          {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_2\"\r\n
        \         }\r\n        ]\r\n      },\r\n      \"vnetRoutes\": {\r\n        \"staticRoutes\":
        []\r\n      }\r\n    },\r\n    \"enableInternetSecurity\": false,\r\n    \"remoteVpnSite\":
        {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1\"\r\n
        \   },\r\n    \"vpnLinkConnections\": [\r\n      {\r\n        \"name\": \"test_s2s_vpn_gateway_connection\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection/vpnLinkConnections/test_s2s_vpn_gateway_connection\",\r\n
        \       \"etag\": \"W/\\\"056fd113-47e6-411a-b4c1-618d2ac67f04\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Updating\",\r\n
        \         \"vpnSiteLink\": {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/remote_vpn_site_1\"\r\n
        \         },\r\n          \"connectionBandwidth\": 10,\r\n          \"ipsecPolicies\":
        [\r\n            {\r\n              \"saLifeTimeSeconds\": 86471,\r\n              \"saDataSizeKilobytes\":
        429496,\r\n              \"ipsecEncryption\": \"AES256\",\r\n              \"ipsecIntegrity\":
        \"SHA256\",\r\n              \"ikeEncryption\": \"AES256\",\r\n              \"ikeIntegrity\":
        \"SHA384\",\r\n              \"dhGroup\": \"DHGroup14\",\r\n              \"pfsGroup\":
        \"PFS14\"\r\n            }\r\n          ],\r\n          \"vpnConnectionProtocolType\":
        \"IKEv2\",\r\n          \"ingressBytesTransferred\": 0,\r\n          \"egressBytesTransferred\":
        0,\r\n          \"packetCaptureDiagnosticState\": \"None\",\r\n          \"enableBgp\":
        false,\r\n          \"enableRateLimiting\": false,\r\n          \"useLocalAzureIpAddress\":
        false,\r\n          \"usePolicyBasedTrafficSelectors\": false,\r\n          \"routingWeight\":
        0,\r\n          \"dpdTimeoutSeconds\": 0,\r\n          \"vpnLinkConnectionMode\":
        \"Default\",\r\n          \"vpnGatewayCustomBgpAddresses\": []\r\n        },\r\n
        \       \"type\": \"Microsoft.Network/vpnGateways/vpnConnections/vpnLinkConnections\"\r\n
        \     }\r\n    ],\r\n    \"ingressBytesTransferred\": 0,\r\n    \"egressBytesTransferred\":
        0\r\n  }\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/e87c04a6-f17e-48db-9bec-8c613f947c6a?api-version=2022-07-01
      cache-control:
      - no-cache
      content-length:
      - '3699'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:39:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 93d0152a-e696-4c09-ba0f-ca8faaca9cc1
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection vpn-site-link-conn ipsec-policy add
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gateway-name --connection-name -n --ipsec-encryption --ipsec-integrity
        --sa-lifetime --sa-data-size --ike-encryption --ike-integrity --dh-group --pfs-group
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/e87c04a6-f17e-48db-9bec-8c613f947c6a?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:40:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 9db74076-f21d-4718-816d-5ecdc6aa118a
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection vpn-site-link-conn ipsec-policy add
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gateway-name --connection-name -n --ipsec-encryption --ipsec-integrity
        --sa-lifetime --sa-data-size --ike-encryption --ike-integrity --dh-group --pfs-group
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/e87c04a6-f17e-48db-9bec-8c613f947c6a?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:40:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 91abafbe-8bcb-4605-9935-87039997e2fd
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection vpn-site-link-conn ipsec-policy add
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gateway-name --connection-name -n --ipsec-encryption --ipsec-integrity
        --sa-lifetime --sa-data-size --ike-encryption --ike-integrity --dh-group --pfs-group
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/e87c04a6-f17e-48db-9bec-8c613f947c6a?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:40:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 4806ed03-f3f1-4e85-a180-87e902d288cc
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection vpn-site-link-conn ipsec-policy add
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gateway-name --connection-name -n --ipsec-encryption --ipsec-integrity
        --sa-lifetime --sa-data-size --ike-encryption --ike-integrity --dh-group --pfs-group
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/e87c04a6-f17e-48db-9bec-8c613f947c6a?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:41:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 309afdf0-8c3c-4e58-9392-115bf074a4aa
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection vpn-site-link-conn ipsec-policy add
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gateway-name --connection-name -n --ipsec-encryption --ipsec-integrity
        --sa-lifetime --sa-data-size --ike-encryption --ike-integrity --dh-group --pfs-group
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"test_s2s_vpn_gateway_connection\",\r\n  \"id\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection\",\r\n
        \ \"etag\": \"W/\\\"6e458852-a90b-4239-9bca-fcb75c290c0d\\\"\",\r\n  \"type\":
        \"Microsoft.Network/vpnGateways/vpnConnections\",\r\n  \"properties\": {\r\n
        \   \"provisioningState\": \"Succeeded\",\r\n    \"routingConfiguration\":
        {\r\n      \"associatedRouteTable\": {\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\"\r\n
        \     },\r\n      \"propagatedRouteTables\": {\r\n        \"labels\": [\r\n
        \         \"label1\",\r\n          \"label2\"\r\n        ],\r\n        \"ids\":
        [\r\n          {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\"\r\n
        \         },\r\n          {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_2\"\r\n
        \         }\r\n        ]\r\n      },\r\n      \"vnetRoutes\": {\r\n        \"staticRoutes\":
        []\r\n      }\r\n    },\r\n    \"enableInternetSecurity\": false,\r\n    \"remoteVpnSite\":
        {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1\"\r\n
        \   },\r\n    \"vpnLinkConnections\": [\r\n      {\r\n        \"name\": \"test_s2s_vpn_gateway_connection\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection/vpnLinkConnections/test_s2s_vpn_gateway_connection\",\r\n
        \       \"etag\": \"W/\\\"6e458852-a90b-4239-9bca-fcb75c290c0d\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"vpnSiteLink\": {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/remote_vpn_site_1\"\r\n
        \         },\r\n          \"connectionBandwidth\": 10,\r\n          \"ipsecPolicies\":
        [\r\n            {\r\n              \"saLifeTimeSeconds\": 86471,\r\n              \"saDataSizeKilobytes\":
        429496,\r\n              \"ipsecEncryption\": \"AES256\",\r\n              \"ipsecIntegrity\":
        \"SHA256\",\r\n              \"ikeEncryption\": \"AES256\",\r\n              \"ikeIntegrity\":
        \"SHA384\",\r\n              \"dhGroup\": \"DHGroup14\",\r\n              \"pfsGroup\":
        \"PFS14\"\r\n            }\r\n          ],\r\n          \"vpnConnectionProtocolType\":
        \"IKEv2\",\r\n          \"ingressBytesTransferred\": 0,\r\n          \"egressBytesTransferred\":
        0,\r\n          \"packetCaptureDiagnosticState\": \"None\",\r\n          \"connectionStatus\":
        \"Unknown\",\r\n          \"enableBgp\": false,\r\n          \"enableRateLimiting\":
        false,\r\n          \"useLocalAzureIpAddress\": false,\r\n          \"usePolicyBasedTrafficSelectors\":
        false,\r\n          \"routingWeight\": 0,\r\n          \"dpdTimeoutSeconds\":
        0,\r\n          \"vpnLinkConnectionMode\": \"Default\",\r\n          \"vpnGatewayCustomBgpAddresses\":
        []\r\n        },\r\n        \"type\": \"Microsoft.Network/vpnGateways/vpnConnections/vpnLinkConnections\"\r\n
        \     }\r\n    ],\r\n    \"ingressBytesTransferred\": 0,\r\n    \"egressBytesTransferred\":
        0\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3743'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:41:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - f54dc66b-93a1-4b82-9305-ed2e5ae8dea6
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection vpn-site-link-conn ipsec-policy list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gateway-name --connection-name -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"test_s2s_vpn_gateway_connection\",\r\n  \"id\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection\",\r\n
        \ \"etag\": \"W/\\\"6e458852-a90b-4239-9bca-fcb75c290c0d\\\"\",\r\n  \"type\":
        \"Microsoft.Network/vpnGateways/vpnConnections\",\r\n  \"properties\": {\r\n
        \   \"provisioningState\": \"Succeeded\",\r\n    \"routingConfiguration\":
        {\r\n      \"associatedRouteTable\": {\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\"\r\n
        \     },\r\n      \"propagatedRouteTables\": {\r\n        \"labels\": [\r\n
        \         \"label1\",\r\n          \"label2\"\r\n        ],\r\n        \"ids\":
        [\r\n          {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\"\r\n
        \         },\r\n          {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_2\"\r\n
        \         }\r\n        ]\r\n      },\r\n      \"vnetRoutes\": {\r\n        \"staticRoutes\":
        []\r\n      }\r\n    },\r\n    \"enableInternetSecurity\": false,\r\n    \"remoteVpnSite\":
        {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1\"\r\n
        \   },\r\n    \"vpnLinkConnections\": [\r\n      {\r\n        \"name\": \"test_s2s_vpn_gateway_connection\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection/vpnLinkConnections/test_s2s_vpn_gateway_connection\",\r\n
        \       \"etag\": \"W/\\\"6e458852-a90b-4239-9bca-fcb75c290c0d\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"vpnSiteLink\": {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/remote_vpn_site_1\"\r\n
        \         },\r\n          \"connectionBandwidth\": 10,\r\n          \"ipsecPolicies\":
        [\r\n            {\r\n              \"saLifeTimeSeconds\": 86471,\r\n              \"saDataSizeKilobytes\":
        429496,\r\n              \"ipsecEncryption\": \"AES256\",\r\n              \"ipsecIntegrity\":
        \"SHA256\",\r\n              \"ikeEncryption\": \"AES256\",\r\n              \"ikeIntegrity\":
        \"SHA384\",\r\n              \"dhGroup\": \"DHGroup14\",\r\n              \"pfsGroup\":
        \"PFS14\"\r\n            }\r\n          ],\r\n          \"vpnConnectionProtocolType\":
        \"IKEv2\",\r\n          \"ingressBytesTransferred\": 0,\r\n          \"egressBytesTransferred\":
        0,\r\n          \"packetCaptureDiagnosticState\": \"None\",\r\n          \"connectionStatus\":
        \"Unknown\",\r\n          \"enableBgp\": false,\r\n          \"enableRateLimiting\":
        false,\r\n          \"useLocalAzureIpAddress\": false,\r\n          \"usePolicyBasedTrafficSelectors\":
        false,\r\n          \"routingWeight\": 0,\r\n          \"dpdTimeoutSeconds\":
        0,\r\n          \"vpnLinkConnectionMode\": \"Default\",\r\n          \"vpnGatewayCustomBgpAddresses\":
        []\r\n        },\r\n        \"type\": \"Microsoft.Network/vpnGateways/vpnConnections/vpnLinkConnections\"\r\n
        \     }\r\n    ],\r\n    \"ingressBytesTransferred\": 0,\r\n    \"egressBytesTransferred\":
        0\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3743'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:41:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 12cd1613-d5b1-4444-a48c-dbcfa2fb286d
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection vpn-site-link-conn ipsec-policy remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gateway-name --connection-name -n --index
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"test_s2s_vpn_gateway_connection\",\r\n  \"id\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection\",\r\n
        \ \"etag\": \"W/\\\"6e458852-a90b-4239-9bca-fcb75c290c0d\\\"\",\r\n  \"type\":
        \"Microsoft.Network/vpnGateways/vpnConnections\",\r\n  \"properties\": {\r\n
        \   \"provisioningState\": \"Succeeded\",\r\n    \"routingConfiguration\":
        {\r\n      \"associatedRouteTable\": {\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\"\r\n
        \     },\r\n      \"propagatedRouteTables\": {\r\n        \"labels\": [\r\n
        \         \"label1\",\r\n          \"label2\"\r\n        ],\r\n        \"ids\":
        [\r\n          {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\"\r\n
        \         },\r\n          {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_2\"\r\n
        \         }\r\n        ]\r\n      },\r\n      \"vnetRoutes\": {\r\n        \"staticRoutes\":
        []\r\n      }\r\n    },\r\n    \"enableInternetSecurity\": false,\r\n    \"remoteVpnSite\":
        {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1\"\r\n
        \   },\r\n    \"vpnLinkConnections\": [\r\n      {\r\n        \"name\": \"test_s2s_vpn_gateway_connection\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection/vpnLinkConnections/test_s2s_vpn_gateway_connection\",\r\n
        \       \"etag\": \"W/\\\"6e458852-a90b-4239-9bca-fcb75c290c0d\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"vpnSiteLink\": {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/remote_vpn_site_1\"\r\n
        \         },\r\n          \"connectionBandwidth\": 10,\r\n          \"ipsecPolicies\":
        [\r\n            {\r\n              \"saLifeTimeSeconds\": 86471,\r\n              \"saDataSizeKilobytes\":
        429496,\r\n              \"ipsecEncryption\": \"AES256\",\r\n              \"ipsecIntegrity\":
        \"SHA256\",\r\n              \"ikeEncryption\": \"AES256\",\r\n              \"ikeIntegrity\":
        \"SHA384\",\r\n              \"dhGroup\": \"DHGroup14\",\r\n              \"pfsGroup\":
        \"PFS14\"\r\n            }\r\n          ],\r\n          \"vpnConnectionProtocolType\":
        \"IKEv2\",\r\n          \"ingressBytesTransferred\": 0,\r\n          \"egressBytesTransferred\":
        0,\r\n          \"packetCaptureDiagnosticState\": \"None\",\r\n          \"connectionStatus\":
        \"Unknown\",\r\n          \"enableBgp\": false,\r\n          \"enableRateLimiting\":
        false,\r\n          \"useLocalAzureIpAddress\": false,\r\n          \"usePolicyBasedTrafficSelectors\":
        false,\r\n          \"routingWeight\": 0,\r\n          \"dpdTimeoutSeconds\":
        0,\r\n          \"vpnLinkConnectionMode\": \"Default\",\r\n          \"vpnGatewayCustomBgpAddresses\":
        []\r\n        },\r\n        \"type\": \"Microsoft.Network/vpnGateways/vpnConnections/vpnLinkConnections\"\r\n
        \     }\r\n    ],\r\n    \"ingressBytesTransferred\": 0,\r\n    \"egressBytesTransferred\":
        0\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3743'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:41:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - e9dd8f93-8037-4012-8cf0-4505249edb8c
    status:
      code: 200
      message: OK
- request:
    body: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection",
      "name": "test_s2s_vpn_gateway_connection", "properties": {"remoteVpnSite": {"id":
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1"},
      "enableInternetSecurity": false, "vpnLinkConnections": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection/vpnLinkConnections/test_s2s_vpn_gateway_connection",
      "name": "test_s2s_vpn_gateway_connection", "properties": {"vpnSiteLink": {"id":
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/remote_vpn_site_1"},
      "routingWeight": 0, "vpnLinkConnectionMode": "Default", "vpnConnectionProtocolType":
      "IKEv2", "connectionBandwidth": 10, "enableBgp": false, "vpnGatewayCustomBgpAddresses":
      [], "usePolicyBasedTrafficSelectors": false, "ipsecPolicies": [], "enableRateLimiting":
      false, "useLocalAzureIpAddress": false}}], "routingConfiguration": {"associatedRouteTable":
      {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1"},
      "propagatedRouteTables": {"labels": ["label1", "label2"], "ids": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1"},
      {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_2"}]},
      "vnetRoutes": {"staticRoutes": []}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection vpn-site-link-conn ipsec-policy remove
      Connection:
      - keep-alive
      Content-Length:
      - '2275'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --gateway-name --connection-name -n --index
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"test_s2s_vpn_gateway_connection\",\r\n  \"id\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection\",\r\n
        \ \"etag\": \"W/\\\"26de05c2-0a58-4749-ab3b-e1085770f004\\\"\",\r\n  \"type\":
        \"Microsoft.Network/vpnGateways/vpnConnections\",\r\n  \"properties\": {\r\n
        \   \"provisioningState\": \"Updating\",\r\n    \"routingConfiguration\":
        {\r\n      \"associatedRouteTable\": {\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\"\r\n
        \     },\r\n      \"propagatedRouteTables\": {\r\n        \"labels\": [\r\n
        \         \"label1\",\r\n          \"label2\"\r\n        ],\r\n        \"ids\":
        [\r\n          {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\"\r\n
        \         },\r\n          {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_2\"\r\n
        \         }\r\n        ]\r\n      },\r\n      \"vnetRoutes\": {\r\n        \"staticRoutes\":
        []\r\n      }\r\n    },\r\n    \"enableInternetSecurity\": false,\r\n    \"remoteVpnSite\":
        {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1\"\r\n
        \   },\r\n    \"vpnLinkConnections\": [\r\n      {\r\n        \"name\": \"test_s2s_vpn_gateway_connection\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection/vpnLinkConnections/test_s2s_vpn_gateway_connection\",\r\n
        \       \"etag\": \"W/\\\"26de05c2-0a58-4749-ab3b-e1085770f004\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Updating\",\r\n
        \         \"vpnSiteLink\": {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/remote_vpn_site_1\"\r\n
        \         },\r\n          \"connectionBandwidth\": 10,\r\n          \"ipsecPolicies\":
        [],\r\n          \"vpnConnectionProtocolType\": \"IKEv2\",\r\n          \"ingressBytesTransferred\":
        0,\r\n          \"egressBytesTransferred\": 0,\r\n          \"packetCaptureDiagnosticState\":
        \"None\",\r\n          \"enableBgp\": false,\r\n          \"enableRateLimiting\":
        false,\r\n          \"useLocalAzureIpAddress\": false,\r\n          \"usePolicyBasedTrafficSelectors\":
        false,\r\n          \"routingWeight\": 0,\r\n          \"dpdTimeoutSeconds\":
        0,\r\n          \"vpnLinkConnectionMode\": \"Default\",\r\n          \"vpnGatewayCustomBgpAddresses\":
        []\r\n        },\r\n        \"type\": \"Microsoft.Network/vpnGateways/vpnConnections/vpnLinkConnections\"\r\n
        \     }\r\n    ],\r\n    \"ingressBytesTransferred\": 0,\r\n    \"egressBytesTransferred\":
        0\r\n  }\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/b380441f-ab59-4f67-81f9-cc76bd9585d5?api-version=2022-07-01
      cache-control:
      - no-cache
      content-length:
      - '3324'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:41:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - ba7bd242-e369-4dc4-994c-9fe7956eb449
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection vpn-site-link-conn ipsec-policy remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gateway-name --connection-name -n --index
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/b380441f-ab59-4f67-81f9-cc76bd9585d5?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:41:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - f0bae058-880a-4003-9b2e-700c01758565
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection vpn-site-link-conn ipsec-policy remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gateway-name --connection-name -n --index
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/b380441f-ab59-4f67-81f9-cc76bd9585d5?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:41:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 345cdfd9-2aa6-4550-82da-1b4060ac17c8
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection vpn-site-link-conn ipsec-policy remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gateway-name --connection-name -n --index
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/b380441f-ab59-4f67-81f9-cc76bd9585d5?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:41:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 51e32716-3dde-44c9-bf81-c36c8afd7fe8
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection vpn-site-link-conn ipsec-policy remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gateway-name --connection-name -n --index
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/b380441f-ab59-4f67-81f9-cc76bd9585d5?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:42:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 26238c15-5248-487f-a606-97d998624b49
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vpn-gateway connection vpn-site-link-conn ipsec-policy remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gateway-name --connection-name -n --index
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection?api-version=2022-07-01
  response:
    body:
      string: "{\r\n  \"name\": \"test_s2s_vpn_gateway_connection\",\r\n  \"id\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection\",\r\n
        \ \"etag\": \"W/\\\"dd7c592c-a543-4f64-9994-496f72460fa1\\\"\",\r\n  \"type\":
        \"Microsoft.Network/vpnGateways/vpnConnections\",\r\n  \"properties\": {\r\n
        \   \"provisioningState\": \"Succeeded\",\r\n    \"routingConfiguration\":
        {\r\n      \"associatedRouteTable\": {\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\"\r\n
        \     },\r\n      \"propagatedRouteTables\": {\r\n        \"labels\": [\r\n
        \         \"label1\",\r\n          \"label2\"\r\n        ],\r\n        \"ids\":
        [\r\n          {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_1\"\r\n
        \         },\r\n          {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/virtualHubs/test_vhub/hubRouteTables/test_vhub_routing_2\"\r\n
        \         }\r\n        ]\r\n      },\r\n      \"vnetRoutes\": {\r\n        \"staticRoutes\":
        []\r\n      }\r\n    },\r\n    \"enableInternetSecurity\": false,\r\n    \"remoteVpnSite\":
        {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1\"\r\n
        \   },\r\n    \"vpnLinkConnections\": [\r\n      {\r\n        \"name\": \"test_s2s_vpn_gateway_connection\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnGateways/test_s2s_vpn_gateway/vpnConnections/test_s2s_vpn_gateway_connection/vpnLinkConnections/test_s2s_vpn_gateway_connection\",\r\n
        \       \"etag\": \"W/\\\"dd7c592c-a543-4f64-9994-496f72460fa1\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"vpnSiteLink\": {\r\n            \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_vwan_vpn_site_link_conn_ipsec_policy000001/providers/Microsoft.Network/vpnSites/remote_vpn_site_1/vpnSiteLinks/remote_vpn_site_1\"\r\n
        \         },\r\n          \"connectionBandwidth\": 10,\r\n          \"ipsecPolicies\":
        [],\r\n          \"vpnConnectionProtocolType\": \"IKEv2\",\r\n          \"ingressBytesTransferred\":
        0,\r\n          \"egressBytesTransferred\": 0,\r\n          \"packetCaptureDiagnosticState\":
        \"None\",\r\n          \"connectionStatus\": \"NotConnected\",\r\n          \"enableBgp\":
        false,\r\n          \"enableRateLimiting\": false,\r\n          \"useLocalAzureIpAddress\":
        false,\r\n          \"usePolicyBasedTrafficSelectors\": false,\r\n          \"routingWeight\":
        0,\r\n          \"dpdTimeoutSeconds\": 0,\r\n          \"vpnLinkConnectionMode\":
        \"Default\",\r\n          \"vpnGatewayCustomBgpAddresses\": []\r\n        },\r\n
        \       \"type\": \"Microsoft.Network/vpnGateways/vpnConnections/vpnLinkConnections\"\r\n
        \     }\r\n    ],\r\n    \"ingressBytesTransferred\": 0,\r\n    \"egressBytesTransferred\":
        0\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3373'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 11 May 2022 04:42:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 7d3786ac-bcb2-4daf-88ca-4fd1966a6ee9
    status:
      code: 200
      message: OK
version: 1
