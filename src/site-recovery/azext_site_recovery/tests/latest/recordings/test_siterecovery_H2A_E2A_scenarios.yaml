interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - site-recovery fabric list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name
      User-Agent:
      - AZURECLI/2.51.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.9.13 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationFabrics?api-version=2022-08-01
  response:
    body:
      string: '{"value":[{"name":"h2asite","type":"Microsoft.RecoveryServices/vaults/replicationFabrics","id":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationFabrics/h2asite","properties":{"friendlyName":"h2asite","encryptionDetails":{"kekState":"None","kekCertThumbprint":null},"rolloverEncryptionDetails":{"kekState":"None","kekCertThumbprint":null},"internalIdentifier":"64ce6c19-40f2-5474-87ef-8ab3eeb12ce2","bcdrState":"Valid","customDetails":{"instanceType":"HyperVSite","hyperVHosts":[{"id":"idclab-a498_fareast_corp_microsoft_com","name":"IDCLAB-A498.fareast.corp.microsoft.com","marsAgentVersion":"2.0.9260.0"}]},"healthErrorDetails":[],"health":"Normal"}},{"name":"b76fc1d0e0c3b667bd38d41f7ce113a878cd9fa29c3eab6642bd0b7698458a2d","type":"Microsoft.RecoveryServices/vaults/replicationFabrics","id":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationFabrics/b76fc1d0e0c3b667bd38d41f7ce113a878cd9fa29c3eab6642bd0b7698458a2d","properties":{"friendlyName":"IDCLAB-A409.fareast.corp.microsoft.com","encryptionDetails":{"kekState":"Enabled","kekCertThumbprint":"1D57865873A015AF091B9EDBE60647D42F23E00E","kekCertExpiryDate":"2026-02-28T14:28:34Z"},"rolloverEncryptionDetails":{"kekState":"Enabled","kekCertThumbprint":null},"internalIdentifier":"9a54cf2c-9ea0-48ca-82e9-70fbff7771e7","bcdrState":"Valid","customDetails":{"instanceType":"VMM"},"healthErrorDetails":[],"health":"Normal"}}],"nextLink":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1606'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Aug 2023 06:38:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - site-recovery vault policy show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --vault-name -n
      User-Agent:
      - AZURECLI/2.51.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.9.13 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationPolicies/cli-test-policy-H2A-E2A-1?api-version=2022-08-01
  response:
    body:
      string: '{"id":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationPolicies/cli-test-policy-H2A-E2A-1","name":"cli-test-policy-H2A-E2A-1","type":"Microsoft.RecoveryServices/vaults/replicationPolicies","properties":{"friendlyName":"cli-test-policy-H2A-E2A-1","providerSpecificDetails":{"instanceType":"HyperVReplicaAzure","recoveryPointHistoryDurationInHours":1,"applicationConsistentSnapshotFrequencyInHours":0,"replicationInterval":24,"encryption":"Disabled","activeStorageAccountId":null}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '587'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Aug 2023 06:38:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - site-recovery fabric protection-container protectable-item list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --fabric-name --protection-container --vault-name
      User-Agent:
      - AZURECLI/2.51.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.9.13 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationFabrics/b76fc1d0e0c3b667bd38d41f7ce113a878cd9fa29c3eab6642bd0b7698458a2d/replicationProtectionContainers/28a7b9eb-c2f9-47e8-91ff-697d0d719963/replicationProtectableItems?api-version=2022-08-01
  response:
    body:
      string: '{"value":[{"id":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationFabrics/b76fc1d0e0c3b667bd38d41f7ce113a878cd9fa29c3eab6642bd0b7698458a2d/replicationProtectionContainers/28a7b9eb-c2f9-47e8-91ff-697d0d719963/replicationProtectableItems/2d54c888-e8c5-4dbe-8c20-c9a7b43069c5","name":"2d54c888-e8c5-4dbe-8c20-c9a7b43069c5","type":"Microsoft.RecoveryServices/vaults/replicationFabrics/replicationProtectionContainers/replicationProtectableItems","properties":{"friendlyName":"A412-Linux","protectionStatus":"Unprotected","replicationProtectedItemId":null,"recoveryServicesProviderId":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationFabrics/b76fc1d0e0c3b667bd38d41f7ce113a878cd9fa29c3eab6642bd0b7698458a2d/replicationRecoveryServicesProviders/9a54cf2c-9ea0-48ca-82e9-70fbff7771e7","protectionReadinessErrors":[],"supportedReplicationProviders":["HyperVReplicaAzure"],"customDetails":{"instanceType":"HyperVVirtualMachine","sourceItemId":"bf194dae-c5bc-48d1-b64e-ff2f7258a7df","generation":"1","osDetails":null,"diskDetails":[{"maxSizeMB":40960,"vhdType":"Data","vhdId":"a040c28d-09bd-465a-898e-ec2dd5fc7e8e","vhdName":"A412-Linux"}],"hasPhysicalDisk":"NotPresent","hasFibreChannelAdapter":"NotPresent","hasSharedVhd":"NotPresent","hyperVHostId":"77f7bec0-b965-49d9-8b30-c4584a0fc9a0"}}},{"id":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationFabrics/b76fc1d0e0c3b667bd38d41f7ce113a878cd9fa29c3eab6642bd0b7698458a2d/replicationProtectionContainers/28a7b9eb-c2f9-47e8-91ff-697d0d719963/replicationProtectableItems/37713ced-bc24-4ff2-82c2-37e45fda5ad1","name":"37713ced-bc24-4ff2-82c2-37e45fda5ad1","type":"Microsoft.RecoveryServices/vaults/replicationFabrics/replicationProtectionContainers/replicationProtectableItems","properties":{"friendlyName":"A409-Vm1","protectionStatus":"Unprotected","replicationProtectedItemId":null,"recoveryServicesProviderId":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationFabrics/b76fc1d0e0c3b667bd38d41f7ce113a878cd9fa29c3eab6642bd0b7698458a2d/replicationRecoveryServicesProviders/9a54cf2c-9ea0-48ca-82e9-70fbff7771e7","protectionReadinessErrors":[],"supportedReplicationProviders":["HyperVReplicaAzure"],"customDetails":{"instanceType":"HyperVVirtualMachine","sourceItemId":"b8547b88-304e-4324-bca4-a4b2f2092a97","generation":"1","osDetails":null,"diskDetails":[{"maxSizeMB":40960,"vhdType":"Data","vhdId":"10cd4bec-42f6-4ecd-82b9-f05be7f47395","vhdName":"A409-Vm1_disk_1"}],"hasPhysicalDisk":"NotPresent","hasFibreChannelAdapter":"NotPresent","hasSharedVhd":"NotPresent","hyperVHostId":"77f7bec0-b965-49d9-8b30-c4584a0fc9a0"}}},{"id":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationFabrics/b76fc1d0e0c3b667bd38d41f7ce113a878cd9fa29c3eab6642bd0b7698458a2d/replicationProtectionContainers/28a7b9eb-c2f9-47e8-91ff-697d0d719963/replicationProtectableItems/4add4421-6e10-40da-b6fd-1d342ac55054","name":"4add4421-6e10-40da-b6fd-1d342ac55054","type":"Microsoft.RecoveryServices/vaults/replicationFabrics/replicationProtectionContainers/replicationProtectableItems","properties":{"friendlyName":"A412-Gen1","protectionStatus":"Unprotected","replicationProtectedItemId":null,"recoveryServicesProviderId":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationFabrics/b76fc1d0e0c3b667bd38d41f7ce113a878cd9fa29c3eab6642bd0b7698458a2d/replicationRecoveryServicesProviders/9a54cf2c-9ea0-48ca-82e9-70fbff7771e7","protectionReadinessErrors":[],"supportedReplicationProviders":["HyperVReplicaAzure"],"customDetails":{"instanceType":"HyperVVirtualMachine","sourceItemId":"2ee88ed6-5164-47b1-aa4e-45ae49ae10da","generation":"1","osDetails":{"osType":"Windows","productType":"VER_NT_SERVER","osEdition":"Datacenter","oSVersion":"10.0","oSMajorVersion":"10","oSMinorVersion":"0"},"diskDetails":[{"maxSizeMB":40960,"vhdType":"Data","vhdId":"2da79f92-a29e-4a78-921d-9b39b46b2d7a","vhdName":"A412-Gen1"}],"hasPhysicalDisk":"NotPresent","hasFibreChannelAdapter":"NotPresent","hasSharedVhd":"NotPresent","hyperVHostId":"77f7bec0-b965-49d9-8b30-c4584a0fc9a0"}}},{"id":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationFabrics/b76fc1d0e0c3b667bd38d41f7ce113a878cd9fa29c3eab6642bd0b7698458a2d/replicationProtectionContainers/28a7b9eb-c2f9-47e8-91ff-697d0d719963/replicationProtectableItems/7c22b7f8-5a22-4b40-a48e-3a07369ca150","name":"7c22b7f8-5a22-4b40-a48e-3a07369ca150","type":"Microsoft.RecoveryServices/vaults/replicationFabrics/replicationProtectionContainers/replicationProtectableItems","properties":{"friendlyName":"A412-Gen2","protectionStatus":"Unprotected","replicationProtectedItemId":null,"recoveryServicesProviderId":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationFabrics/b76fc1d0e0c3b667bd38d41f7ce113a878cd9fa29c3eab6642bd0b7698458a2d/replicationRecoveryServicesProviders/9a54cf2c-9ea0-48ca-82e9-70fbff7771e7","protectionReadinessErrors":[],"supportedReplicationProviders":["HyperVReplicaAzure"],"customDetails":{"instanceType":"HyperVVirtualMachine","sourceItemId":"8f73ec03-6406-4908-9eb1-ed670b8775dc","generation":"2","osDetails":{"osType":"Windows","productType":"VER_NT_SERVER","osEdition":"Datacenter","oSVersion":"10.0","oSMajorVersion":"10","oSMinorVersion":"0"},"diskDetails":[{"maxSizeMB":40960,"vhdType":"Data","vhdId":"6b8ae8e9-3903-4c1c-84d8-021f862256b2","vhdName":"A412-Gen2"}],"hasPhysicalDisk":"NotPresent","hasFibreChannelAdapter":"NotPresent","hasSharedVhd":"NotPresent","hyperVHostId":"77f7bec0-b965-49d9-8b30-c4584a0fc9a0"}}},{"id":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationFabrics/b76fc1d0e0c3b667bd38d41f7ce113a878cd9fa29c3eab6642bd0b7698458a2d/replicationProtectionContainers/28a7b9eb-c2f9-47e8-91ff-697d0d719963/replicationProtectableItems/a5246033-3af5-4905-8889-cfedaeea9540","name":"a5246033-3af5-4905-8889-cfedaeea9540","type":"Microsoft.RecoveryServices/vaults/replicationFabrics/replicationProtectionContainers/replicationProtectableItems","properties":{"friendlyName":"A409-ForAzure-Vm1","protectionStatus":"Unprotected","replicationProtectedItemId":null,"recoveryServicesProviderId":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationFabrics/b76fc1d0e0c3b667bd38d41f7ce113a878cd9fa29c3eab6642bd0b7698458a2d/replicationRecoveryServicesProviders/9a54cf2c-9ea0-48ca-82e9-70fbff7771e7","protectionReadinessErrors":[],"supportedReplicationProviders":["HyperVReplicaAzure"],"customDetails":{"instanceType":"HyperVVirtualMachine","sourceItemId":"fc335dd7-bcf9-4c70-91c8-cfa015dbeede","generation":"1","osDetails":null,"diskDetails":[{"maxSizeMB":40960,"vhdType":"Data","vhdId":"2f32c91d-22df-4054-80bc-1fde2c405612","vhdName":"A409-ForAzure-Vm1_disk_1"}],"hasPhysicalDisk":"NotPresent","hasFibreChannelAdapter":"NotPresent","hasSharedVhd":"NotPresent","hyperVHostId":"77f7bec0-b965-49d9-8b30-c4584a0fc9a0"}}}],"nextLink":"https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationFabrics/b76fc1d0e0c3b667bd38d41f7ce113a878cd9fa29c3eab6642bd0b7698458a2d/replicationProtectionContainers/28a7b9eb-c2f9-47e8-91ff-697d0d719963/replicationProtectableItems?api-version=2022-08-01&$skipToken=ReplicationGroup%3ABegin"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '8152'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Aug 2023 06:38:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - site-recovery fabric protection-container protectable-item list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --fabric-name --protection-container --vault-name
      User-Agent:
      - AZURECLI/2.51.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.9.13 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationFabrics/b76fc1d0e0c3b667bd38d41f7ce113a878cd9fa29c3eab6642bd0b7698458a2d/replicationProtectionContainers/28a7b9eb-c2f9-47e8-91ff-697d0d719963/replicationProtectableItems?api-version=2022-08-01&$skipToken=ReplicationGroup%3ABegin
  response:
    body:
      string: '{"value":[],"nextLink":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '28'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Aug 2023 06:38:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - site-recovery fabric protection-container protectable-item show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --fabric-name --protection-container --vault-name
      User-Agent:
      - AZURECLI/2.51.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.9.13 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationFabrics/b76fc1d0e0c3b667bd38d41f7ce113a878cd9fa29c3eab6642bd0b7698458a2d/replicationProtectionContainers/28a7b9eb-c2f9-47e8-91ff-697d0d719963/replicationProtectableItems/a5246033-3af5-4905-8889-cfedaeea9540?api-version=2022-08-01
  response:
    body:
      string: '{"id":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationFabrics/b76fc1d0e0c3b667bd38d41f7ce113a878cd9fa29c3eab6642bd0b7698458a2d/replicationProtectionContainers/28a7b9eb-c2f9-47e8-91ff-697d0d719963/replicationProtectableItems/a5246033-3af5-4905-8889-cfedaeea9540","name":"a5246033-3af5-4905-8889-cfedaeea9540","type":"Microsoft.RecoveryServices/vaults/replicationFabrics/replicationProtectionContainers/replicationProtectableItems","properties":{"friendlyName":"A409-ForAzure-Vm1","protectionStatus":"Unprotected","replicationProtectedItemId":null,"recoveryServicesProviderId":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CliTeraformVaultRG/providers/Microsoft.RecoveryServices/vaults/clitestingH2A/replicationFabrics/b76fc1d0e0c3b667bd38d41f7ce113a878cd9fa29c3eab6642bd0b7698458a2d/replicationRecoveryServicesProviders/9a54cf2c-9ea0-48ca-82e9-70fbff7771e7","protectionReadinessErrors":[],"supportedReplicationProviders":["HyperVReplicaAzure"],"customDetails":{"instanceType":"HyperVVirtualMachine","sourceItemId":"fc335dd7-bcf9-4c70-91c8-cfa015dbeede","generation":"1","osDetails":null,"diskDetails":[{"maxSizeMB":40960,"vhdType":"Data","vhdId":"2f32c91d-22df-4054-80bc-1fde2c405612","vhdName":"A409-ForAzure-Vm1_disk_1"}],"hasPhysicalDisk":"NotPresent","hasFibreChannelAdapter":"NotPresent","hasSharedVhd":"NotPresent","hyperVHostId":"77f7bec0-b965-49d9-8b30-c4584a0fc9a0"}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1506'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Aug 2023 06:38:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
version: 1
