interactions:
- request:
    body: '{"kind": "Gen1", "location": "westus", "sku": {"capacity": 1, "name": "S1"},
      "properties": {"dataRetentionTime": "P31D", "partitionKeyProperties": [{"name":
      "DeviceId1", "type": "String"}], "storageLimitExceededBehavior": "PauseIngress"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - tsi environment gen1 create
      Connection:
      - keep-alive
      Content-Length:
      - '238'
      Content-Type:
      - application/json
      ParameterSetName:
      - --resource-group --location --name --sku --data-retention-time --partition-key-properties
        --storage-limit-exceeded-behavior
      User-Agent:
      - AZURECLI/2.50.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.9.13 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002?api-version=2020-05-15
  response:
    body:
      string: '{"sku":{"name":"S1","capacity":1},"kind":"Gen1","location":"westus","tags":{"CreatedOnDate":"2023-07-31T07:27:24.7645077Z"},"properties":{"dataRetentionTime":"P31D","partitionKeyProperties":[{"name":"DeviceId1","type":"String"}],"storageLimitExceededBehavior":"PauseIngress","creationTime":"2023-07-31T07:27:25.9199939Z","provisioningState":"Succeeded","dataAccessId":"f4f582ff-1fec-450e-81f8-c3773760f576","dataAccessFqdn":"f4f582ff-1fec-450e-81f8-c3773760f576.env.timeseries.azure.com"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002","name":"cli-test-tsi-env1000002","type":"Microsoft.TimeSeriesInsights/Environments"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '739'
      content-type:
      - application/json
      date:
      - Mon, 31 Jul 2023 07:27:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=48f8229a-efaa-4c48-b7c8-08c675d698ec/eastus2euap/49f76b6d-591b-4711-acde-42d3d9e1a7b1
      x-ms-ratelimit-remaining-subscription-writes:
      - '1194'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - tsi environment show
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.50.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.9.13 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002?api-version=2020-05-15
  response:
    body:
      string: '{"sku":{"name":"S1","capacity":1},"kind":"Gen1","location":"westus","tags":{"CreatedOnDate":"2023-07-31T07:27:24.7645077Z"},"properties":{"dataRetentionTime":"P31D","partitionKeyProperties":[{"name":"DeviceId1","type":"String"}],"storageLimitExceededBehavior":"PauseIngress","creationTime":"2023-07-31T07:27:25.9199939Z","provisioningState":"Succeeded","dataAccessId":"f4f582ff-1fec-450e-81f8-c3773760f576","dataAccessFqdn":"f4f582ff-1fec-450e-81f8-c3773760f576.env.timeseries.azure.com"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002","name":"cli-test-tsi-env1000002","type":"Microsoft.TimeSeriesInsights/Environments"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '739'
      content-type:
      - application/json
      date:
      - Mon, 31 Jul 2023 07:27:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - tsi environment gen1 update
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name --sku
      User-Agent:
      - AZURECLI/2.50.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.9.13 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002?api-version=2020-05-15
  response:
    body:
      string: '{"sku":{"name":"S1","capacity":1},"kind":"Gen1","location":"westus","tags":{"CreatedOnDate":"2023-07-31T07:27:24.7645077Z"},"properties":{"dataRetentionTime":"P31D","partitionKeyProperties":[{"name":"DeviceId1","type":"String"}],"storageLimitExceededBehavior":"PauseIngress","creationTime":"2023-07-31T07:27:25.9199939Z","provisioningState":"Succeeded","dataAccessId":"f4f582ff-1fec-450e-81f8-c3773760f576","dataAccessFqdn":"f4f582ff-1fec-450e-81f8-c3773760f576.env.timeseries.azure.com"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002","name":"cli-test-tsi-env1000002","type":"Microsoft.TimeSeriesInsights/Environments"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '739'
      content-type:
      - application/json
      date:
      - Mon, 31 Jul 2023 07:27:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"kind": "Gen1", "location": "westus", "sku": {"capacity": 2, "name": "S1"},
      "tags": {"CreatedOnDate": "2023-07-31T07:27:24.7645077Z"}, "properties": {"dataRetentionTime":
      "P31D", "partitionKeyProperties": [{"name": "DeviceId1", "type": "String"}],
      "storageLimitExceededBehavior": "PauseIngress"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - tsi environment gen1 update
      Connection:
      - keep-alive
      Content-Length:
      - '297'
      Content-Type:
      - application/json
      ParameterSetName:
      - --resource-group --name --sku
      User-Agent:
      - AZURECLI/2.50.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.9.13 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002?api-version=2020-05-15
  response:
    body:
      string: '{"sku":{"name":"S1","capacity":2},"kind":"Gen1","location":"westus","tags":{"CreatedOnDate":"2023-07-31T07:27:24.7645077Z"},"properties":{"dataRetentionTime":"P31D","partitionKeyProperties":[{"name":"DeviceId1","type":"String"}],"storageLimitExceededBehavior":"PauseIngress","creationTime":"2023-07-31T07:27:25.9199939Z","provisioningState":"Succeeded","dataAccessId":"f4f582ff-1fec-450e-81f8-c3773760f576","dataAccessFqdn":"f4f582ff-1fec-450e-81f8-c3773760f576.env.timeseries.azure.com"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002","name":"cli-test-tsi-env1000002","type":"Microsoft.TimeSeriesInsights/Environments"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '739'
      content-type:
      - application/json
      date:
      - Mon, 31 Jul 2023 07:27:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=48f8229a-efaa-4c48-b7c8-08c675d698ec/eastus2euap/29ef3785-5cca-487f-b54a-a83f3a1d0e9c
      x-ms-ratelimit-remaining-subscription-writes:
      - '1194'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - tsi environment gen1 update
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name --storage-limit-exceeded-behavior
      User-Agent:
      - AZURECLI/2.50.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.9.13 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002?api-version=2020-05-15
  response:
    body:
      string: '{"sku":{"name":"S1","capacity":2},"kind":"Gen1","location":"westus","tags":{"CreatedOnDate":"2023-07-31T07:27:24.7645077Z"},"properties":{"dataRetentionTime":"P31D","partitionKeyProperties":[{"name":"DeviceId1","type":"String"}],"storageLimitExceededBehavior":"PauseIngress","creationTime":"2023-07-31T07:27:25.9199939Z","provisioningState":"Succeeded","dataAccessId":"f4f582ff-1fec-450e-81f8-c3773760f576","dataAccessFqdn":"f4f582ff-1fec-450e-81f8-c3773760f576.env.timeseries.azure.com"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002","name":"cli-test-tsi-env1000002","type":"Microsoft.TimeSeriesInsights/Environments"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '739'
      content-type:
      - application/json
      date:
      - Mon, 31 Jul 2023 07:27:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"kind": "Gen1", "location": "westus", "sku": {"capacity": 2, "name": "S1"},
      "tags": {"CreatedOnDate": "2023-07-31T07:27:24.7645077Z"}, "properties": {"dataRetentionTime":
      "P31D", "partitionKeyProperties": [{"name": "DeviceId1", "type": "String"}],
      "storageLimitExceededBehavior": "PurgeOldData"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - tsi environment gen1 update
      Connection:
      - keep-alive
      Content-Length:
      - '297'
      Content-Type:
      - application/json
      ParameterSetName:
      - --resource-group --name --storage-limit-exceeded-behavior
      User-Agent:
      - AZURECLI/2.50.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.9.13 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002?api-version=2020-05-15
  response:
    body:
      string: '{"error":{"code":"GatewayTimeout","message":"The gateway did not receive
        a response from ''Microsoft.TimeSeriesInsights'' within the specified time
        period."}}'
    headers:
      cache-control:
      - no-cache
      connection:
      - close
      content-length:
      - '156'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 31 Jul 2023 07:27:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - service
    status:
      code: 504
      message: Gateway Timeout
- request:
    body: '{"kind": "Gen1", "location": "westus", "sku": {"capacity": 2, "name": "S1"},
      "tags": {"CreatedOnDate": "2023-07-31T07:27:24.7645077Z"}, "properties": {"dataRetentionTime":
      "P31D", "partitionKeyProperties": [{"name": "DeviceId1", "type": "String"}],
      "storageLimitExceededBehavior": "PurgeOldData"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - tsi environment gen1 update
      Connection:
      - keep-alive
      Content-Length:
      - '297'
      Content-Type:
      - application/json
      ParameterSetName:
      - --resource-group --name --storage-limit-exceeded-behavior
      User-Agent:
      - AZURECLI/2.50.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.9.13 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002?api-version=2020-05-15
  response:
    body:
      string: '{"sku":{"name":"S1","capacity":2},"kind":"Gen1","location":"westus","tags":{"CreatedOnDate":"2023-07-31T07:27:24.7645077Z"},"properties":{"dataRetentionTime":"P31D","partitionKeyProperties":[{"name":"DeviceId1","type":"String"}],"storageLimitExceededBehavior":"PurgeOldData","creationTime":"2023-07-31T07:27:25.9199939Z","provisioningState":"Succeeded","dataAccessId":"f4f582ff-1fec-450e-81f8-c3773760f576","dataAccessFqdn":"f4f582ff-1fec-450e-81f8-c3773760f576.env.timeseries.azure.com"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002","name":"cli-test-tsi-env1000002","type":"Microsoft.TimeSeriesInsights/Environments"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '739'
      content-type:
      - application/json
      date:
      - Mon, 31 Jul 2023 07:27:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=48f8229a-efaa-4c48-b7c8-08c675d698ec/eastus2euap/bfc2fad0-7e94-48cd-acbb-7fdaa24762ef
      x-ms-ratelimit-remaining-subscription-writes:
      - '1194'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - tsi environment gen1 update
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name --storage-limit-exceeded-behavior --sku
      User-Agent:
      - AZURECLI/2.50.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.9.13 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002?api-version=2020-05-15
  response:
    body:
      string: '{"sku":{"name":"S1","capacity":2},"kind":"Gen1","location":"westus","tags":{"CreatedOnDate":"2023-07-31T07:27:24.7645077Z"},"properties":{"dataRetentionTime":"P31D","partitionKeyProperties":[{"name":"DeviceId1","type":"String"}],"storageLimitExceededBehavior":"PurgeOldData","creationTime":"2023-07-31T07:27:25.9199939Z","provisioningState":"Succeeded","dataAccessId":"f4f582ff-1fec-450e-81f8-c3773760f576","dataAccessFqdn":"f4f582ff-1fec-450e-81f8-c3773760f576.env.timeseries.azure.com"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002","name":"cli-test-tsi-env1000002","type":"Microsoft.TimeSeriesInsights/Environments"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '739'
      content-type:
      - application/json
      date:
      - Mon, 31 Jul 2023 07:27:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"kind": "Gen1", "location": "westus", "sku": {"capacity": 1, "name": "S1"},
      "tags": {"CreatedOnDate": "2023-07-31T07:27:24.7645077Z"}, "properties": {"dataRetentionTime":
      "P31D", "partitionKeyProperties": [{"name": "DeviceId1", "type": "String"}],
      "storageLimitExceededBehavior": "PauseIngress"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - tsi environment gen1 update
      Connection:
      - keep-alive
      Content-Length:
      - '297'
      Content-Type:
      - application/json
      ParameterSetName:
      - --resource-group --name --storage-limit-exceeded-behavior --sku
      User-Agent:
      - AZURECLI/2.50.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.9.13 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002?api-version=2020-05-15
  response:
    body:
      string: '{"sku":{"name":"S1","capacity":1},"kind":"Gen1","location":"westus","tags":{"CreatedOnDate":"2023-07-31T07:27:24.7645077Z"},"properties":{"dataRetentionTime":"P31D","partitionKeyProperties":[{"name":"DeviceId1","type":"String"}],"storageLimitExceededBehavior":"PauseIngress","creationTime":"2023-07-31T07:27:25.9199939Z","provisioningState":"Succeeded","dataAccessId":"f4f582ff-1fec-450e-81f8-c3773760f576","dataAccessFqdn":"f4f582ff-1fec-450e-81f8-c3773760f576.env.timeseries.azure.com"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002","name":"cli-test-tsi-env1000002","type":"Microsoft.TimeSeriesInsights/Environments"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '739'
      content-type:
      - application/json
      date:
      - Mon, 31 Jul 2023 07:27:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=48f8229a-efaa-4c48-b7c8-08c675d698ec/eastus2euap/216f1ec2-f81b-4d15-bc2d-37ebe5d79f0e
      x-ms-ratelimit-remaining-subscription-writes:
      - '1194'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - tsi environment gen1 update
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name --tags
      User-Agent:
      - AZURECLI/2.50.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.9.13 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002?api-version=2020-05-15
  response:
    body:
      string: '{"sku":{"name":"S1","capacity":1},"kind":"Gen1","location":"westus","tags":{"CreatedOnDate":"2023-07-31T07:27:24.7645077Z"},"properties":{"dataRetentionTime":"P31D","partitionKeyProperties":[{"name":"DeviceId1","type":"String"}],"storageLimitExceededBehavior":"PauseIngress","creationTime":"2023-07-31T07:27:25.9199939Z","provisioningState":"Succeeded","dataAccessId":"f4f582ff-1fec-450e-81f8-c3773760f576","dataAccessFqdn":"f4f582ff-1fec-450e-81f8-c3773760f576.env.timeseries.azure.com"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002","name":"cli-test-tsi-env1000002","type":"Microsoft.TimeSeriesInsights/Environments"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '739'
      content-type:
      - application/json
      date:
      - Mon, 31 Jul 2023 07:28:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"kind": "Gen1", "location": "westus", "sku": {"capacity": 1, "name": "S1"},
      "tags": {"key1": "value1", "key2": "value2"}, "properties": {"dataRetentionTime":
      "P31D", "partitionKeyProperties": [{"name": "DeviceId1", "type": "String"}],
      "storageLimitExceededBehavior": "PauseIngress"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - tsi environment gen1 update
      Connection:
      - keep-alive
      Content-Length:
      - '284'
      Content-Type:
      - application/json
      ParameterSetName:
      - --resource-group --name --tags
      User-Agent:
      - AZURECLI/2.50.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.9.13 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002?api-version=2020-05-15
  response:
    body:
      string: '{"sku":{"name":"S1","capacity":1},"kind":"Gen1","location":"westus","tags":{"key1":"value1","key2":"value2","CreatedOnDate":"2023-07-31T07:28:01.4394379Z"},"properties":{"dataRetentionTime":"P31D","partitionKeyProperties":[{"name":"DeviceId1","type":"String"}],"storageLimitExceededBehavior":"PauseIngress","creationTime":"2023-07-31T07:27:25.9199939Z","provisioningState":"Succeeded","dataAccessId":"f4f582ff-1fec-450e-81f8-c3773760f576","dataAccessFqdn":"f4f582ff-1fec-450e-81f8-c3773760f576.env.timeseries.azure.com"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002","name":"cli-test-tsi-env1000002","type":"Microsoft.TimeSeriesInsights/Environments"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '771'
      content-type:
      - application/json
      date:
      - Mon, 31 Jul 2023 07:28:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=48f8229a-efaa-4c48-b7c8-08c675d698ec/eastus2euap/39b4a9ea-8414-4282-8296-f9aecd652a1b
      x-ms-ratelimit-remaining-subscription-writes:
      - '1193'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - tsi environment list
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group
      User-Agent:
      - AZURECLI/2.50.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.9.13 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments?api-version=2020-05-15
  response:
    body:
      string: '{"value":[{"sku":{"name":"S1","capacity":1},"kind":"Gen1","location":"westus","tags":{"key1":"value1","key2":"value2","CreatedOnDate":"2023-07-31T07:28:01.4394379Z"},"properties":{"dataRetentionTime":"P31D","partitionKeyProperties":[{"name":"DeviceId1","type":"String"}],"storageLimitExceededBehavior":"PauseIngress","creationTime":"2023-07-31T07:27:25.9199939Z","provisioningState":"Succeeded","dataAccessId":"f4f582ff-1fec-450e-81f8-c3773760f576","dataAccessFqdn":"f4f582ff-1fec-450e-81f8-c3773760f576.env.timeseries.azure.com"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002","name":"cli-test-tsi-env1000002","type":"Microsoft.TimeSeriesInsights/Environments"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '783'
      content-type:
      - application/json
      date:
      - Mon, 31 Jul 2023 07:28:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - tsi environment list
      Connection:
      - keep-alive
      User-Agent:
      - AZURECLI/2.50.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.9.13 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.TimeSeriesInsights/environments?api-version=2020-05-15
  response:
    body:
      string: '{"value":[{"sku":{"name":"S1","capacity":1},"kind":"Gen1","location":"westus","tags":{"CreatedOnDate":"2023-07-31T07:27:24.4287561Z"},"properties":{"dataRetentionTime":"P31D","partitionKeyProperties":[{"name":"DeviceId1","type":"String"}],"storageLimitExceededBehavior":"PauseIngress","creationTime":"2023-07-31T07:27:25.2471126Z","provisioningState":"Deleting","dataAccessId":"bf6f980e-c485-4500-bb1c-d2715b476cce","dataAccessFqdn":"bf6f980e-c485-4500-bb1c-d2715b476cce.env.timeseries.azure.com"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rgi4wewpptxnjlzozxzwcr3ylg3eupom2ikaacp6jeuhak3c6b7aukuy7ltnzczvz563/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-envbrdi5j63","name":"cli-test-tsi-envbrdi5j63","type":"Microsoft.TimeSeriesInsights/Environments"},{"sku":{"name":"S1","capacity":1},"kind":"Gen1","location":"westus","tags":{"CreatedOnDate":"2023-07-31T07:00:51.9135961Z"},"properties":{"dataRetentionTime":"P31D","partitionKeyProperties":[{"name":"DeviceId1","type":"String"}],"storageLimitExceededBehavior":"PauseIngress","creationTime":"2023-07-31T07:00:52.9345897Z","provisioningState":"Succeeded","dataAccessId":"2f8b095a-ff34-4dae-92e0-98d61ee10d86","dataAccessFqdn":"2f8b095a-ff34-4dae-92e0-98d61ee10d86.env.timeseries.azure.com"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg6lfiy2nshcchbpsye5zwl7vtcrbymfgbxpbug2juwcgyvcmarsmirwbibbzbhbaaog/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-envjkea27as","name":"cli-test-tsi-envjkea27as","type":"Microsoft.TimeSeriesInsights/Environments"},{"sku":{"name":"S1","capacity":1},"kind":"Gen1","location":"westus","tags":{"CreatedOnDate":"2023-07-31T06:49:18.3300024Z"},"properties":{"dataRetentionTime":"P31D","partitionKeyProperties":[{"name":"DeviceId1","type":"String"}],"storageLimitExceededBehavior":"PauseIngress","creationTime":"2023-07-31T06:49:19.3953945Z","provisioningState":"Succeeded","dataAccessId":"16aeda53-c29b-4769-960f-989ea6b0d1a9","dataAccessFqdn":"16aeda53-c29b-4769-960f-989ea6b0d1a9.env.timeseries.azure.com"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rgbeeggxzeys7wlo6eag6uwu3eqn4krcyvg7lzufiipba7e2ju5b4kyjgzv25ny3ucdj/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-envy3szfbyu","name":"cli-test-tsi-envy3szfbyu","type":"Microsoft.TimeSeriesInsights/Environments"},{"sku":{"name":"L1","capacity":1},"kind":"Gen2","location":"WestUs","tags":{"CreatedOnDate":"2023-07-31T07:27:53.0099329Z"},"properties":{"storageConfiguration":{"accountName":"clitestvg44ihxubedjhtdn4"},"timeSeriesIdProperties":[{"name":"DeviceId1","type":"String"}],"warmStoreConfiguration":{"dataRetention":"P30D"},"creationTime":"2023-07-31T07:27:54.2711052Z","provisioningState":"Updating","dataAccessId":"bada1eaa-69a7-45db-99e7-35de16ed9236","dataAccessFqdn":"bada1eaa-69a7-45db-99e7-35de16ed9236.env.timeseries.azure.com"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rgxshupzkza3ni2wjbwobpbyen4awvj3z5ejgxm3fztmrf2rvqcy7o7vxsy7i7ylbbhf/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env2hd5qk2y","name":"cli-test-tsi-env2hd5qk2y","type":"Microsoft.TimeSeriesInsights/Environments"},{"sku":{"name":"S1","capacity":1},"kind":"Gen1","location":"westus","tags":{"CreatedOnDate":"2023-07-31T07:27:47.7523480Z"},"properties":{"dataRetentionTime":"P31D","partitionKeyProperties":[{"name":"DeviceId1","type":"String"}],"storageLimitExceededBehavior":"PauseIngress","creationTime":"2023-07-31T07:27:48.3518804Z","provisioningState":"Succeeded","dataAccessId":"e97cb44e-d48f-4343-9b8d-f57533419c6a","dataAccessFqdn":"e97cb44e-d48f-4343-9b8d-f57533419c6a.env.timeseries.azure.com"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rgryzyfz4deavvouah6bpq433hr6itpujnhi7gbdokr53j33ifw2tomw4fqrzpef6sk3/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-envstksir3s","name":"cli-test-tsi-envstksir3s","type":"Microsoft.TimeSeriesInsights/Environments"},{"sku":{"name":"S1","capacity":1},"kind":"Gen1","location":"westus","tags":{"key1":"value1","key2":"value2","CreatedOnDate":"2023-07-31T07:28:01.4394379Z"},"properties":{"dataRetentionTime":"P31D","partitionKeyProperties":[{"name":"DeviceId1","type":"String"}],"storageLimitExceededBehavior":"PauseIngress","creationTime":"2023-07-31T07:27:25.9199939Z","provisioningState":"Succeeded","dataAccessId":"f4f582ff-1fec-450e-81f8-c3773760f576","dataAccessFqdn":"f4f582ff-1fec-450e-81f8-c3773760f576.env.timeseries.azure.com"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002","name":"cli-test-tsi-env1000002","type":"Microsoft.TimeSeriesInsights/Environments"},{"sku":{"name":"S1","capacity":1},"kind":"Gen1","location":"westus","tags":null,"properties":{"dataRetentionTime":"P31D","partitionKeyProperties":[{"name":"DeviceId1","type":"String"}],"storageLimitExceededBehavior":"PauseIngress","creationTime":"2023-07-31T07:27:47.3207683Z","provisioningState":"Succeeded","dataAccessId":"94b80347-990e-4c15-87cb-7bffad88795b","dataAccessFqdn":"94b80347-990e-4c15-87cb-7bffad88795b.env.timeseries.azure.com"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg7vs5homaobwqznzcfkut7qv2jgwdwetgi3im3yolnvxulgexlc27fasj2wnclwbtbw/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env2lry5d5z","name":"cli-test-tsi-env2lry5d5z","type":"Microsoft.TimeSeriesInsights/Environments"},{"sku":{"name":"S1","capacity":1},"kind":"Gen1","location":"westus","tags":{"CreatedOnDate":"2023-07-28T08:14:38.9892186Z"},"properties":{"dataRetentionTime":"P31D","partitionKeyProperties":[{"name":"DeviceId1","type":"String"}],"storageLimitExceededBehavior":"PauseIngress","creationTime":"2023-07-28T08:14:39.9225287Z","provisioningState":"Succeeded","dataAccessId":"d26ce453-1b2c-471b-b9ba-1d571c15a54a","dataAccessFqdn":"d26ce453-1b2c-471b-b9ba-1d571c15a54a.env.timeseries.azure.com"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rgg74me3vkpxx5yjl/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1uasqdcx","name":"cli-test-tsi-env1uasqdcx","type":"Microsoft.TimeSeriesInsights/Environments"},{"sku":{"name":"S1","capacity":1},"kind":"Gen1","location":"westus","tags":{"CreatedOnDate":"2023-07-28T07:02:04.9415652Z"},"properties":{"dataRetentionTime":"P31D","partitionKeyProperties":[{"name":"DeviceId1","type":"String"}],"storageLimitExceededBehavior":"PauseIngress","creationTime":"2023-07-28T07:02:05.8497168Z","provisioningState":"Succeeded","dataAccessId":"d337f4c8-8fe6-4039-99ff-62a136430320","dataAccessFqdn":"d337f4c8-8fe6-4039-99ff-62a136430320.env.timeseries.azure.com"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rggtucawkoyy3b2be77l5odihdusekkhyqfwgjpbu23fbzda2fkgbc455ujgfcmmmjtr/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env3klwclur","name":"cli-test-tsi-env3klwclur","type":"Microsoft.TimeSeriesInsights/Environments"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '7145'
      content-type:
      - application/json
      date:
      - Mon, 31 Jul 2023 07:28:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - tsi environment delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --resource-group --name --yes
      User-Agent:
      - AZURECLI/2.50.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.9.13 (Windows-10-10.0.19045-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments/cli-test-tsi-env1000002?api-version=2020-05-15
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 31 Jul 2023 07:28:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14995'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - tsi environment list
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group
      User-Agent:
      - AZURECLI/2.50.0 (PIP) (AAZ) azsdk-python-core/1.26.0 Python/3.9.13 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitsi.rg000001/providers/Microsoft.TimeSeriesInsights/environments?api-version=2020-05-15
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 31 Jul 2023 07:28:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
version: 1
