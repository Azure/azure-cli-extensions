# --------------------------------------------------------------------------
# Copyright (c) Microsoft Corporation. All rights reserved.
# Licensed under the MIT License. See License.txt in the project root for
# license information.
#
# Code generated by Microsoft (R) AutoRest Code Generator.
# Changes may cause incorrect behavior and will be lost if the code is
# regenerated.
# --------------------------------------------------------------------------

import os
from azure.cli.testsdk import ScenarioTest
from .. import try_manual, raise_if


TEST_DIR = os.path.abspath(os.path.join(os.path.abspath(__file__), '..'))


@try_manual
def setup(test):
    pass


# EXAMPLE: /Subscription/put/CreateAlias
@try_manual
def step__subscription_put_createalias(test):
    test.cmd('az account subscription create '
             '--alias-name "aliasForNewSub" '
             '--properties billing-scope="/providers/Microsoft.Billing/billingAccounts/e879cf0f-2b4d-5431-109a-f72fc986'
             '8693:024cabf4-7321-4cf9-be59-df0c77ca51de_2019-05-31/billingProfiles/PE2Q-NOIT-BG7-TGB/invoiceSections/MT'
             'T4-OBS7-PJA-TGB" display-name="Contoso MCA subscription" workload-type="Production"',
             checks=[])


# EXAMPLE: /Subscription/get/GetAlias
@try_manual
def step__subscription_get_getalias(test):
    test.cmd('az account subscription get-alias '
             '--alias-name "aliasForNewSub"',
             checks=[])


# EXAMPLE: /Subscription/get/GetAlias
@try_manual
def step__subscription_get_getalias(test):
    test.cmd('az account subscription get-alias '
             '--alias-name "aliasForNewSub"',
             checks=[])


# EXAMPLE: /Subscription/post/cancelSubscription
@try_manual
def step__subscription_post_cancelsubscription(test):
    test.cmd('az account subscription cancel '
             '--subscription-id "83aa47df-e3e9-49ff-877b-94304bf3d3ad"',
             checks=[])


# EXAMPLE: /Subscription/post/createSubscription
@try_manual
def step__subscription_post_createsubscription(test):
    test.cmd('az account subscription create-csp-subscription '
             '--billing-account-name "2bc54a6f-8d8a-5be1-5bff-bb4f285f512b:11a72812-d9a4-446e-9a1e-70c8bcadf5c0_2019-05'
             '-31" '
             '--display-name "Contoso MCA subscription" '
             '--sku-id "0001" '
             '--customer-name "e33ba30d-3718-4b15-bfaa-5627a57cda6f"',
             checks=[])


# EXAMPLE: /Subscription/post/createSubscription
@try_manual
def step__subscription_post_createsubscription(test):
    test.cmd('az account subscription create-csp-subscription '
             '--billing-account-name "2bc54a6f-8d8a-5be1-5bff-bb4f285f512b:11a72812-d9a4-446e-9a1e-70c8bcadf5c0_2019-05'
             '-31" '
             '--display-name "Contoso MCA subscription" '
             '--sku-id "0001" '
             '--customer-name "e33ba30d-3718-4b15-bfaa-5627a57cda6f"',
             checks=[])


# EXAMPLE: /Subscription/post/createSubscription
@try_manual
def step__subscription_post_createsubscription(test):
    test.cmd('az account subscription create-csp-subscription '
             '--billing-account-name "2bc54a6f-8d8a-5be1-5bff-bb4f285f512b:11a72812-d9a4-446e-9a1e-70c8bcadf5c0_2019-05'
             '-31" '
             '--display-name "Contoso MCA subscription" '
             '--sku-id "0001" '
             '--customer-name "e33ba30d-3718-4b15-bfaa-5627a57cda6f"',
             checks=[])


# EXAMPLE: /Subscription/post/enableSubscription
@try_manual
def step__subscription_post_enablesubscription(test):
    test.cmd('az account subscription enable '
             '--subscription-id "7948bcee-488c-47ce-941c-38e20ede803d"',
             checks=[])


# EXAMPLE: /Subscription/post/renameSubscription
@try_manual
def step__subscription_post_renamesubscription(test):
    test.cmd('az account subscription rename '
             '--name "{Test Sub}" '
             '--subscription-id "83aa47df-e3e9-49ff-877b-94304bf3d3ad"',
             checks=[])


# EXAMPLE: /SubscriptionOperation/get/getPendingSubscriptionOperations
@try_manual
def step__subscriptionoperation_get_getpendingsubscriptionoperations(test):
    test.cmd('az account subscription-operation show '
             '--operation-id "e4b8d068-f574-462a-a76f-6fa0afc613c9"',
             checks=[])


# EXAMPLE: /Subscriptions/get/getSubscription
@try_manual
def step__subscriptions_get_getsubscription(test):
    test.cmd('az account subscription show '
             '--subscription-id "83aa47df-e3e9-49ff-877b-94304bf3d3ad"',
             checks=[])


# EXAMPLE: /Subscriptions/get/listLocations
@try_manual
def step__subscriptions_get_listlocations(test):
    test.cmd('az account subscription list-location '
             '--subscription-id "83aa47df-e3e9-49ff-877b-94304bf3d3ad"',
             checks=[])


# EXAMPLE: /Subscriptions/get/listSubscriptions
@try_manual
def step__subscriptions_get_listsubscriptions(test):
    test.cmd('az account subscription list',
             checks=[])


# EXAMPLE: /Tenants/get/listTenants
@try_manual
def step__tenants_get_listtenants(test):
    test.cmd('az account tenant list',
             checks=[])


# EXAMPLE: /Subscription/delete/DeleteAlias
@try_manual
def step__subscription_delete_deletealias(test):
    test.cmd('az account subscription delete '
             '--alias-name "aliasForNewSub"',
             checks=[])


@try_manual
def cleanup(test):
    pass


@try_manual
def call_scenario(test):
    setup(test)
    step__subscription_put_createalias(test)
    step__subscription_get_getalias(test)
    step__subscription_get_getalias(test)
    step__subscription_post_cancelsubscription(test)
    step__subscription_post_createsubscription(test)
    step__subscription_post_createsubscription(test)
    step__subscription_post_createsubscription(test)
    step__subscription_post_enablesubscription(test)
    step__subscription_post_renamesubscription(test)
    step__subscriptionoperation_get_getpendingsubscriptionoperations(test)
    step__subscriptions_get_getsubscription(test)
    step__subscriptions_get_listlocations(test)
    step__subscriptions_get_listsubscriptions(test)
    step__tenants_get_listtenants(test)
    step__subscription_delete_deletealias(test)
    cleanup(test)


@try_manual
class SubscriptionClientScenarioTest(ScenarioTest):

    def test_account(self):

        self.kwargs.update({
            'Test Sub': 'Test Sub',
        })

        call_scenario(self)
        raise_if()
