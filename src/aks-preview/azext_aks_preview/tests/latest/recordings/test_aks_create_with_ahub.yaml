interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aks create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name --location --dns-name-prefix --node-count --generate-ssh-keys
        --windows-admin-username --windows-admin-password --service-principal --client-secret
        --load-balancer-sku --vm-set-type --network-plugin --enable-ahub
      User-Agent:
      - python/3.8.6 (macOS-10.15.7-x86_64-i386-64bit) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-resource/10.2.0 Azure-SDK-For-Python AZURECLI/2.13.0
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest000001?api-version=2020-06-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest000001","name":"clitest000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","date":"2020-11-04T01:33:45Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '313'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 04 Nov 2020 01:33:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "properties": {"kubernetesVersion": "", "dnsPrefix":
      "cliaksdns000002", "agentPoolProfiles": [{"count": 1, "vmSize": "Standard_DS2_v2",
      "osType": "Linux", "type": "VirtualMachineScaleSets", "mode": "System", "enableNodePublicIP":
      false, "scaleSetPriority": "Regular", "scaleSetEvictionPolicy": "Delete", "name":
      "nodepool1"}], "linuxProfile": {"adminUsername": "azureuser", "ssh": {"publicKeys":
      [{"keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDEbjLa8BTCDuW1DgjYugxeygM30l6HaPoOTL/HD2WvqwkJbNDLmbxYKL9AMWxzA8OlhX2tx/ehapctLeQb64bh8jkVnUwWVYAxWQGsfDl4f8/NgVXp4fFrmuiTTTkypzMD/8BURJfV4KX4jk/cjogrEg4KKUsnnNmQoIeuTc5f4dTE3TGXdf7GZGJfHT0f8gbu7CDLkTkCnCXJy+PAvimL3nWn6uNG3KxMh08Hqm6VPbBziWBlyO3O0WThAKBTEUb9qnj9+eNH0Q4CH4ST5y4sJVXIF7vCuEw9+AE9pZWAkv3SObcZqMI8jY0JwBRenUjW29M8+8yGGG+GFfQFsBYZ
      hbc@gondor\n"}]}}, "windowsProfile": {"adminUsername": "azureuser1", "adminPassword":
      "replace-Password1234$", "licenseType": "Windows_Server"}, "servicePrincipalProfile":
      {"clientId": "clitest000002", "secret": "xYmu512d_5dRxvVP~V_c11U.6GGyCJwkgV"},
      "addonProfiles": {}, "enableRBAC": true, "enablePodSecurityPolicy": false, "networkProfile":
      {"networkPlugin": "azure", "outboundType": "loadBalancer", "loadBalancerSku":
      "standard"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aks create
      Connection:
      - keep-alive
      Content-Length:
      - '1262'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --resource-group --name --location --dns-name-prefix --node-count --generate-ssh-keys
        --windows-admin-username --windows-admin-password --service-principal --client-secret
        --load-balancer-sku --vm-set-type --network-plugin --enable-ahub
      User-Agent:
      - python/3.8.6 (macOS-10.15.7-x86_64-i386-64bit) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-containerservice/4.4.6 Azure-SDK-For-Python AZURECLI/2.13.0
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest000001/providers/Microsoft.ContainerService/managedClusters/cliakstest000001?api-version=2020-11-01
  response:
    body:
      string: '{"error":{"code":"NoRegisteredProviderFound","message":"No registered
        resource provider found for location ''westus2'' and API version ''2020-11-01''
        for type ''managedClusters''. The supported api-versions are ''2017-08-31,
        2018-03-31, 2018-08-01-preview, 2019-02-01, 2019-04-01, 2019-06-01, 2019-08-01,
        2019-10-01, 2019-11-01, 2020-01-01, 2020-02-01, 2020-03-01, 2020-04-01, 2020-06-01,
        2020-07-01, 2020-09-01''. The supported locations are ''westcentralus, eastus,
        westeurope, francecentral, francesouth, centralus, canadacentral, canadaeast,
        uksouth, westus, westus2, australiaeast, australiacentral, northeurope, japaneast,
        japanwest, eastus2, southcentralus, northcentralus, southeastasia, australiasoutheast,
        ukwest, southindia, centralindia, eastasia, koreasouth, koreacentral, southafricanorth,
        brazilsouth, brazilsoutheast, germanynorth, switzerlandnorth, switzerlandwest,
        germanywestcentral, uaenorth, uaecentral, norwayeast, norwaywest''."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '943'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 04 Nov 2020 01:33:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 400
      message: Bad Request
version: 1
