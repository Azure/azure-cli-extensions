interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aks create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name --enable-addons --dns-zone-resource-id -o
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.9.12 (macOS-12.4-x86_64-i386-64bit)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest000001","name":"clitest000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","date":"2022-05-25T02:50:55Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '305'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 May 2022 02:50:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "identity": {"type": "SystemAssigned"}, "properties":
      {"kubernetesVersion": "", "dnsPrefix": "cliakstest-clitestdsyipi5gr-8ecadf",
      "agentPoolProfiles": [{"count": 3, "vmSize": "Standard_DS2_v2", "workloadRuntime":
      "OCIContainer", "osType": "Linux", "enableAutoScaling": false, "type": "VirtualMachineScaleSets",
      "mode": "System", "enableNodePublicIP": false, "scaleSetPriority": "Regular",
      "scaleSetEvictionPolicy": "Delete", "spotMaxPrice": -1.0, "enableEncryptionAtHost":
      false, "enableUltraSSD": false, "enableFIPS": false, "name": "nodepool1"}],
      "linuxProfile": {"adminUsername": "azureuser", "ssh": {"publicKeys": [{"keyData":
      "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDgtJLw9Oj64Vk/Lng/u+4hX+XtwOWkrdDo9DQXPDe7wLF6GQVI3PVa0QT/IVjxKglJA4K6lr82XSFcyMLCye6zomkV4prAhSE3vzsP/pQNgQZyytrtJpqu+VWFFIJYvBZXvOnVNdb5cK2AI6uVDoSHZiu4qDGA8qJII78Zn62WUaClQ5JV1sQowK5FWJHcIlxuCqpsINTdyepz+YHwy428pq1kPaQ+Es3BAzO8uCtmej3VeDcOtdOHE8TrFIazehP3w0VOviyaNXFV8BTGjScv+GAkxuLLJzzBAv1CZvWXxsQAZHlCbCALE6nRJ9BDg4QVJUG5szJOZX6vEnNqc0C2uW5y7HQ57VcvrPVuYDpa8ZWm2HtbEeEHQQduQDtOgbTEJ33RclUyp+3xrpkXDCfMNej0RXd9F+Xw6eowIBUVXgXCZfe2OvhjX2qt+4IvkO8/vsyxv0CyDzj8PptgAHbj0lTCpjIsRb6tSas6psFWpW3MJP4g/J1Y3nxgJPjcUcs=
      yizhang5@microsoft.com\n"}]}}, "addonProfiles": {}, "enableRBAC": true, "enablePodSecurityPolicy":
      false, "networkProfile": {"networkPlugin": "kubenet", "podCidr": "10.244.0.0/16",
      "serviceCidr": "10.0.0.0/16", "dnsServiceIP": "10.0.0.10", "dockerBridgeCidr":
      "172.17.0.1/16", "outboundType": "loadBalancer", "loadBalancerSku": "standard"},
      "disableLocalAccounts": false, "storageProfile": {}, "ingressProfile": {"webAppRouting":
      {"enabled": true, "dnsZoneResourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/notexist/providers/Microsoft.Network/dnsZones/notexist.com--ssh-key-value=/var/folders/3d/dt4p_8b9553161l9n8bwt5x40000gn/T/tmp8hgcjqsx"}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aks create
      Connection:
      - keep-alive
      Content-Length:
      - '1886'
      Content-Type:
      - application/json
      ParameterSetName:
      - --resource-group --name --enable-addons --dns-zone-resource-id -o
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-containerservice/19.0.0b Python/3.9.12
        (macOS-12.4-x86_64-i386-64bit)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest000001/providers/Microsoft.ContainerService/managedClusters/cliakstest000002?api-version=2022-04-02-preview
  response:
    body:
      string: "{\n  \"code\": \"BadRequest\",\n  \"message\": \"The Azure DNS Zone
        '/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/notexist/providers/Microsoft.Network/dnsZones/notexist.com--ssh-key-value=/var/folders/3d/dt4p_8b9553161l9n8bwt5x40000gn/T/tmp8hgcjqsx'
        does not exist\",\n  \"subcode\": \"WebAppRoutingDNSZoneNotFound\"\n }"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '326'
      content-type:
      - application/json
      date:
      - Wed, 25 May 2022 02:51:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - nginx
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 400
      message: Bad Request
version: 1
