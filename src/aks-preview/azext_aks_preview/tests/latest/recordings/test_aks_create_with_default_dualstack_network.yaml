interactions:
- request:
    body: '{"location": "westus2", "identity": {"type": "SystemAssigned"}, "properties":
      {"kubernetesVersion": "", "dnsPrefix": "cliakstest-clitestktbuotzye-9229c7",
      "agentPoolProfiles": [{"count": 3, "vmSize": "Standard_DS2_v2", "workloadRuntime":
      "OCIContainer", "osType": "Linux", "enableAutoScaling": false, "type": "VirtualMachineScaleSets",
      "mode": "System", "enableNodePublicIP": false, "scaleSetPriority": "Regular",
      "scaleSetEvictionPolicy": "Delete", "spotMaxPrice": -1.0, "enableEncryptionAtHost":
      false, "enableUltraSSD": false, "enableFIPS": false, "name": "nodepool1"}],
      "linuxProfile": {"adminUsername": "azureuser", "ssh": {"publicKeys": [{"keyData":
      "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDzquFo3w905E2UjYjn9+2BrMFyHZxAjPTXqMdRqhfuFLdYppSvU4zvyj2HwOLvKjXp2Fq/oYSFWcp03eI7krlRO5QRXAuc3JU5UfUgaaQCy2V6hLxdjH0qxB/CK9xV53aimv2kxe6KUhWaVWtWUCvXo7YDr+Mron1tYReW0a31q36rU+spH39Cq/WRTfcnctyNeAu6Inebv+owj5lOtKMIUVDZhJ3xzLsdSbomXSlW57jYbZazDWxxMITs6umfmAtaWtUIGnT3G+P0nEof8IQPxIhWM1PzmMy80oPIIJ12KbicccjpcBWagr6qedQc4bmyxhgZZZkVg8MGMjSBwoLJbJ+a2XI3OEoQ1qobcbL3pb+XGK4rCt1ZzYZTyvI69U7G99oOngAtNvKpvf72L+hJK6MGcBW2YrbSwu9TVxPzoi2jaXYyYYnG647MjkNFYVjmjNzi+hei1oEe/Qw2lYP1WcjSRjRH6cUPV6aA1PKiIXvT0FMmwg+Qmd6oiDB/hyc=
      tyler@DESKTOP-QP5JCAT\n"}]}}, "addonProfiles": {}, "enableRBAC": true, "enablePodSecurityPolicy":
      false, "networkProfile": {"networkPlugin": "kubenet", "podCidr": "10.244.0.0/16",
      "serviceCidr": "10.0.0.0/16", "outboundType": "loadBalancer", "loadBalancerSku":
      "standard", "loadBalancerProfile": {"managedOutboundIPs": {"count": 1, "countIPv6":
      3}, "allocatedOutboundPorts": 0, "idleTimeoutInMinutes": 30}, "podCidrs": ["10.244.0.0/16",
      "2001:abcd::/64"], "serviceCidrs": ["10.0.0.0/16", "2001:ffff::/108"], "ipFamilies":
      ["IPv4", "IPv6"]}, "disableLocalAccounts": false}}'
    headers:
      AKSHTTPCustomFeatures:
      - Microsoft.ContainerService/AKS-EnableDualStack
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aks create
      Connection:
      - keep-alive
      Content-Length:
      - '1782'
      Content-Type:
      - application/json
      ParameterSetName:
      - --resource-group --name --location --ip-families --pod-cidr --service-cidr
        --pod-cidrs --service-cidrs --load-balancer-managed-outbound-ipv6-count --network-plugin
        --aks-custom-headers
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-containerservice/16.4.0 Python/3.8.10
        (Linux-5.10.60.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest000001/providers/Microsoft.ContainerService/managedClusters/cliakstest000001?api-version=2021-10-01
  response:
    body:
      string: "{\n  \"code\": \"DualStackNotAllowedInLocation\",\n  \"message\": \"Dual-stack
        clusters are not available in this region.\"\n }"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '116'
      content-type:
      - application/json
      date:
      - Wed, 01 Dec 2021 20:02:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - nginx
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 400
      message: Bad Request
version: 1
