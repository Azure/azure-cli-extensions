# --------------------------------------------------------------------------------------------
# Copyright (c) Microsoft Corporation. All rights reserved.
# Licensed under the MIT License. See License.txt in the project root for license information.
#
# Code generated by aaz-dev-tools
# --------------------------------------------------------------------------------------------
import os

from azure.cli.testsdk import *

TEST_DIR = os.path.abspath(os.path.join(os.path.abspath(__file__), '..'))


class MulticloudConnectorScenario(ScenarioTest):
    @ResourceGroupPreparer()
    def test_public_cloud_connector_pcc_create(self, resource_group):
        self.kwargs.update({
            'name': 'testConnector',
            'rg': resource_group,
            'sub': self.get_subscription_id(),
            'loc': 'eastus',
        })

        self.cmd(
            'arc-multicloud public-cloud-connector create '
            '--name {name} '
            '--resource-group {rg} '
            '--subscription {sub} '
            '--host-type AWS '
            '--aws-cloud-profile accountId=\"471112500375\" '
            '--location {loc}',
            checks=[self.check('name', 'testConnector'),
                    self.check('type', 'microsoft.hybridconnectivity/publiccloudconnectors')]
        )

    # @ResourceGroupPreparer()
    # def test_public_cloud_connector_pcc_test_permission(self, resource_group):
    #     self.kwargs.update({
    #         'name': 'testConnector',
    #         'rg': resource_group,
    #         'sub': self.get_subscription_id()
    #     })
    #
    #     self.cmd(
    #         'hybrid-connectivity public-cloud-connector test-permission '
    #         '--name {name} '
    #         '--resource-group {rg} '
    #         '--subscription {sub}',
    #         checks=[self.check('status', 'Succeeded')]
    #     )
