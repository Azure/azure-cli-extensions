interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - connectedmachine show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.32.0 azsdk-python-mgmt-hybridcompute/1.0.0b1 Python/3.10.2 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/DorothysSurface?api-version=2022-03-10&$expand=instanceView
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/DorothysSurface","name":"DorothysSurface","location":"eastus2euap","tags":{},"identity":{"type":"SystemAssigned","principalId":"4353a0a9-f37e-4979-9bc7-cf328661b146","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"type":"Microsoft.HybridCompute/machines","properties":{"provisioningState":"Succeeded","agentVersion":"1.17.01931.201","status":"Connected","lastStatusChange":"2022-04-28T16:54:49.5798585Z","errorDetails":[],"displayName":"DorothysSurface","machineFqdn":"DorothysSurface","osName":"windows","osVersion":"10.0.19044.1586","osType":"windows","osProfile":{"computerName":"DorothysSurface"},"vmId":"11e86833-2e07-4c37-94d3-3c903b287bf7","vmUuid":"2883CCA3-7EE6-60E9-A204-97718B655D1D","clientPublicKey":"MIIBCgKCAQEAqEd7f6jsvabDyMVf5MbMfxcZ70HQQLIWT7tCiXIJOpuOD6gHNHm/ogbHboP35U471wSVCd1sLlW8dKJLCsz8rBSdUD75xe4nkQl3sMtRQTXN3WwOOp9tipFjToINZC1FklnVfD4E3QOfbvGh/8HnGtXipnWC7dfHOKTwketWTD7rUL2VsPczC9ck6i3DJBRQosEysrhIwpzOzHJSibXMkIXoJWdCKsFrXrK8WC6D1UZNW672E2Hdj1GW2vc5c7+ZUXTgLL2cwfCa8WvPxcoeQNch5HcfmpyZ1vOdok4Nr3dCwZAffH0rQ2Pbd9SOzgMlKTzirksrkXOeXrzADMQt8wIDAQAB","osSku":"Windows
        10 Enterprise","domainName":"WORKGROUP","adFqdn":"DorothysSurface","dnsFqdn":"DorothysSurface","mssqlDiscovered":"false","cloudMetadata":{"provider":"N/A"},"detectedProperties":{"cloudprovider":"N/A","manufacturer":"Microsoft
        Corporation","model":"Surface Book 2","mssqldiscovered":"false"},"agentConfiguration":{"proxyUrl":"","incomingConnectionsPorts":[],"extensionsAllowList":[],"extensionsBlockList":[],"proxyBypass":[],"extensionsEnabled":"true","guestConfigurationEnabled":"true"},"serviceStatuses":{"extensionService":{"status":"running","startupType":"automatic"},"guestConfigurationService":{"status":"running","startupType":"automatic"}}},"resources":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1890'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 28 Apr 2022 17:44:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - connectedmachine list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g
      User-Agent:
      - AZURECLI/2.32.0 azsdk-python-mgmt-hybridcompute/1.0.0b1 Python/3.10.2 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines?api-version=2022-03-10
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/dorothylinux2-Virtual-Machine","name":"dorothylinux2-Virtual-Machine","location":"eastus2euap","tags":{},"identity":{"type":"SystemAssigned","principalId":"5ce02094-bd55-44ba-b1e4-2d56b6a6ba69","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"type":"Microsoft.HybridCompute/machines","properties":{"provisioningState":"Succeeded","agentVersion":"1.7.21162.005","status":"Expired","lastStatusChange":"2021-09-30T06:14:01.8555779Z","errorDetails":[],"displayName":"dorothylinux2-Virtual-Machine","machineFqdn":"dorothylinux2-Virtual-Machine","osName":"linux","osVersion":"5.8.0-59-generic","osType":"linux","osProfile":{"computerName":"dorothylinux2-Virtual-Machine","linuxConfiguration":{"patchSettings":{"assessmentMode":"null"}}},"vmId":"8948ef10-f369-471d-b363-8e2ff44614ca","vmUuid":"80f26cf0-d9a7-4637-a2ff-587bd51626fc","clientPublicKey":"MIIBCgKCAQEAukhdoNaMfaHRGP6MvgdWdyefHdET/mV0J3NdpMU+LFRE5IWwZxG+mGOb2lK3dsgX6HenWyRiumC2BMDX6RuLfRuscZw+HT/W4W/9ScDxbD18o4vECD7DmiFmIs4iPaF8GLTjO2fJzjAl59k7nblfr38SexA8EKo5WqG2LFhbT6CAXtBMPtWebWeZCQ3uXCri8838nDtqhQtqY6Efg4A2sEV9s4Mk7LjINpzcVuPYdvxcFngM22hixUawE9GH8UKIV5XF+/c8xk1b1fvUGizf+sNbgSMZFyJ3Vgg5ne5ibepxyR3WBtmvd3L/mF1negSh/5h9QQKTt7djeUYCb+ztjwIDAQAB","osSku":"Ubuntu
        20.04 LTS","domainName":"unknown","adFqdn":"unknown","dnsFqdn":"dorothylinux2-Virtual-Machine","mssqlDiscovered":"false","detectedProperties":{"cloudprovider":"N/A","manufacturer":"Microsoft
        Corporation","model":"Virtual Machine","mssqldiscovered":"false"},"agentConfiguration":{}}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/DorothysSurface","name":"DorothysSurface","location":"eastus2euap","tags":{},"identity":{"type":"SystemAssigned","principalId":"4353a0a9-f37e-4979-9bc7-cf328661b146","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"type":"Microsoft.HybridCompute/machines","properties":{"provisioningState":"Succeeded","agentVersion":"1.17.01931.201","status":"Connected","lastStatusChange":"2022-04-28T16:54:49.5798585Z","errorDetails":[],"displayName":"DorothysSurface","machineFqdn":"DorothysSurface","osName":"windows","osVersion":"10.0.19044.1586","osType":"windows","osProfile":{"computerName":"DorothysSurface"},"vmId":"11e86833-2e07-4c37-94d3-3c903b287bf7","vmUuid":"2883CCA3-7EE6-60E9-A204-97718B655D1D","clientPublicKey":"MIIBCgKCAQEAqEd7f6jsvabDyMVf5MbMfxcZ70HQQLIWT7tCiXIJOpuOD6gHNHm/ogbHboP35U471wSVCd1sLlW8dKJLCsz8rBSdUD75xe4nkQl3sMtRQTXN3WwOOp9tipFjToINZC1FklnVfD4E3QOfbvGh/8HnGtXipnWC7dfHOKTwketWTD7rUL2VsPczC9ck6i3DJBRQosEysrhIwpzOzHJSibXMkIXoJWdCKsFrXrK8WC6D1UZNW672E2Hdj1GW2vc5c7+ZUXTgLL2cwfCa8WvPxcoeQNch5HcfmpyZ1vOdok4Nr3dCwZAffH0rQ2Pbd9SOzgMlKTzirksrkXOeXrzADMQt8wIDAQAB","osSku":"Windows
        10 Enterprise","domainName":"WORKGROUP","adFqdn":"DorothysSurface","dnsFqdn":"DorothysSurface","mssqlDiscovered":"false","cloudMetadata":{"provider":"N/A"},"detectedProperties":{"cloudprovider":"N/A","manufacturer":"Microsoft
        Corporation","model":"Surface Book 2","mssqldiscovered":"false"},"agentConfiguration":{"proxyUrl":"","incomingConnectionsPorts":[],"extensionsAllowList":[],"extensionsBlockList":[],"proxyBypass":[],"extensionsEnabled":"true","guestConfigurationEnabled":"true"},"serviceStatuses":{"extensionService":{"status":"running","startupType":"automatic"},"guestConfigurationService":{"status":"running","startupType":"automatic"}}}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3524'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 28 Apr 2022 17:44:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "eastus2euap", "properties": {"publisher": "Microsoft.Compute",
      "type": "CustomScriptExtension", "typeHandlerVersion": "1.10.10", "enableAutomaticUpgrade":
      true, "settings": {"commandToExecute": "hostname"}, "instanceView": {"name":
      "custom-000001"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - connectedmachine extension create
      Connection:
      - keep-alive
      Content-Length:
      - '264'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --location --enable-auto-upgrade --type --publisher --type-handler-version
        --machine-name --resource-group --settings
      User-Agent:
      - AZURECLI/2.32.0 azsdk-python-mgmt-hybridcompute/1.0.0b1 Python/3.10.2 (Windows-10-10.0.19044-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/DorothysSurface/extensions/custom-000001?api-version=2022-03-10
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.HybridCompute/locations/centraluseuap/operationstatus/30bffea3-44ef-4a1d-a3d7-56f7a3518347?api-version=2022-03-10
      cache-control:
      - no-cache
      content-length:
      - '0'
      content-type:
      - application/json
      date:
      - Thu, 28 Apr 2022 17:44:36 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.HybridCompute/locations/centraluseuap/operationresults/30bffea3-44ef-4a1d-a3d7-56f7a3518347?api-version=2022-03-10
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '319'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - connectedmachine extension create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --location --enable-auto-upgrade --type --publisher --type-handler-version
        --machine-name --resource-group --settings
      User-Agent:
      - AZURECLI/2.32.0 azsdk-python-mgmt-hybridcompute/1.0.0b1 Python/3.10.2 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.HybridCompute/locations/centraluseuap/operationstatus/30bffea3-44ef-4a1d-a3d7-56f7a3518347?api-version=2022-03-10
  response:
    body:
      string: '{"name":"30bffea3-44ef-4a1d-a3d7-56f7a3518347","status":"Succeeded","startTime":"2022-04-28T17:44:36.6134675Z","properties":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/DorothysSurface/extensions/custom-000001","name":"custom-000001","location":"eastus2euap","type":"Microsoft.HybridCompute/machines/extensions","properties":{"publisher":"Microsoft.Compute","type":"CustomScriptExtension","typeHandlerVersion":"1.10.10","autoUpgradeMinorVersion":false,"enableAutomaticUpgrade":true,"settings":{"commandToExecute":"hostname"},"provisioningState":"Succeeded","instanceView":{"name":"custom-000001","type":"CustomScriptExtension","typeHandlerVersion":"1.10.10","status":{"code":"success","level":"Information","message":"Extension
        Message: Command execution finished, StdOut: DorothysSurface\r\n"}}}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '882'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 28 Apr 2022 17:49:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - connectedmachine extension create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --location --enable-auto-upgrade --type --publisher --type-handler-version
        --machine-name --resource-group --settings
      User-Agent:
      - AZURECLI/2.32.0 azsdk-python-mgmt-hybridcompute/1.0.0b1 Python/3.10.2 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/DorothysSurface/extensions/custom-000001?api-version=2022-03-10
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/DorothysSurface/extensions/custom-000001","name":"custom-000001","type":"Microsoft.HybridCompute/machines/extensions","location":"eastus2euap","properties":{"publisher":"Microsoft.Compute","type":"CustomScriptExtension","typeHandlerVersion":"1.10.10","autoUpgradeMinorVersion":false,"enableAutomaticUpgrade":true,"settings":{"commandToExecute":"hostname"},"provisioningState":"Succeeded","instanceView":{"name":"custom-000001","type":"CustomScriptExtension","typeHandlerVersion":"1.10.10","status":{"code":"success","level":"Information","message":"Extension
        Message: Command execution finished, StdOut: DorothysSurface\r\n"}}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '757'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 28 Apr 2022 17:49:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - connectedmachine extension list
      Connection:
      - keep-alive
      ParameterSetName:
      - --machine-name -g
      User-Agent:
      - AZURECLI/2.32.0 azsdk-python-mgmt-hybridcompute/1.0.0b1 Python/3.10.2 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/DorothysSurface/extensions?api-version=2022-03-10
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/DorothysSurface/extensions/custom-000001","name":"custom-000001","location":"eastus2euap","type":"Microsoft.HybridCompute/machines/extensions","properties":{"publisher":"Microsoft.Compute","type":"CustomScriptExtension","typeHandlerVersion":"1.10.10","autoUpgradeMinorVersion":false,"enableAutomaticUpgrade":true,"settings":{"commandToExecute":"hostname"},"provisioningState":"Succeeded","instanceView":{"name":"custom-000001","type":"CustomScriptExtension","typeHandlerVersion":"1.10.10","status":{"code":"success","level":"Information","message":"Extension
        Message: Command execution finished, StdOut: DorothysSurface\r\n"}}}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '769'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 28 Apr 2022 17:49:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - connectedmachine extension show
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --machine-name --resource-group
      User-Agent:
      - AZURECLI/2.32.0 azsdk-python-mgmt-hybridcompute/1.0.0b1 Python/3.10.2 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/DorothysSurface/extensions/custom-000001?api-version=2022-03-10
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/DorothysSurface/extensions/custom-000001","name":"custom-000001","type":"Microsoft.HybridCompute/machines/extensions","location":"eastus2euap","properties":{"publisher":"Microsoft.Compute","type":"CustomScriptExtension","typeHandlerVersion":"1.10.10","autoUpgradeMinorVersion":false,"enableAutomaticUpgrade":true,"settings":{"commandToExecute":"hostname"},"provisioningState":"Succeeded","instanceView":{"name":"custom-000001","type":"CustomScriptExtension","typeHandlerVersion":"1.10.10","status":{"code":"success","level":"Information","message":"Extension
        Message: Command execution finished, StdOut: DorothysSurface\r\n"}}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '757'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 28 Apr 2022 17:49:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"extensionTargets": {"Microsoft.Compute.CustomScriptExtension": {"targetVersion":
      "1.10.12"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - connectedmachine upgrade-extension
      Connection:
      - keep-alive
      Content-Length:
      - '95'
      Content-Type:
      - application/json
      ParameterSetName:
      - --extension-targets --machine-name --resource-group
      User-Agent:
      - AZURECLI/2.32.0 azsdk-python-mgmt-hybridcompute/1.0.0b1 Python/3.10.2 (Windows-10-10.0.19044-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/DorothysSurface/upgradeExtensions?api-version=2022-03-10
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.HybridCompute/locations/eastus2euap/operationstatus/0cd33313-7902-4026-af8c-a5b73c87112f?api-version=2022-03-10
      cache-control:
      - no-cache
      content-length:
      - '0'
      content-type:
      - application/json
      date:
      - Thu, 28 Apr 2022 17:49:40 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.HybridCompute/locations/eastus2euap/operationresults/0cd33313-7902-4026-af8c-a5b73c87112f?api-version=2022-03-10
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - connectedmachine upgrade-extension
      Connection:
      - keep-alive
      ParameterSetName:
      - --extension-targets --machine-name --resource-group
      User-Agent:
      - AZURECLI/2.32.0 azsdk-python-mgmt-hybridcompute/1.0.0b1 Python/3.10.2 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.HybridCompute/locations/eastus2euap/operationstatus/0cd33313-7902-4026-af8c-a5b73c87112f?api-version=2022-03-10
  response:
    body:
      string: '{"name":"0cd33313-7902-4026-af8c-a5b73c87112f","status":"Succeeded","startTime":"2022-04-28T17:49:40.353787Z","properties":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/DorothysSurface/extensions/custom-000001","name":"custom-000001","type":"Microsoft.HybridCompute/machines/extensions","location":"eastus2euap","properties":{"publisher":"Microsoft.Compute","type":"CustomScriptExtension","typeHandlerVersion":"1.10.12","autoUpgradeMinorVersion":false,"enableAutomaticUpgrade":false,"settings":{"commandToExecute":"hostname"},"provisioningState":"Succeeded","instanceView":{"name":"custom-000001","type":"CustomScriptExtension","typeHandlerVersion":"1.10.12","status":{"code":"success","level":"Information","message":"Extension
        Message: Command execution finished, StdOut: DorothysSurface\r\n"}}}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '884'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 28 Apr 2022 17:54:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - connectedmachine upgrade-extension
      Connection:
      - keep-alive
      ParameterSetName:
      - --extension-targets --machine-name --resource-group
      User-Agent:
      - AZURECLI/2.32.0 azsdk-python-mgmt-hybridcompute/1.0.0b1 Python/3.10.2 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.HybridCompute/locations/eastus2euap/operationresults/0cd33313-7902-4026-af8c-a5b73c87112f?api-version=2022-03-10
  response:
    body:
      string: '[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/DorothysSurface/extensions/custom-000001","name":"custom-000001","type":"Microsoft.HybridCompute/machines/extensions","location":"eastus2euap","properties":{"publisher":"Microsoft.Compute","type":"CustomScriptExtension","typeHandlerVersion":"1.10.12","autoUpgradeMinorVersion":false,"enableAutomaticUpgrade":false,"settings":{"commandToExecute":"hostname"},"provisioningState":"Succeeded","instanceView":{"name":"custom-000001","type":"CustomScriptExtension","typeHandlerVersion":"1.10.12","status":{"code":"success","level":"Information","message":"Extension
        Message: Command execution finished, StdOut: DorothysSurface\r\n"}}}}]'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '760'
      content-type:
      - application/json
      date:
      - Thu, 28 Apr 2022 17:54:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"settings": {"commandToExecute": "dir"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - connectedmachine extension update
      Connection:
      - keep-alive
      Content-Length:
      - '57'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --settings --machine-name --resource-group
      User-Agent:
      - AZURECLI/2.32.0 azsdk-python-mgmt-hybridcompute/1.0.0b1 Python/3.10.2 (Windows-10-10.0.19044-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/DorothysSurface/extensions/custom-000001?api-version=2022-03-10
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.HybridCompute/locations/centraluseuap/operationstatus/34abe573-ab14-4f3d-ba08-6e2489b5ac03?api-version=2022-03-10
      cache-control:
      - no-cache
      content-length:
      - '0'
      content-type:
      - application/json
      date:
      - Thu, 28 Apr 2022 17:54:42 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.HybridCompute/locations/centraluseuap/operationresults/34abe573-ab14-4f3d-ba08-6e2489b5ac03?api-version=2022-03-10
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '319'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - connectedmachine extension update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --settings --machine-name --resource-group
      User-Agent:
      - AZURECLI/2.32.0 azsdk-python-mgmt-hybridcompute/1.0.0b1 Python/3.10.2 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.HybridCompute/locations/centraluseuap/operationstatus/34abe573-ab14-4f3d-ba08-6e2489b5ac03?api-version=2022-03-10
  response:
    body:
      string: '{"name":"34abe573-ab14-4f3d-ba08-6e2489b5ac03","status":"Succeeded","startTime":"2022-04-28T17:54:42.1294748Z","properties":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/DorothysSurface/extensions/custom-000001","name":"custom-000001","location":"eastus2euap","type":"Microsoft.HybridCompute/machines/extensions","properties":{"publisher":"Microsoft.Compute","type":"CustomScriptExtension","typeHandlerVersion":"1.10.12","autoUpgradeMinorVersion":false,"enableAutomaticUpgrade":false,"settings":{"commandToExecute":"dir"},"provisioningState":"Succeeded","instanceView":{"name":"custom-000001","type":"CustomScriptExtension","typeHandlerVersion":"1.10.12","status":{"code":"success","level":"Information","message":"Extension
        Message: Command execution finished, StdOut:  Volume in drive C has no label.\r\n
        Volume Serial Number is 867D-A9DE\r\n\r\n Directory of C:\\Packages\\Plugins\\Microsoft.Compute.CustomScriptExtension\\1.10.12\\Downloads\\1\r\n\r\n04/28/2022  10:56
        AM    <DIR>          .\r\n04/28/2022  10:56 AM    <DIR>          ..\r\n               0
        File(s)              0 bytes\r\n               2 Dir(s)  297,897,152,512 bytes
        free\r\n"}}}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1237'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 28 Apr 2022 17:59:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - connectedmachine extension update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --settings --machine-name --resource-group
      User-Agent:
      - AZURECLI/2.32.0 azsdk-python-mgmt-hybridcompute/1.0.0b1 Python/3.10.2 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/DorothysSurface/extensions/custom-000001?api-version=2022-03-10
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/DorothysSurface/extensions/custom-000001","name":"custom-000001","type":"Microsoft.HybridCompute/machines/extensions","location":"eastus2euap","properties":{"publisher":"Microsoft.Compute","type":"CustomScriptExtension","typeHandlerVersion":"1.10.12","autoUpgradeMinorVersion":false,"enableAutomaticUpgrade":false,"settings":{"commandToExecute":"dir"},"provisioningState":"Succeeded","instanceView":{"name":"custom-000001","type":"CustomScriptExtension","typeHandlerVersion":"1.10.12","status":{"code":"success","level":"Information","message":"Extension
        Message: Command execution finished, StdOut:  Volume in drive C has no label.\r\n
        Volume Serial Number is 867D-A9DE\r\n\r\n Directory of C:\\Packages\\Plugins\\Microsoft.Compute.CustomScriptExtension\\1.10.12\\Downloads\\1\r\n\r\n04/28/2022  10:56
        AM    <DIR>          .\r\n04/28/2022  10:56 AM    <DIR>          ..\r\n               0
        File(s)              0 bytes\r\n               2 Dir(s)  297,897,152,512 bytes
        free\r\n"}}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1112'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 28 Apr 2022 17:59:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - connectedmachine extension delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -y --name --machine-name --resource-group
      User-Agent:
      - AZURECLI/2.32.0 azsdk-python-mgmt-hybridcompute/1.0.0b1 Python/3.10.2 (Windows-10-10.0.19044-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/DorothysSurface/extensions/custom-000001?api-version=2022-03-10
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.HybridCompute/locations/centraluseuap/operationstatus/dc6c3d4f-e7d6-4e8f-bf78-19bf8f5816ce?api-version=2022-03-10
      cache-control:
      - no-cache
      content-length:
      - '0'
      content-type:
      - application/json
      date:
      - Thu, 28 Apr 2022 17:59:45 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.HybridCompute/locations/centraluseuap/operationresults/dc6c3d4f-e7d6-4e8f-bf78-19bf8f5816ce?api-version=2022-03-10
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - connectedmachine extension delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -y --name --machine-name --resource-group
      User-Agent:
      - AZURECLI/2.32.0 azsdk-python-mgmt-hybridcompute/1.0.0b1 Python/3.10.2 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.HybridCompute/locations/centraluseuap/operationstatus/dc6c3d4f-e7d6-4e8f-bf78-19bf8f5816ce?api-version=2022-03-10
  response:
    body:
      string: '{"name":"dc6c3d4f-e7d6-4e8f-bf78-19bf8f5816ce","status":"Succeeded","startTime":"2022-04-28T17:59:45.0209043Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '111'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 28 Apr 2022 18:04:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - connectedmachine delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -y --name --resource-group
      User-Agent:
      - AZURECLI/2.32.0 azsdk-python-mgmt-hybridcompute/1.0.0b1 Python/3.10.2 (Windows-10-10.0.19044-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-sdk-test/providers/Microsoft.HybridCompute/machines/DorothysSurface?api-version=2022-03-10
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      content-type:
      - application/json
      date:
      - Thu, 28 Apr 2022 18:04:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 200
      message: OK
version: 1
