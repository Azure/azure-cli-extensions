interactions:
- request:
    body: '{"location": "eastus", "properties": {"changeType": "ManualTouch", "rolloutType": "Normal", "changeDefinition": {"kind": "Targets", "name": "changestate002", "details": {"targets": [{"resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rgChangeSafetyScenario/providers/Microsoft.Compute/virtualMachines/myVm", "httpMethod": "PATCH"}]}}}, "tags": null}'
    headers:
      Accept:
      - application/json
      CommandName:
      - changesafety changestate create
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --change-type --rollout-type --targets --stage-map --links --comments
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rgChangeSafetyScenario/providers/Microsoft.ChangeSafety/changeStates/changestate002?api-version=2025-09-01-preview
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rgChangeSafetyScenario/providers/Microsoft.ChangeSafety/changeStates/changestate002", "name": "changestate002", "type": "Microsoft.ChangeSafety/changeStates", "location": "eastus", "properties": {"changeType": "ManualTouch", "rolloutType": "Normal", "comments": "Initial deployment", "changeDefinition": {"kind": "Targets", "name": "changestate002", "details": {"targets": [{"resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rgChangeSafetyScenario/providers/Microsoft.Compute/virtualMachines/myVm", "httpMethod": "PATCH"}]}}}}'
    headers:
      Content-Type:
      - application/json
      Date:
      - Mon, 03 Nov 2025 18:00:00 GMT
    status:
      code: 200
      message: OK
    url: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rgChangeSafetyScenario/providers/Microsoft.ChangeSafety/changeStates/changestate002?api-version=2025-09-01-preview
- request:
    body: '{"properties": {"rolloutType": "Emergency", "comments": "Escalated rollout"}}'
    headers:
      Accept:
      - application/json
      CommandName:
      - changesafety changestate update
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --rollout-type --comments
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rgChangeSafetyScenario/providers/Microsoft.ChangeSafety/changeStates/changestate002?api-version=2025-09-01-preview
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rgChangeSafetyScenario/providers/Microsoft.ChangeSafety/changeStates/changestate002", "name": "changestate002", "type": "Microsoft.ChangeSafety/changeStates", "location": "eastus", "properties": {"changeType": "ManualTouch", "rolloutType": "Emergency", "comments": "Escalated rollout", "changeDefinition": {"kind": "Targets", "name": "changestate002", "details": {"targets": [{"resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rgChangeSafetyScenario/providers/Microsoft.Compute/virtualMachines/myVm", "httpMethod": "PATCH"}]}}}}'
    headers:
      Content-Type:
      - application/json
      Date:
      - Mon, 03 Nov 2025 18:01:00 GMT
    status:
      code: 200
      message: OK
    url: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rgChangeSafetyScenario/providers/Microsoft.ChangeSafety/changeStates/changestate002?api-version=2025-09-01-preview
- request:
    body: ''
    headers:
      Accept:
      - application/json
      CommandName:
      - changesafety changestate show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rgChangeSafetyScenario/providers/Microsoft.ChangeSafety/changeStates/changestate002?api-version=2025-09-01-preview
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rgChangeSafetyScenario/providers/Microsoft.ChangeSafety/changeStates/changestate002", "name": "changestate002", "type": "Microsoft.ChangeSafety/changeStates", "location": "eastus", "properties": {"changeType": "ManualTouch", "rolloutType": "Emergency", "comments": "Escalated rollout", "changeDefinition": {"kind": "Targets", "name": "changestate002", "details": {"targets": [{"resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rgChangeSafetyScenario/providers/Microsoft.Compute/virtualMachines/myVm", "httpMethod": "PATCH"}]}}}}'
    headers:
      Content-Type:
      - application/json
      Date:
      - Mon, 03 Nov 2025 18:02:00 GMT
    status:
      code: 200
      message: OK
    url: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rgChangeSafetyScenario/providers/Microsoft.ChangeSafety/changeStates/changestate002?api-version=2025-09-01-preview
- request:
    body: ''
    headers:
      Accept:
      - application/json
      CommandName:
      - changesafety changestate delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --yes
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rgChangeSafetyScenario/providers/Microsoft.ChangeSafety/changeStates/changestate002?api-version=2025-09-01-preview
  response:
    body:
      string: ''
    headers:
      Content-Type:
      - application/json
      Date:
      - Mon, 03 Nov 2025 18:03:00 GMT
    status:
      code: 204
      message: No Content
    url: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rgChangeSafetyScenario/providers/Microsoft.ChangeSafety/changeStates/changestate002?api-version=2025-09-01-preview
version: 1
