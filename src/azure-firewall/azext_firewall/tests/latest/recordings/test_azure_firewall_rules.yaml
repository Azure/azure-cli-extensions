interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network firewall create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.50.0 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.9 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_azure_firewall_rules000001?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001","name":"cli_test_azure_firewall_rules000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","test":"test_azure_firewall_rules","date":"2023-08-04T08:54:54Z","module":"azure-firewall"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '409'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Aug 2023 08:54:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"additionalProperties": {}, "sku":
      {"tier": "Standard"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network firewall create
      Connection:
      - keep-alive
      Content-Length:
      - '95'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.50.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.9 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"af1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1\"\
        ,\r\n  \"etag\": \"W/\\\"b9753619-b042-403e-933f-c419c0837c1a\\\"\",\r\n \
        \ \"type\": \"Microsoft.Network/azureFirewalls\",\r\n  \"location\": \"westus\"\
        ,\r\n  \"properties\": {\r\n    \"provisioningState\": \"Updating\",\r\n \
        \   \"sku\": {\r\n      \"name\": \"AZFW_VNet\",\r\n      \"tier\": \"Standard\"\
        \r\n    },\r\n    \"threatIntelMode\": \"Alert\",\r\n    \"additionalProperties\"\
        : {},\r\n    \"ipConfigurations\": [],\r\n    \"networkRuleCollections\":\
        \ [],\r\n    \"applicationRuleCollections\": [],\r\n    \"natRuleCollections\"\
        : []\r\n  }\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/1cb9b1d2-9458-4453-bcb4-419909eeddc3?api-version=2022-01-01
      cache-control:
      - no-cache
      content-length:
      - '650'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Aug 2023 08:55:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - f72892bd-6539-446b-8a88-05c3d0d9a970
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network firewall create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.50.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.9 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/1cb9b1d2-9458-4453-bcb4-419909eeddc3?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Aug 2023 08:55:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - bdc8b394-f12a-4940-9c34-99e422d3fa0d
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network firewall create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.50.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.9 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"af1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1\"\
        ,\r\n  \"etag\": \"W/\\\"d84d5d62-2512-4f28-9aa4-69c4312bcf62\\\"\",\r\n \
        \ \"type\": \"Microsoft.Network/azureFirewalls\",\r\n  \"location\": \"westus\"\
        ,\r\n  \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n\
        \    \"sku\": {\r\n      \"name\": \"AZFW_VNet\",\r\n      \"tier\": \"Standard\"\
        \r\n    },\r\n    \"threatIntelMode\": \"Alert\",\r\n    \"additionalProperties\"\
        : {},\r\n    \"ipConfigurations\": [],\r\n    \"networkRuleCollections\":\
        \ [],\r\n    \"applicationRuleCollections\": [],\r\n    \"natRuleCollections\"\
        : []\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '651'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Aug 2023 08:55:01 GMT
      etag:
      - W/"d84d5d62-2512-4f28-9aa4-69c4312bcf62"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - e52b83d8-2c6a-4880-8f80-47b99477844c
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network firewall network-rule create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n -c --priority --action -f --source-addresses --protocols --destination-fqdns
        --destination-ports
      User-Agent:
      - AZURECLI/2.50.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.10.9 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1?api-version=2021-08-01
  response:
    body:
      string: "{\r\n  \"name\": \"af1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1\"\
        ,\r\n  \"etag\": \"W/\\\"d84d5d62-2512-4f28-9aa4-69c4312bcf62\\\"\",\r\n \
        \ \"type\": \"Microsoft.Network/azureFirewalls\",\r\n  \"location\": \"westus\"\
        ,\r\n  \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n\
        \    \"sku\": {\r\n      \"name\": \"AZFW_VNet\",\r\n      \"tier\": \"Standard\"\
        \r\n    },\r\n    \"threatIntelMode\": \"Alert\",\r\n    \"additionalProperties\"\
        : {},\r\n    \"ipConfigurations\": [],\r\n    \"networkRuleCollections\":\
        \ [],\r\n    \"applicationRuleCollections\": [],\r\n    \"natRuleCollections\"\
        : []\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '651'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Aug 2023 08:55:02 GMT
      etag:
      - W/"d84d5d62-2512-4f28-9aa4-69c4312bcf62"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 870272a3-d36e-4780-b8a1-2e7be218036a
    status:
      code: 200
      message: OK
- request:
    body: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1",
      "location": "westus", "properties": {"applicationRuleCollections": [], "natRuleCollections":
      [], "networkRuleCollections": [{"name": "rc1", "properties": {"priority": 10000,
      "action": {"type": "Allow"}, "rules": [{"name": "network-rule1", "protocols":
      ["UDP", "TCP", "ICMP"], "sourceAddresses": ["10.0.0.0", "111.1.0.0/24"], "destinationPorts":
      ["80"], "destinationFqdns": ["www.bing.com"]}]}}], "ipConfigurations": [], "threatIntelMode":
      "Alert", "sku": {"name": "AZFW_VNet", "tier": "Standard"}, "additionalProperties":
      {}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network firewall network-rule create
      Connection:
      - keep-alive
      Content-Length:
      - '686'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n -c --priority --action -f --source-addresses --protocols --destination-fqdns
        --destination-ports
      User-Agent:
      - AZURECLI/2.50.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.10.9 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1?api-version=2021-08-01
  response:
    body:
      string: "{\r\n  \"name\": \"af1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1\"\
        ,\r\n  \"etag\": \"W/\\\"215b95b1-420f-4557-a2ef-359aa3fe2932\\\"\",\r\n \
        \ \"type\": \"Microsoft.Network/azureFirewalls\",\r\n  \"location\": \"westus\"\
        ,\r\n  \"properties\": {\r\n    \"provisioningState\": \"Updating\",\r\n \
        \   \"sku\": {\r\n      \"name\": \"AZFW_VNet\",\r\n      \"tier\": \"Standard\"\
        \r\n    },\r\n    \"threatIntelMode\": \"Alert\",\r\n    \"additionalProperties\"\
        : {},\r\n    \"ipConfigurations\": [],\r\n    \"networkRuleCollections\":\
        \ [\r\n      {\r\n        \"name\": \"rc1\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1/networkRuleCollections/rc1\"\
        ,\r\n        \"etag\": \"W/\\\"215b95b1-420f-4557-a2ef-359aa3fe2932\\\"\"\
        ,\r\n        \"properties\": {\r\n          \"provisioningState\": \"Updating\"\
        ,\r\n          \"priority\": 10000,\r\n          \"action\": {\r\n       \
        \     \"type\": \"Allow\"\r\n          },\r\n          \"rules\": [\r\n  \
        \          {\r\n              \"name\": \"network-rule1\",\r\n           \
        \   \"protocols\": [\r\n                \"UDP\",\r\n                \"TCP\"\
        ,\r\n                \"ICMP\"\r\n              ],\r\n              \"sourceAddresses\"\
        : [\r\n                \"10.0.0.0\",\r\n                \"111.1.0.0/24\"\r\
        \n              ],\r\n              \"destinationAddresses\": [],\r\n    \
        \          \"sourceIpGroups\": [],\r\n              \"destinationIpGroups\"\
        : [],\r\n              \"destinationFqdns\": [\r\n                \"www.bing.com\"\
        \r\n              ],\r\n              \"destinationPorts\": [\r\n        \
        \        \"80\"\r\n              ]\r\n            }\r\n          ]\r\n   \
        \     },\r\n        \"type\": \"Microsoft.Network/azureFirewalls/networkRuleCollections\"\
        \r\n      }\r\n    ],\r\n    \"applicationRuleCollections\": [],\r\n    \"\
        natRuleCollections\": []\r\n  }\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/54a0bb69-9d3a-42af-8138-e1179cf5d194?api-version=2021-08-01
      cache-control:
      - no-cache
      content-length:
      - '1833'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Aug 2023 08:55:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - ab0fde97-daa8-4216-804e-9643ac675f65
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network firewall network-rule create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n -c --priority --action -f --source-addresses --protocols --destination-fqdns
        --destination-ports
      User-Agent:
      - AZURECLI/2.50.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.10.9 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/54a0bb69-9d3a-42af-8138-e1179cf5d194?api-version=2021-08-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Aug 2023 08:55:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - fea02616-07c4-4b86-b128-27dfb42fec7d
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network firewall network-rule create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n -c --priority --action -f --source-addresses --protocols --destination-fqdns
        --destination-ports
      User-Agent:
      - AZURECLI/2.50.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.10.9 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1?api-version=2021-08-01
  response:
    body:
      string: "{\r\n  \"name\": \"af1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1\"\
        ,\r\n  \"etag\": \"W/\\\"2089d6af-9067-4fe6-be25-b1059e8ccf12\\\"\",\r\n \
        \ \"type\": \"Microsoft.Network/azureFirewalls\",\r\n  \"location\": \"westus\"\
        ,\r\n  \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n\
        \    \"sku\": {\r\n      \"name\": \"AZFW_VNet\",\r\n      \"tier\": \"Standard\"\
        \r\n    },\r\n    \"threatIntelMode\": \"Alert\",\r\n    \"additionalProperties\"\
        : {},\r\n    \"ipConfigurations\": [],\r\n    \"networkRuleCollections\":\
        \ [\r\n      {\r\n        \"name\": \"rc1\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1/networkRuleCollections/rc1\"\
        ,\r\n        \"etag\": \"W/\\\"2089d6af-9067-4fe6-be25-b1059e8ccf12\\\"\"\
        ,\r\n        \"properties\": {\r\n          \"provisioningState\": \"Succeeded\"\
        ,\r\n          \"priority\": 10000,\r\n          \"action\": {\r\n       \
        \     \"type\": \"Allow\"\r\n          },\r\n          \"rules\": [\r\n  \
        \          {\r\n              \"name\": \"network-rule1\",\r\n           \
        \   \"protocols\": [\r\n                \"UDP\",\r\n                \"TCP\"\
        ,\r\n                \"ICMP\"\r\n              ],\r\n              \"sourceAddresses\"\
        : [\r\n                \"10.0.0.0\",\r\n                \"111.1.0.0/24\"\r\
        \n              ],\r\n              \"destinationAddresses\": [],\r\n    \
        \          \"sourceIpGroups\": [],\r\n              \"destinationIpGroups\"\
        : [],\r\n              \"destinationFqdns\": [\r\n                \"www.bing.com\"\
        \r\n              ],\r\n              \"destinationPorts\": [\r\n        \
        \        \"80\"\r\n              ]\r\n            }\r\n          ]\r\n   \
        \     },\r\n        \"type\": \"Microsoft.Network/azureFirewalls/networkRuleCollections\"\
        \r\n      }\r\n    ],\r\n    \"applicationRuleCollections\": [],\r\n    \"\
        natRuleCollections\": []\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1835'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Aug 2023 08:55:04 GMT
      etag:
      - W/"2089d6af-9067-4fe6-be25-b1059e8ccf12"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 2ee7a54a-0b2d-4ce4-9009-e4894ccab28a
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network firewall nat-rule create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n -c --priority --action -f --source-addresses --protocols --translated-fqdn
        --destination-ports --destination-addresses --translated-port
      User-Agent:
      - AZURECLI/2.50.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.10.9 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1?api-version=2021-08-01
  response:
    body:
      string: "{\r\n  \"name\": \"af1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1\"\
        ,\r\n  \"etag\": \"W/\\\"2089d6af-9067-4fe6-be25-b1059e8ccf12\\\"\",\r\n \
        \ \"type\": \"Microsoft.Network/azureFirewalls\",\r\n  \"location\": \"westus\"\
        ,\r\n  \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n\
        \    \"sku\": {\r\n      \"name\": \"AZFW_VNet\",\r\n      \"tier\": \"Standard\"\
        \r\n    },\r\n    \"threatIntelMode\": \"Alert\",\r\n    \"additionalProperties\"\
        : {},\r\n    \"ipConfigurations\": [],\r\n    \"networkRuleCollections\":\
        \ [\r\n      {\r\n        \"name\": \"rc1\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1/networkRuleCollections/rc1\"\
        ,\r\n        \"etag\": \"W/\\\"2089d6af-9067-4fe6-be25-b1059e8ccf12\\\"\"\
        ,\r\n        \"properties\": {\r\n          \"provisioningState\": \"Succeeded\"\
        ,\r\n          \"priority\": 10000,\r\n          \"action\": {\r\n       \
        \     \"type\": \"Allow\"\r\n          },\r\n          \"rules\": [\r\n  \
        \          {\r\n              \"name\": \"network-rule1\",\r\n           \
        \   \"protocols\": [\r\n                \"UDP\",\r\n                \"TCP\"\
        ,\r\n                \"ICMP\"\r\n              ],\r\n              \"sourceAddresses\"\
        : [\r\n                \"10.0.0.0\",\r\n                \"111.1.0.0/24\"\r\
        \n              ],\r\n              \"destinationAddresses\": [],\r\n    \
        \          \"sourceIpGroups\": [],\r\n              \"destinationIpGroups\"\
        : [],\r\n              \"destinationFqdns\": [\r\n                \"www.bing.com\"\
        \r\n              ],\r\n              \"destinationPorts\": [\r\n        \
        \        \"80\"\r\n              ]\r\n            }\r\n          ]\r\n   \
        \     },\r\n        \"type\": \"Microsoft.Network/azureFirewalls/networkRuleCollections\"\
        \r\n      }\r\n    ],\r\n    \"applicationRuleCollections\": [],\r\n    \"\
        natRuleCollections\": []\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1835'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Aug 2023 08:55:05 GMT
      etag:
      - W/"2089d6af-9067-4fe6-be25-b1059e8ccf12"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - e2ead7a4-c441-43b5-af90-1c5a0d1e6d06
    status:
      code: 200
      message: OK
- request:
    body: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1",
      "location": "westus", "properties": {"applicationRuleCollections": [], "natRuleCollections":
      [{"name": "rc2", "properties": {"priority": 10001, "action": {"type": "Dnat"},
      "rules": [{"name": "network-rule1", "sourceAddresses": ["10.0.0.0", "111.1.0.0/24"],
      "destinationAddresses": ["12.36.22.14"], "destinationPorts": ["96"], "protocols":
      ["UDP", "TCP"], "translatedPort": "95", "translatedFqdn": "server1.internal.com"}]}}],
      "networkRuleCollections": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1/networkRuleCollections/rc1",
      "name": "rc1", "properties": {"priority": 10000, "action": {"type": "Allow"},
      "rules": [{"name": "network-rule1", "protocols": ["UDP", "TCP", "ICMP"], "sourceAddresses":
      ["10.0.0.0", "111.1.0.0/24"], "destinationAddresses": [], "destinationPorts":
      ["80"], "destinationFqdns": ["www.bing.com"], "sourceIpGroups": [], "destinationIpGroups":
      []}]}}], "ipConfigurations": [], "threatIntelMode": "Alert", "sku": {"name":
      "AZFW_VNet", "tier": "Standard"}, "additionalProperties": {}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network firewall nat-rule create
      Connection:
      - keep-alive
      Content-Length:
      - '1278'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n -c --priority --action -f --source-addresses --protocols --translated-fqdn
        --destination-ports --destination-addresses --translated-port
      User-Agent:
      - AZURECLI/2.50.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.10.9 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1?api-version=2021-08-01
  response:
    body:
      string: "{\r\n  \"name\": \"af1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1\"\
        ,\r\n  \"etag\": \"W/\\\"e02d83da-b694-492d-806f-722fcc79b544\\\"\",\r\n \
        \ \"type\": \"Microsoft.Network/azureFirewalls\",\r\n  \"location\": \"westus\"\
        ,\r\n  \"properties\": {\r\n    \"provisioningState\": \"Updating\",\r\n \
        \   \"sku\": {\r\n      \"name\": \"AZFW_VNet\",\r\n      \"tier\": \"Standard\"\
        \r\n    },\r\n    \"threatIntelMode\": \"Alert\",\r\n    \"additionalProperties\"\
        : {},\r\n    \"ipConfigurations\": [],\r\n    \"networkRuleCollections\":\
        \ [\r\n      {\r\n        \"name\": \"rc1\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1/networkRuleCollections/rc1\"\
        ,\r\n        \"etag\": \"W/\\\"e02d83da-b694-492d-806f-722fcc79b544\\\"\"\
        ,\r\n        \"properties\": {\r\n          \"provisioningState\": \"Updating\"\
        ,\r\n          \"priority\": 10000,\r\n          \"action\": {\r\n       \
        \     \"type\": \"Allow\"\r\n          },\r\n          \"rules\": [\r\n  \
        \          {\r\n              \"name\": \"network-rule1\",\r\n           \
        \   \"protocols\": [\r\n                \"UDP\",\r\n                \"TCP\"\
        ,\r\n                \"ICMP\"\r\n              ],\r\n              \"sourceAddresses\"\
        : [\r\n                \"10.0.0.0\",\r\n                \"111.1.0.0/24\"\r\
        \n              ],\r\n              \"destinationAddresses\": [],\r\n    \
        \          \"sourceIpGroups\": [],\r\n              \"destinationIpGroups\"\
        : [],\r\n              \"destinationFqdns\": [\r\n                \"www.bing.com\"\
        \r\n              ],\r\n              \"destinationPorts\": [\r\n        \
        \        \"80\"\r\n              ]\r\n            }\r\n          ]\r\n   \
        \     },\r\n        \"type\": \"Microsoft.Network/azureFirewalls/networkRuleCollections\"\
        \r\n      }\r\n    ],\r\n    \"applicationRuleCollections\": [],\r\n    \"\
        natRuleCollections\": [\r\n      {\r\n        \"name\": \"rc2\",\r\n     \
        \   \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1/natRuleCollections/rc2\"\
        ,\r\n        \"etag\": \"W/\\\"e02d83da-b694-492d-806f-722fcc79b544\\\"\"\
        ,\r\n        \"properties\": {\r\n          \"provisioningState\": \"Updating\"\
        ,\r\n          \"priority\": 10001,\r\n          \"action\": {\r\n       \
        \     \"type\": \"Dnat\"\r\n          },\r\n          \"rules\": [\r\n   \
        \         {\r\n              \"name\": \"network-rule1\",\r\n            \
        \  \"protocols\": [\r\n                \"UDP\",\r\n                \"TCP\"\
        \r\n              ],\r\n              \"translatedFqdn\": \"server1.internal.com\"\
        ,\r\n              \"translatedPort\": \"95\",\r\n              \"sourceAddresses\"\
        : [\r\n                \"10.0.0.0\",\r\n                \"111.1.0.0/24\"\r\
        \n              ],\r\n              \"sourceIpGroups\": [],\r\n          \
        \    \"destinationAddresses\": [\r\n                \"12.36.22.14\"\r\n  \
        \            ],\r\n              \"destinationPorts\": [\r\n             \
        \   \"96\"\r\n              ]\r\n            }\r\n          ]\r\n        },\r\
        \n        \"type\": \"Microsoft.Network/azureFirewalls/natRuleCollections\"\
        \r\n      }\r\n    ]\r\n  }\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/0836acf5-98f8-4e63-98d4-76ad69c5cd67?api-version=2021-08-01
      cache-control:
      - no-cache
      content-length:
      - '2996'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Aug 2023 08:55:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - bfcbb449-5a90-412c-a82d-ec2b3d80faef
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network firewall nat-rule create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n -c --priority --action -f --source-addresses --protocols --translated-fqdn
        --destination-ports --destination-addresses --translated-port
      User-Agent:
      - AZURECLI/2.50.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.10.9 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/0836acf5-98f8-4e63-98d4-76ad69c5cd67?api-version=2021-08-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Aug 2023 08:55:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 5e2b403b-0896-42ec-8c68-87ff306c31f5
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network firewall nat-rule create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n -c --priority --action -f --source-addresses --protocols --translated-fqdn
        --destination-ports --destination-addresses --translated-port
      User-Agent:
      - AZURECLI/2.50.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.10.9 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1?api-version=2021-08-01
  response:
    body:
      string: "{\r\n  \"name\": \"af1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1\"\
        ,\r\n  \"etag\": \"W/\\\"b23cd0cc-b985-479c-bd10-21ef90a60447\\\"\",\r\n \
        \ \"type\": \"Microsoft.Network/azureFirewalls\",\r\n  \"location\": \"westus\"\
        ,\r\n  \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n\
        \    \"sku\": {\r\n      \"name\": \"AZFW_VNet\",\r\n      \"tier\": \"Standard\"\
        \r\n    },\r\n    \"threatIntelMode\": \"Alert\",\r\n    \"additionalProperties\"\
        : {},\r\n    \"ipConfigurations\": [],\r\n    \"networkRuleCollections\":\
        \ [\r\n      {\r\n        \"name\": \"rc1\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1/networkRuleCollections/rc1\"\
        ,\r\n        \"etag\": \"W/\\\"b23cd0cc-b985-479c-bd10-21ef90a60447\\\"\"\
        ,\r\n        \"properties\": {\r\n          \"provisioningState\": \"Succeeded\"\
        ,\r\n          \"priority\": 10000,\r\n          \"action\": {\r\n       \
        \     \"type\": \"Allow\"\r\n          },\r\n          \"rules\": [\r\n  \
        \          {\r\n              \"name\": \"network-rule1\",\r\n           \
        \   \"protocols\": [\r\n                \"UDP\",\r\n                \"TCP\"\
        ,\r\n                \"ICMP\"\r\n              ],\r\n              \"sourceAddresses\"\
        : [\r\n                \"10.0.0.0\",\r\n                \"111.1.0.0/24\"\r\
        \n              ],\r\n              \"destinationAddresses\": [],\r\n    \
        \          \"sourceIpGroups\": [],\r\n              \"destinationIpGroups\"\
        : [],\r\n              \"destinationFqdns\": [\r\n                \"www.bing.com\"\
        \r\n              ],\r\n              \"destinationPorts\": [\r\n        \
        \        \"80\"\r\n              ]\r\n            }\r\n          ]\r\n   \
        \     },\r\n        \"type\": \"Microsoft.Network/azureFirewalls/networkRuleCollections\"\
        \r\n      }\r\n    ],\r\n    \"applicationRuleCollections\": [],\r\n    \"\
        natRuleCollections\": [\r\n      {\r\n        \"name\": \"rc2\",\r\n     \
        \   \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1/natRuleCollections/rc2\"\
        ,\r\n        \"etag\": \"W/\\\"b23cd0cc-b985-479c-bd10-21ef90a60447\\\"\"\
        ,\r\n        \"properties\": {\r\n          \"provisioningState\": \"Succeeded\"\
        ,\r\n          \"priority\": 10001,\r\n          \"action\": {\r\n       \
        \     \"type\": \"Dnat\"\r\n          },\r\n          \"rules\": [\r\n   \
        \         {\r\n              \"name\": \"network-rule1\",\r\n            \
        \  \"protocols\": [\r\n                \"UDP\",\r\n                \"TCP\"\
        \r\n              ],\r\n              \"translatedFqdn\": \"server1.internal.com\"\
        ,\r\n              \"translatedPort\": \"95\",\r\n              \"sourceAddresses\"\
        : [\r\n                \"10.0.0.0\",\r\n                \"111.1.0.0/24\"\r\
        \n              ],\r\n              \"sourceIpGroups\": [],\r\n          \
        \    \"destinationAddresses\": [\r\n                \"12.36.22.14\"\r\n  \
        \            ],\r\n              \"destinationPorts\": [\r\n             \
        \   \"96\"\r\n              ]\r\n            }\r\n          ]\r\n        },\r\
        \n        \"type\": \"Microsoft.Network/azureFirewalls/natRuleCollections\"\
        \r\n      }\r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2999'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Aug 2023 08:55:06 GMT
      etag:
      - W/"b23cd0cc-b985-479c-bd10-21ef90a60447"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 2cd12b11-28bf-4cd4-9ed9-bf94d7ae8080
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network firewall delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.50.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.9 (Windows-10-10.0.22621-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_azure_firewall_rules000001/providers/Microsoft.Network/azureFirewalls/af1?api-version=2022-01-01
  response:
    body:
      string: ''
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/5bb0dc6e-d61a-455c-af74-e107f001b129?api-version=2022-01-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Fri, 04 Aug 2023 08:55:07 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operationResults/5bb0dc6e-d61a-455c-af74-e107f001b129?api-version=2022-01-01
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - f0a1c91b-c5f1-4f18-9833-912898f8fecb
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network firewall delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.50.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.9 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/5bb0dc6e-d61a-455c-af74-e107f001b129?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Aug 2023 08:55:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - ffd934cb-282b-49ba-90d2-4437bf3a2e38
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network firewall delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.50.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.9 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operationResults/5bb0dc6e-d61a-455c-af74-e107f001b129?api-version=2022-01-01
  response:
    body:
      string: ''
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/5bb0dc6e-d61a-455c-af74-e107f001b129?api-version=2022-01-01
      cache-control:
      - no-cache
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Aug 2023 08:55:08 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operationResults/5bb0dc6e-d61a-455c-af74-e107f001b129?api-version=2022-01-01
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - f0a1c91b-c5f1-4f18-9833-912898f8fecb
    status:
      code: 204
      message: No Content
version: 1
